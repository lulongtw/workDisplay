(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))s(i);new MutationObserver(i=>{for(const r of i)if(r.type==="childList")for(const o of r.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&s(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const r={};return i.integrity&&(r.integrity=i.integrity),i.referrerPolicy&&(r.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?r.credentials="include":i.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function s(i){if(i.ep)return;i.ep=!0;const r=n(i);fetch(i.href,r)}})();/**
* @vue/shared v3.4.15
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/function Ja(t,e){const n=new Set(t.split(","));return e?s=>n.has(s.toLowerCase()):s=>n.has(s)}const ae={},is=[],ze=()=>{},pg=()=>!1,kr=t=>t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&(t.charCodeAt(2)>122||t.charCodeAt(2)<97),Za=t=>t.startsWith("onUpdate:"),Ie=Object.assign,el=(t,e)=>{const n=t.indexOf(e);n>-1&&t.splice(n,1)},_g=Object.prototype.hasOwnProperty,z=(t,e)=>_g.call(t,e),V=Array.isArray,rs=t=>$r(t)==="[object Map]",ef=t=>$r(t)==="[object Set]",H=t=>typeof t=="function",_e=t=>typeof t=="string",Ns=t=>typeof t=="symbol",ce=t=>t!==null&&typeof t=="object",tf=t=>(ce(t)||H(t))&&H(t.then)&&H(t.catch),nf=Object.prototype.toString,$r=t=>nf.call(t),gg=t=>$r(t).slice(8,-1),sf=t=>$r(t)==="[object Object]",tl=t=>_e(t)&&t!=="NaN"&&t[0]!=="-"&&""+parseInt(t,10)===t,Xi=Ja(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),Fr=t=>{const e=Object.create(null);return n=>e[n]||(e[n]=t(n))},mg=/-(\w)/g,ds=Fr(t=>t.replace(mg,(e,n)=>n?n.toUpperCase():"")),vg=/\B([A-Z])/g,Os=Fr(t=>t.replace(vg,"-$1").toLowerCase()),rf=Fr(t=>t.charAt(0).toUpperCase()+t.slice(1)),vo=Fr(t=>t?`on${rf(t)}`:""),Zt=(t,e)=>!Object.is(t,e),Ji=(t,e)=>{for(let n=0;n<t.length;n++)t[n](e)},or=(t,e,n)=>{Object.defineProperty(t,e,{configurable:!0,enumerable:!1,value:n})},oa=t=>{const e=parseFloat(t);return isNaN(e)?t:e};let Rc;const of=()=>Rc||(Rc=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function nl(t){if(V(t)){const e={};for(let n=0;n<t.length;n++){const s=t[n],i=_e(s)?Cg(s):nl(s);if(i)for(const r in i)e[r]=i[r]}return e}else if(_e(t)||ce(t))return t}const Eg=/;(?![^(]*\))/g,yg=/:([^]+)/,bg=/\/\*[^]*?\*\//g;function Cg(t){const e={};return t.replace(bg,"").split(Eg).forEach(n=>{if(n){const s=n.split(yg);s.length>1&&(e[s[0].trim()]=s[1].trim())}}),e}function Vr(t){let e="";if(_e(t))e=t;else if(V(t))for(let n=0;n<t.length;n++){const s=Vr(t[n]);s&&(e+=s+" ")}else if(ce(t))for(const n in t)t[n]&&(e+=n+" ");return e.trim()}const wg="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",Tg=Ja(wg);function af(t){return!!t||t===""}const Hs=t=>_e(t)?t:t==null?"":V(t)||ce(t)&&(t.toString===nf||!H(t.toString))?JSON.stringify(t,lf,2):String(t),lf=(t,e)=>e&&e.__v_isRef?lf(t,e.value):rs(e)?{[`Map(${e.size})`]:[...e.entries()].reduce((n,[s,i],r)=>(n[Eo(s,r)+" =>"]=i,n),{})}:ef(e)?{[`Set(${e.size})`]:[...e.values()].map(n=>Eo(n))}:Ns(e)?Eo(e):ce(e)&&!V(e)&&!sf(e)?String(e):e,Eo=(t,e="")=>{var n;return Ns(t)?`Symbol(${(n=t.description)!=null?n:e})`:t};/**
* @vue/reactivity v3.4.15
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let st;class cf{constructor(e=!1){this.detached=e,this._active=!0,this.effects=[],this.cleanups=[],this.parent=st,!e&&st&&(this.index=(st.scopes||(st.scopes=[])).push(this)-1)}get active(){return this._active}run(e){if(this._active){const n=st;try{return st=this,e()}finally{st=n}}}on(){st=this}off(){st=this.parent}stop(e){if(this._active){let n,s;for(n=0,s=this.effects.length;n<s;n++)this.effects[n].stop();for(n=0,s=this.cleanups.length;n<s;n++)this.cleanups[n]();if(this.scopes)for(n=0,s=this.scopes.length;n<s;n++)this.scopes[n].stop(!0);if(!this.detached&&this.parent&&!e){const i=this.parent.scopes.pop();i&&i!==this&&(this.parent.scopes[this.index]=i,i.index=this.index)}this.parent=void 0,this._active=!1}}}function Ig(t){return new cf(t)}function Sg(t,e=st){e&&e.active&&e.effects.push(t)}function Ag(){return st}let In;class sl{constructor(e,n,s,i){this.fn=e,this.trigger=n,this.scheduler=s,this.active=!0,this.deps=[],this._dirtyLevel=2,this._trackId=0,this._runnings=0,this._shouldSchedule=!1,this._depsLength=0,Sg(this,i)}get dirty(){if(this._dirtyLevel===1){Fn();for(let e=0;e<this._depsLength;e++){const n=this.deps[e];if(n.computed&&(Ng(n.computed),this._dirtyLevel>=2))break}this._dirtyLevel<2&&(this._dirtyLevel=0),Vn()}return this._dirtyLevel>=2}set dirty(e){this._dirtyLevel=e?2:0}run(){if(this._dirtyLevel=0,!this.active)return this.fn();let e=qt,n=In;try{return qt=!0,In=this,this._runnings++,Dc(this),this.fn()}finally{xc(this),this._runnings--,In=n,qt=e}}stop(){var e;this.active&&(Dc(this),xc(this),(e=this.onStop)==null||e.call(this),this.active=!1)}}function Ng(t){return t.value}function Dc(t){t._trackId++,t._depsLength=0}function xc(t){if(t.deps&&t.deps.length>t._depsLength){for(let e=t._depsLength;e<t.deps.length;e++)uf(t.deps[e],t);t.deps.length=t._depsLength}}function uf(t,e){const n=t.get(e);n!==void 0&&e._trackId!==n&&(t.delete(e),t.size===0&&t.cleanup())}let qt=!0,aa=0;const hf=[];function Fn(){hf.push(qt),qt=!1}function Vn(){const t=hf.pop();qt=t===void 0?!0:t}function il(){aa++}function rl(){for(aa--;!aa&&la.length;)la.shift()()}function ff(t,e,n){if(e.get(t)!==t._trackId){e.set(t,t._trackId);const s=t.deps[t._depsLength];s!==e?(s&&uf(s,t),t.deps[t._depsLength++]=e):t._depsLength++}}const la=[];function df(t,e,n){il();for(const s of t.keys())if(s._dirtyLevel<e&&t.get(s)===s._trackId){const i=s._dirtyLevel;s._dirtyLevel=e,i===0&&(s._shouldSchedule=!0,s.trigger())}pf(t),rl()}function pf(t){for(const e of t.keys())e.scheduler&&e._shouldSchedule&&(!e._runnings||e.allowRecurse)&&t.get(e)===e._trackId&&(e._shouldSchedule=!1,la.push(e.scheduler))}const _f=(t,e)=>{const n=new Map;return n.cleanup=t,n.computed=e,n},ca=new WeakMap,Sn=Symbol(""),ua=Symbol("");function Ve(t,e,n){if(qt&&In){let s=ca.get(t);s||ca.set(t,s=new Map);let i=s.get(n);i||s.set(n,i=_f(()=>s.delete(n))),ff(In,i)}}function At(t,e,n,s,i,r){const o=ca.get(t);if(!o)return;let a=[];if(e==="clear")a=[...o.values()];else if(n==="length"&&V(t)){const l=Number(s);o.forEach((c,u)=>{(u==="length"||!Ns(u)&&u>=l)&&a.push(c)})}else switch(n!==void 0&&a.push(o.get(n)),e){case"add":V(t)?tl(n)&&a.push(o.get("length")):(a.push(o.get(Sn)),rs(t)&&a.push(o.get(ua)));break;case"delete":V(t)||(a.push(o.get(Sn)),rs(t)&&a.push(o.get(ua)));break;case"set":rs(t)&&a.push(o.get(Sn));break}il();for(const l of a)l&&df(l,2);rl()}const Og=Ja("__proto__,__v_isRef,__isVue"),gf=new Set(Object.getOwnPropertyNames(Symbol).filter(t=>t!=="arguments"&&t!=="caller").map(t=>Symbol[t]).filter(Ns)),Pc=Rg();function Rg(){const t={};return["includes","indexOf","lastIndexOf"].forEach(e=>{t[e]=function(...n){const s=Z(this);for(let r=0,o=this.length;r<o;r++)Ve(s,"get",r+"");const i=s[e](...n);return i===-1||i===!1?s[e](...n.map(Z)):i}}),["push","pop","shift","unshift","splice"].forEach(e=>{t[e]=function(...n){Fn(),il();const s=Z(this)[e].apply(this,n);return rl(),Vn(),s}}),t}function Dg(t){const e=Z(this);return Ve(e,"has",t),e.hasOwnProperty(t)}class mf{constructor(e=!1,n=!1){this._isReadonly=e,this._shallow=n}get(e,n,s){const i=this._isReadonly,r=this._shallow;if(n==="__v_isReactive")return!i;if(n==="__v_isReadonly")return i;if(n==="__v_isShallow")return r;if(n==="__v_raw")return s===(i?r?Ug:bf:r?yf:Ef).get(e)||Object.getPrototypeOf(e)===Object.getPrototypeOf(s)?e:void 0;const o=V(e);if(!i){if(o&&z(Pc,n))return Reflect.get(Pc,n,s);if(n==="hasOwnProperty")return Dg}const a=Reflect.get(e,n,s);return(Ns(n)?gf.has(n):Og(n))||(i||Ve(e,"get",n),r)?a:Se(a)?o&&tl(n)?a:a.value:ce(a)?i?Cf(a):Hr(a):a}}class vf extends mf{constructor(e=!1){super(!1,e)}set(e,n,s,i){let r=e[n];if(!this._shallow){const l=ps(r);if(!ar(s)&&!ps(s)&&(r=Z(r),s=Z(s)),!V(e)&&Se(r)&&!Se(s))return l?!1:(r.value=s,!0)}const o=V(e)&&tl(n)?Number(n)<e.length:z(e,n),a=Reflect.set(e,n,s,i);return e===Z(i)&&(o?Zt(s,r)&&At(e,"set",n,s):At(e,"add",n,s)),a}deleteProperty(e,n){const s=z(e,n);e[n];const i=Reflect.deleteProperty(e,n);return i&&s&&At(e,"delete",n,void 0),i}has(e,n){const s=Reflect.has(e,n);return(!Ns(n)||!gf.has(n))&&Ve(e,"has",n),s}ownKeys(e){return Ve(e,"iterate",V(e)?"length":Sn),Reflect.ownKeys(e)}}class xg extends mf{constructor(e=!1){super(!0,e)}set(e,n){return!0}deleteProperty(e,n){return!0}}const Pg=new vf,Lg=new xg,Mg=new vf(!0),ol=t=>t,Br=t=>Reflect.getPrototypeOf(t);function Li(t,e,n=!1,s=!1){t=t.__v_raw;const i=Z(t),r=Z(e);n||(Zt(e,r)&&Ve(i,"get",e),Ve(i,"get",r));const{has:o}=Br(i),a=s?ol:n?cl:ai;if(o.call(i,e))return a(t.get(e));if(o.call(i,r))return a(t.get(r));t!==i&&t.get(e)}function Mi(t,e=!1){const n=this.__v_raw,s=Z(n),i=Z(t);return e||(Zt(t,i)&&Ve(s,"has",t),Ve(s,"has",i)),t===i?n.has(t):n.has(t)||n.has(i)}function ki(t,e=!1){return t=t.__v_raw,!e&&Ve(Z(t),"iterate",Sn),Reflect.get(t,"size",t)}function Lc(t){t=Z(t);const e=Z(this);return Br(e).has.call(e,t)||(e.add(t),At(e,"add",t,t)),this}function Mc(t,e){e=Z(e);const n=Z(this),{has:s,get:i}=Br(n);let r=s.call(n,t);r||(t=Z(t),r=s.call(n,t));const o=i.call(n,t);return n.set(t,e),r?Zt(e,o)&&At(n,"set",t,e):At(n,"add",t,e),this}function kc(t){const e=Z(this),{has:n,get:s}=Br(e);let i=n.call(e,t);i||(t=Z(t),i=n.call(e,t)),s&&s.call(e,t);const r=e.delete(t);return i&&At(e,"delete",t,void 0),r}function $c(){const t=Z(this),e=t.size!==0,n=t.clear();return e&&At(t,"clear",void 0,void 0),n}function $i(t,e){return function(s,i){const r=this,o=r.__v_raw,a=Z(o),l=e?ol:t?cl:ai;return!t&&Ve(a,"iterate",Sn),o.forEach((c,u)=>s.call(i,l(c),l(u),r))}}function Fi(t,e,n){return function(...s){const i=this.__v_raw,r=Z(i),o=rs(r),a=t==="entries"||t===Symbol.iterator&&o,l=t==="keys"&&o,c=i[t](...s),u=n?ol:e?cl:ai;return!e&&Ve(r,"iterate",l?ua:Sn),{next(){const{value:h,done:f}=c.next();return f?{value:h,done:f}:{value:a?[u(h[0]),u(h[1])]:u(h),done:f}},[Symbol.iterator](){return this}}}}function Wt(t){return function(...e){return t==="delete"?!1:t==="clear"?void 0:this}}function kg(){const t={get(r){return Li(this,r)},get size(){return ki(this)},has:Mi,add:Lc,set:Mc,delete:kc,clear:$c,forEach:$i(!1,!1)},e={get(r){return Li(this,r,!1,!0)},get size(){return ki(this)},has:Mi,add:Lc,set:Mc,delete:kc,clear:$c,forEach:$i(!1,!0)},n={get(r){return Li(this,r,!0)},get size(){return ki(this,!0)},has(r){return Mi.call(this,r,!0)},add:Wt("add"),set:Wt("set"),delete:Wt("delete"),clear:Wt("clear"),forEach:$i(!0,!1)},s={get(r){return Li(this,r,!0,!0)},get size(){return ki(this,!0)},has(r){return Mi.call(this,r,!0)},add:Wt("add"),set:Wt("set"),delete:Wt("delete"),clear:Wt("clear"),forEach:$i(!0,!0)};return["keys","values","entries",Symbol.iterator].forEach(r=>{t[r]=Fi(r,!1,!1),n[r]=Fi(r,!0,!1),e[r]=Fi(r,!1,!0),s[r]=Fi(r,!0,!0)}),[t,n,e,s]}const[$g,Fg,Vg,Bg]=kg();function al(t,e){const n=e?t?Bg:Vg:t?Fg:$g;return(s,i,r)=>i==="__v_isReactive"?!t:i==="__v_isReadonly"?t:i==="__v_raw"?s:Reflect.get(z(n,i)&&i in s?n:s,i,r)}const Hg={get:al(!1,!1)},Wg={get:al(!1,!0)},jg={get:al(!0,!1)},Ef=new WeakMap,yf=new WeakMap,bf=new WeakMap,Ug=new WeakMap;function Kg(t){switch(t){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function Gg(t){return t.__v_skip||!Object.isExtensible(t)?0:Kg(gg(t))}function Hr(t){return ps(t)?t:ll(t,!1,Pg,Hg,Ef)}function qg(t){return ll(t,!1,Mg,Wg,yf)}function Cf(t){return ll(t,!0,Lg,jg,bf)}function ll(t,e,n,s,i){if(!ce(t)||t.__v_raw&&!(e&&t.__v_isReactive))return t;const r=i.get(t);if(r)return r;const o=Gg(t);if(o===0)return t;const a=new Proxy(t,o===2?s:n);return i.set(t,a),a}function os(t){return ps(t)?os(t.__v_raw):!!(t&&t.__v_isReactive)}function ps(t){return!!(t&&t.__v_isReadonly)}function ar(t){return!!(t&&t.__v_isShallow)}function wf(t){return os(t)||ps(t)}function Z(t){const e=t&&t.__v_raw;return e?Z(e):t}function Tf(t){return or(t,"__v_skip",!0),t}const ai=t=>ce(t)?Hr(t):t,cl=t=>ce(t)?Cf(t):t;class If{constructor(e,n,s,i){this._setter=n,this.dep=void 0,this.__v_isRef=!0,this.__v_isReadonly=!1,this.effect=new sl(()=>e(this._value),()=>Zi(this,1),()=>this.dep&&pf(this.dep)),this.effect.computed=this,this.effect.active=this._cacheable=!i,this.__v_isReadonly=s}get value(){const e=Z(this);return(!e._cacheable||e.effect.dirty)&&Zt(e._value,e._value=e.effect.run())&&Zi(e,2),Sf(e),e.effect._dirtyLevel>=1&&Zi(e,1),e._value}set value(e){this._setter(e)}get _dirty(){return this.effect.dirty}set _dirty(e){this.effect.dirty=e}}function zg(t,e,n=!1){let s,i;const r=H(t);return r?(s=t,i=ze):(s=t.get,i=t.set),new If(s,i,r||!i,n)}function Sf(t){qt&&In&&(t=Z(t),ff(In,t.dep||(t.dep=_f(()=>t.dep=void 0,t instanceof If?t:void 0))))}function Zi(t,e=2,n){t=Z(t);const s=t.dep;s&&df(s,e)}function Se(t){return!!(t&&t.__v_isRef===!0)}function ha(t){return Yg(t,!1)}function Yg(t,e){return Se(t)?t:new Qg(t,e)}class Qg{constructor(e,n){this.__v_isShallow=n,this.dep=void 0,this.__v_isRef=!0,this._rawValue=n?e:Z(e),this._value=n?e:ai(e)}get value(){return Sf(this),this._value}set value(e){const n=this.__v_isShallow||ar(e)||ps(e);e=n?e:Z(e),Zt(e,this._rawValue)&&(this._rawValue=e,this._value=n?e:ai(e),Zi(this,2))}}function lr(t){return Se(t)?t.value:t}const Xg={get:(t,e,n)=>lr(Reflect.get(t,e,n)),set:(t,e,n,s)=>{const i=t[e];return Se(i)&&!Se(n)?(i.value=n,!0):Reflect.set(t,e,n,s)}};function Af(t){return os(t)?t:new Proxy(t,Xg)}/**
* @vue/runtime-core v3.4.15
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/function zt(t,e,n,s){let i;try{i=s?t(...s):t()}catch(r){Wr(r,e,n)}return i}function ct(t,e,n,s){if(H(t)){const r=zt(t,e,n,s);return r&&tf(r)&&r.catch(o=>{Wr(o,e,n)}),r}const i=[];for(let r=0;r<t.length;r++)i.push(ct(t[r],e,n,s));return i}function Wr(t,e,n,s=!0){const i=e?e.vnode:null;if(e){let r=e.parent;const o=e.proxy,a=`https://vuejs.org/error-reference/#runtime-${n}`;for(;r;){const c=r.ec;if(c){for(let u=0;u<c.length;u++)if(c[u](t,o,a)===!1)return}r=r.parent}const l=e.appContext.config.errorHandler;if(l){zt(l,null,10,[t,o,a]);return}}Jg(t,n,i,s)}function Jg(t,e,n,s=!0){console.error(t)}let li=!1,fa=!1;const Te=[];let Et=0;const as=[];let Ut=null,mn=0;const Nf=Promise.resolve();let ul=null;function Zg(t){const e=ul||Nf;return t?e.then(this?t.bind(this):t):e}function em(t){let e=Et+1,n=Te.length;for(;e<n;){const s=e+n>>>1,i=Te[s],r=ci(i);r<t||r===t&&i.pre?e=s+1:n=s}return e}function hl(t){(!Te.length||!Te.includes(t,li&&t.allowRecurse?Et+1:Et))&&(t.id==null?Te.push(t):Te.splice(em(t.id),0,t),Of())}function Of(){!li&&!fa&&(fa=!0,ul=Nf.then(Df))}function tm(t){const e=Te.indexOf(t);e>Et&&Te.splice(e,1)}function nm(t){V(t)?as.push(...t):(!Ut||!Ut.includes(t,t.allowRecurse?mn+1:mn))&&as.push(t),Of()}function Fc(t,e,n=li?Et+1:0){for(;n<Te.length;n++){const s=Te[n];if(s&&s.pre){if(t&&s.id!==t.uid)continue;Te.splice(n,1),n--,s()}}}function Rf(t){if(as.length){const e=[...new Set(as)].sort((n,s)=>ci(n)-ci(s));if(as.length=0,Ut){Ut.push(...e);return}for(Ut=e,mn=0;mn<Ut.length;mn++)Ut[mn]();Ut=null,mn=0}}const ci=t=>t.id==null?1/0:t.id,sm=(t,e)=>{const n=ci(t)-ci(e);if(n===0){if(t.pre&&!e.pre)return-1;if(e.pre&&!t.pre)return 1}return n};function Df(t){fa=!1,li=!0,Te.sort(sm);try{for(Et=0;Et<Te.length;Et++){const e=Te[Et];e&&e.active!==!1&&zt(e,null,14)}}finally{Et=0,Te.length=0,Rf(),li=!1,ul=null,(Te.length||as.length)&&Df()}}function im(t,e,...n){if(t.isUnmounted)return;const s=t.vnode.props||ae;let i=n;const r=e.startsWith("update:"),o=r&&e.slice(7);if(o&&o in s){const u=`${o==="modelValue"?"model":o}Modifiers`,{number:h,trim:f}=s[u]||ae;f&&(i=n.map(_=>_e(_)?_.trim():_)),h&&(i=n.map(oa))}let a,l=s[a=vo(e)]||s[a=vo(ds(e))];!l&&r&&(l=s[a=vo(Os(e))]),l&&ct(l,t,6,i);const c=s[a+"Once"];if(c){if(!t.emitted)t.emitted={};else if(t.emitted[a])return;t.emitted[a]=!0,ct(c,t,6,i)}}function xf(t,e,n=!1){const s=e.emitsCache,i=s.get(t);if(i!==void 0)return i;const r=t.emits;let o={},a=!1;if(!H(t)){const l=c=>{const u=xf(c,e,!0);u&&(a=!0,Ie(o,u))};!n&&e.mixins.length&&e.mixins.forEach(l),t.extends&&l(t.extends),t.mixins&&t.mixins.forEach(l)}return!r&&!a?(ce(t)&&s.set(t,null),null):(V(r)?r.forEach(l=>o[l]=null):Ie(o,r),ce(t)&&s.set(t,o),o)}function jr(t,e){return!t||!kr(e)?!1:(e=e.slice(2).replace(/Once$/,""),z(t,e[0].toLowerCase()+e.slice(1))||z(t,Os(e))||z(t,e))}let je=null,Pf=null;function cr(t){const e=je;return je=t,Pf=t&&t.type.__scopeId||null,e}function rm(t,e=je,n){if(!e||t._n)return t;const s=(...i)=>{s._d&&Yc(-1);const r=cr(e);let o;try{o=t(...i)}finally{cr(r),s._d&&Yc(1)}return o};return s._n=!0,s._c=!0,s._d=!0,s}function yo(t){const{type:e,vnode:n,proxy:s,withProxy:i,props:r,propsOptions:[o],slots:a,attrs:l,emit:c,render:u,renderCache:h,data:f,setupState:_,ctx:E,inheritAttrs:C}=t;let A,M;const K=cr(t);try{if(n.shapeFlag&4){const D=i||s,B=D;A=vt(u.call(B,D,h,r,_,f,E)),M=l}else{const D=e;A=vt(D.length>1?D(r,{attrs:l,slots:a,emit:c}):D(r,null)),M=e.props?l:om(l)}}catch(D){Xs.length=0,Wr(D,t,1),A=Nt(ui)}let k=A;if(M&&C!==!1){const D=Object.keys(M),{shapeFlag:B}=k;D.length&&B&7&&(o&&D.some(Za)&&(M=am(M,o)),k=_s(k,M))}return n.dirs&&(k=_s(k),k.dirs=k.dirs?k.dirs.concat(n.dirs):n.dirs),n.transition&&(k.transition=n.transition),A=k,cr(K),A}const om=t=>{let e;for(const n in t)(n==="class"||n==="style"||kr(n))&&((e||(e={}))[n]=t[n]);return e},am=(t,e)=>{const n={};for(const s in t)(!Za(s)||!(s.slice(9)in e))&&(n[s]=t[s]);return n};function lm(t,e,n){const{props:s,children:i,component:r}=t,{props:o,children:a,patchFlag:l}=e,c=r.emitsOptions;if(e.dirs||e.transition)return!0;if(n&&l>=0){if(l&1024)return!0;if(l&16)return s?Vc(s,o,c):!!o;if(l&8){const u=e.dynamicProps;for(let h=0;h<u.length;h++){const f=u[h];if(o[f]!==s[f]&&!jr(c,f))return!0}}}else return(i||a)&&(!a||!a.$stable)?!0:s===o?!1:s?o?Vc(s,o,c):!0:!!o;return!1}function Vc(t,e,n){const s=Object.keys(e);if(s.length!==Object.keys(t).length)return!0;for(let i=0;i<s.length;i++){const r=s[i];if(e[r]!==t[r]&&!jr(n,r))return!0}return!1}function cm({vnode:t,parent:e},n){for(;e;){const s=e.subTree;if(s.suspense&&s.suspense.activeBranch===t&&(s.el=t.el),s===t)(t=e.vnode).el=n,e=e.parent;else break}}const um=Symbol.for("v-ndc"),hm=t=>t.__isSuspense;function fm(t,e){e&&e.pendingBranch?V(t)?e.effects.push(...t):e.effects.push(t):nm(t)}const dm=Symbol.for("v-scx"),pm=()=>tr(dm),Vi={};function ls(t,e,n){return Lf(t,e,n)}function Lf(t,e,{immediate:n,deep:s,flush:i,once:r,onTrack:o,onTrigger:a}=ae){if(e&&r){const R=e;e=(...Y)=>{R(...Y),B()}}const l=Re,c=R=>s===!0?R:vn(R,s===!1?1:void 0);let u,h=!1,f=!1;if(Se(t)?(u=()=>t.value,h=ar(t)):os(t)?(u=()=>c(t),h=!0):V(t)?(f=!0,h=t.some(R=>os(R)||ar(R)),u=()=>t.map(R=>{if(Se(R))return R.value;if(os(R))return c(R);if(H(R))return zt(R,l,2)})):H(t)?e?u=()=>zt(t,l,2):u=()=>(_&&_(),ct(t,l,3,[E])):u=ze,e&&s){const R=u;u=()=>vn(R())}let _,E=R=>{_=k.onStop=()=>{zt(R,l,4),_=k.onStop=void 0}},C;if(qr)if(E=ze,e?n&&ct(e,l,3,[u(),f?[]:void 0,E]):u(),i==="sync"){const R=pm();C=R.__watcherHandles||(R.__watcherHandles=[])}else return ze;let A=f?new Array(t.length).fill(Vi):Vi;const M=()=>{if(!(!k.active||!k.dirty))if(e){const R=k.run();(s||h||(f?R.some((Y,te)=>Zt(Y,A[te])):Zt(R,A)))&&(_&&_(),ct(e,l,3,[R,A===Vi?void 0:f&&A[0]===Vi?[]:A,E]),A=R)}else k.run()};M.allowRecurse=!!e;let K;i==="sync"?K=M:i==="post"?K=()=>Pe(M,l&&l.suspense):(M.pre=!0,l&&(M.id=l.uid),K=()=>hl(M));const k=new sl(u,ze,K),D=Ag(),B=()=>{k.stop(),D&&el(D.effects,k)};return e?n?M():A=k.run():i==="post"?Pe(k.run.bind(k),l&&l.suspense):k.run(),C&&C.push(B),B}function _m(t,e,n){const s=this.proxy,i=_e(t)?t.includes(".")?Mf(s,t):()=>s[t]:t.bind(s,s);let r;H(e)?r=e:(r=e.handler,n=e);const o=Ci(this),a=Lf(i,r.bind(s),n);return o(),a}function Mf(t,e){const n=e.split(".");return()=>{let s=t;for(let i=0;i<n.length&&s;i++)s=s[n[i]];return s}}function vn(t,e,n=0,s){if(!ce(t)||t.__v_skip)return t;if(e&&e>0){if(n>=e)return t;n++}if(s=s||new Set,s.has(t))return t;if(s.add(t),Se(t))vn(t.value,e,n,s);else if(V(t))for(let i=0;i<t.length;i++)vn(t[i],e,n,s);else if(ef(t)||rs(t))t.forEach(i=>{vn(i,e,n,s)});else if(sf(t))for(const i in t)vn(t[i],e,n,s);return t}function Bc(t,e){if(je===null)return t;const n=zr(je)||je.proxy,s=t.dirs||(t.dirs=[]);for(let i=0;i<e.length;i++){let[r,o,a,l=ae]=e[i];r&&(H(r)&&(r={mounted:r,updated:r}),r.deep&&vn(o),s.push({dir:r,instance:n,value:o,oldValue:void 0,arg:a,modifiers:l}))}return t}function dn(t,e,n,s){const i=t.dirs,r=e&&e.dirs;for(let o=0;o<i.length;o++){const a=i[o];r&&(a.oldValue=r[o].value);let l=a.dir[s];l&&(Fn(),ct(l,n,8,[t.el,a,t,e]),Vn())}}const er=t=>!!t.type.__asyncLoader,kf=t=>t.type.__isKeepAlive;function gm(t,e){$f(t,"a",e)}function mm(t,e){$f(t,"da",e)}function $f(t,e,n=Re){const s=t.__wdc||(t.__wdc=()=>{let i=n;for(;i;){if(i.isDeactivated)return;i=i.parent}return t()});if(Ur(e,s,n),n){let i=n.parent;for(;i&&i.parent;)kf(i.parent.vnode)&&vm(s,e,n,i),i=i.parent}}function vm(t,e,n,s){const i=Ur(e,t,s,!0);Vf(()=>{el(s[e],i)},n)}function Ur(t,e,n=Re,s=!1){if(n){const i=n[t]||(n[t]=[]),r=e.__weh||(e.__weh=(...o)=>{if(n.isUnmounted)return;Fn();const a=Ci(n),l=ct(e,n,t,o);return a(),Vn(),l});return s?i.unshift(r):i.push(r),r}}const kt=t=>(e,n=Re)=>(!qr||t==="sp")&&Ur(t,(...s)=>e(...s),n),Em=kt("bm"),Ff=kt("m"),ym=kt("bu"),bm=kt("u"),Cm=kt("bum"),Vf=kt("um"),wm=kt("sp"),Tm=kt("rtg"),Im=kt("rtc");function Sm(t,e=Re){Ur("ec",t,e)}function Am(t,e,n,s){let i;const r=n&&n[s];if(V(t)||_e(t)){i=new Array(t.length);for(let o=0,a=t.length;o<a;o++)i[o]=e(t[o],o,void 0,r&&r[o])}else if(typeof t=="number"){i=new Array(t);for(let o=0;o<t;o++)i[o]=e(o+1,o,void 0,r&&r[o])}else if(ce(t))if(t[Symbol.iterator])i=Array.from(t,(o,a)=>e(o,a,void 0,r&&r[a]));else{const o=Object.keys(t);i=new Array(o.length);for(let a=0,l=o.length;a<l;a++){const c=o[a];i[a]=e(t[c],c,a,r&&r[a])}}else i=[];return n&&(n[s]=i),i}const da=t=>t?Xf(t)?zr(t)||t.proxy:da(t.parent):null,Qs=Ie(Object.create(null),{$:t=>t,$el:t=>t.vnode.el,$data:t=>t.data,$props:t=>t.props,$attrs:t=>t.attrs,$slots:t=>t.slots,$refs:t=>t.refs,$parent:t=>da(t.parent),$root:t=>da(t.root),$emit:t=>t.emit,$options:t=>fl(t),$forceUpdate:t=>t.f||(t.f=()=>{t.effect.dirty=!0,hl(t.update)}),$nextTick:t=>t.n||(t.n=Zg.bind(t.proxy)),$watch:t=>_m.bind(t)}),bo=(t,e)=>t!==ae&&!t.__isScriptSetup&&z(t,e),Nm={get({_:t},e){const{ctx:n,setupState:s,data:i,props:r,accessCache:o,type:a,appContext:l}=t;let c;if(e[0]!=="$"){const _=o[e];if(_!==void 0)switch(_){case 1:return s[e];case 2:return i[e];case 4:return n[e];case 3:return r[e]}else{if(bo(s,e))return o[e]=1,s[e];if(i!==ae&&z(i,e))return o[e]=2,i[e];if((c=t.propsOptions[0])&&z(c,e))return o[e]=3,r[e];if(n!==ae&&z(n,e))return o[e]=4,n[e];pa&&(o[e]=0)}}const u=Qs[e];let h,f;if(u)return e==="$attrs"&&Ve(t,"get",e),u(t);if((h=a.__cssModules)&&(h=h[e]))return h;if(n!==ae&&z(n,e))return o[e]=4,n[e];if(f=l.config.globalProperties,z(f,e))return f[e]},set({_:t},e,n){const{data:s,setupState:i,ctx:r}=t;return bo(i,e)?(i[e]=n,!0):s!==ae&&z(s,e)?(s[e]=n,!0):z(t.props,e)||e[0]==="$"&&e.slice(1)in t?!1:(r[e]=n,!0)},has({_:{data:t,setupState:e,accessCache:n,ctx:s,appContext:i,propsOptions:r}},o){let a;return!!n[o]||t!==ae&&z(t,o)||bo(e,o)||(a=r[0])&&z(a,o)||z(s,o)||z(Qs,o)||z(i.config.globalProperties,o)},defineProperty(t,e,n){return n.get!=null?t._.accessCache[e]=0:z(n,"value")&&this.set(t,e,n.value,null),Reflect.defineProperty(t,e,n)}};function Hc(t){return V(t)?t.reduce((e,n)=>(e[n]=null,e),{}):t}let pa=!0;function Om(t){const e=fl(t),n=t.proxy,s=t.ctx;pa=!1,e.beforeCreate&&Wc(e.beforeCreate,t,"bc");const{data:i,computed:r,methods:o,watch:a,provide:l,inject:c,created:u,beforeMount:h,mounted:f,beforeUpdate:_,updated:E,activated:C,deactivated:A,beforeDestroy:M,beforeUnmount:K,destroyed:k,unmounted:D,render:B,renderTracked:R,renderTriggered:Y,errorCaptured:te,serverPrefetch:ue,expose:ne,inheritAttrs:he,components:be,directives:de,filters:Ze}=e;if(c&&Rm(c,s,null),o)for(const q in o){const Q=o[q];H(Q)&&(s[q]=Q.bind(n))}if(i){const q=i.call(n,n);ce(q)&&(t.data=Hr(q))}if(pa=!0,r)for(const q in r){const Q=r[q],Ae=H(Q)?Q.bind(n,n):H(Q.get)?Q.get.bind(n,n):ze,Tt=!H(Q)&&H(Q.set)?Q.set.bind(n):ze,et=_l({get:Ae,set:Tt});Object.defineProperty(s,q,{enumerable:!0,configurable:!0,get:()=>et.value,set:Ce=>et.value=Ce})}if(a)for(const q in a)Bf(a[q],s,n,q);if(l){const q=H(l)?l.call(n):l;Reflect.ownKeys(q).forEach(Q=>{km(Q,q[Q])})}u&&Wc(u,t,"c");function ee(q,Q){V(Q)?Q.forEach(Ae=>q(Ae.bind(n))):Q&&q(Q.bind(n))}if(ee(Em,h),ee(Ff,f),ee(ym,_),ee(bm,E),ee(gm,C),ee(mm,A),ee(Sm,te),ee(Im,R),ee(Tm,Y),ee(Cm,K),ee(Vf,D),ee(wm,ue),V(ne))if(ne.length){const q=t.exposed||(t.exposed={});ne.forEach(Q=>{Object.defineProperty(q,Q,{get:()=>n[Q],set:Ae=>n[Q]=Ae})})}else t.exposed||(t.exposed={});B&&t.render===ze&&(t.render=B),he!=null&&(t.inheritAttrs=he),be&&(t.components=be),de&&(t.directives=de)}function Rm(t,e,n=ze){V(t)&&(t=_a(t));for(const s in t){const i=t[s];let r;ce(i)?"default"in i?r=tr(i.from||s,i.default,!0):r=tr(i.from||s):r=tr(i),Se(r)?Object.defineProperty(e,s,{enumerable:!0,configurable:!0,get:()=>r.value,set:o=>r.value=o}):e[s]=r}}function Wc(t,e,n){ct(V(t)?t.map(s=>s.bind(e.proxy)):t.bind(e.proxy),e,n)}function Bf(t,e,n,s){const i=s.includes(".")?Mf(n,s):()=>n[s];if(_e(t)){const r=e[t];H(r)&&ls(i,r)}else if(H(t))ls(i,t.bind(n));else if(ce(t))if(V(t))t.forEach(r=>Bf(r,e,n,s));else{const r=H(t.handler)?t.handler.bind(n):e[t.handler];H(r)&&ls(i,r,t)}}function fl(t){const e=t.type,{mixins:n,extends:s}=e,{mixins:i,optionsCache:r,config:{optionMergeStrategies:o}}=t.appContext,a=r.get(e);let l;return a?l=a:!i.length&&!n&&!s?l=e:(l={},i.length&&i.forEach(c=>ur(l,c,o,!0)),ur(l,e,o)),ce(e)&&r.set(e,l),l}function ur(t,e,n,s=!1){const{mixins:i,extends:r}=e;r&&ur(t,r,n,!0),i&&i.forEach(o=>ur(t,o,n,!0));for(const o in e)if(!(s&&o==="expose")){const a=Dm[o]||n&&n[o];t[o]=a?a(t[o],e[o]):e[o]}return t}const Dm={data:jc,props:Uc,emits:Uc,methods:Ys,computed:Ys,beforeCreate:Oe,created:Oe,beforeMount:Oe,mounted:Oe,beforeUpdate:Oe,updated:Oe,beforeDestroy:Oe,beforeUnmount:Oe,destroyed:Oe,unmounted:Oe,activated:Oe,deactivated:Oe,errorCaptured:Oe,serverPrefetch:Oe,components:Ys,directives:Ys,watch:Pm,provide:jc,inject:xm};function jc(t,e){return e?t?function(){return Ie(H(t)?t.call(this,this):t,H(e)?e.call(this,this):e)}:e:t}function xm(t,e){return Ys(_a(t),_a(e))}function _a(t){if(V(t)){const e={};for(let n=0;n<t.length;n++)e[t[n]]=t[n];return e}return t}function Oe(t,e){return t?[...new Set([].concat(t,e))]:e}function Ys(t,e){return t?Ie(Object.create(null),t,e):e}function Uc(t,e){return t?V(t)&&V(e)?[...new Set([...t,...e])]:Ie(Object.create(null),Hc(t),Hc(e??{})):e}function Pm(t,e){if(!t)return e;if(!e)return t;const n=Ie(Object.create(null),t);for(const s in e)n[s]=Oe(t[s],e[s]);return n}function Hf(){return{app:null,config:{isNativeTag:pg,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let Lm=0;function Mm(t,e){return function(s,i=null){H(s)||(s=Ie({},s)),i!=null&&!ce(i)&&(i=null);const r=Hf(),o=new WeakSet;let a=!1;const l=r.app={_uid:Lm++,_component:s,_props:i,_container:null,_context:r,_instance:null,version:av,get config(){return r.config},set config(c){},use(c,...u){return o.has(c)||(c&&H(c.install)?(o.add(c),c.install(l,...u)):H(c)&&(o.add(c),c(l,...u))),l},mixin(c){return r.mixins.includes(c)||r.mixins.push(c),l},component(c,u){return u?(r.components[c]=u,l):r.components[c]},directive(c,u){return u?(r.directives[c]=u,l):r.directives[c]},mount(c,u,h){if(!a){const f=Nt(s,i);return f.appContext=r,h===!0?h="svg":h===!1&&(h=void 0),u&&e?e(f,c):t(f,c,h),a=!0,l._container=c,c.__vue_app__=l,zr(f.component)||f.component.proxy}},unmount(){a&&(t(null,l._container),delete l._container.__vue_app__)},provide(c,u){return r.provides[c]=u,l},runWithContext(c){hr=l;try{return c()}finally{hr=null}}};return l}}let hr=null;function km(t,e){if(Re){let n=Re.provides;const s=Re.parent&&Re.parent.provides;s===n&&(n=Re.provides=Object.create(s)),n[t]=e}}function tr(t,e,n=!1){const s=Re||je;if(s||hr){const i=s?s.parent==null?s.vnode.appContext&&s.vnode.appContext.provides:s.parent.provides:hr._context.provides;if(i&&t in i)return i[t];if(arguments.length>1)return n&&H(e)?e.call(s&&s.proxy):e}}function $m(t,e,n,s=!1){const i={},r={};or(r,Gr,1),t.propsDefaults=Object.create(null),Wf(t,e,i,r);for(const o in t.propsOptions[0])o in i||(i[o]=void 0);n?t.props=s?i:qg(i):t.type.props?t.props=i:t.props=r,t.attrs=r}function Fm(t,e,n,s){const{props:i,attrs:r,vnode:{patchFlag:o}}=t,a=Z(i),[l]=t.propsOptions;let c=!1;if((s||o>0)&&!(o&16)){if(o&8){const u=t.vnode.dynamicProps;for(let h=0;h<u.length;h++){let f=u[h];if(jr(t.emitsOptions,f))continue;const _=e[f];if(l)if(z(r,f))_!==r[f]&&(r[f]=_,c=!0);else{const E=ds(f);i[E]=ga(l,a,E,_,t,!1)}else _!==r[f]&&(r[f]=_,c=!0)}}}else{Wf(t,e,i,r)&&(c=!0);let u;for(const h in a)(!e||!z(e,h)&&((u=Os(h))===h||!z(e,u)))&&(l?n&&(n[h]!==void 0||n[u]!==void 0)&&(i[h]=ga(l,a,h,void 0,t,!0)):delete i[h]);if(r!==a)for(const h in r)(!e||!z(e,h))&&(delete r[h],c=!0)}c&&At(t,"set","$attrs")}function Wf(t,e,n,s){const[i,r]=t.propsOptions;let o=!1,a;if(e)for(let l in e){if(Xi(l))continue;const c=e[l];let u;i&&z(i,u=ds(l))?!r||!r.includes(u)?n[u]=c:(a||(a={}))[u]=c:jr(t.emitsOptions,l)||(!(l in s)||c!==s[l])&&(s[l]=c,o=!0)}if(r){const l=Z(n),c=a||ae;for(let u=0;u<r.length;u++){const h=r[u];n[h]=ga(i,l,h,c[h],t,!z(c,h))}}return o}function ga(t,e,n,s,i,r){const o=t[n];if(o!=null){const a=z(o,"default");if(a&&s===void 0){const l=o.default;if(o.type!==Function&&!o.skipFactory&&H(l)){const{propsDefaults:c}=i;if(n in c)s=c[n];else{const u=Ci(i);s=c[n]=l.call(null,e),u()}}else s=l}o[0]&&(r&&!a?s=!1:o[1]&&(s===""||s===Os(n))&&(s=!0))}return s}function jf(t,e,n=!1){const s=e.propsCache,i=s.get(t);if(i)return i;const r=t.props,o={},a=[];let l=!1;if(!H(t)){const u=h=>{l=!0;const[f,_]=jf(h,e,!0);Ie(o,f),_&&a.push(..._)};!n&&e.mixins.length&&e.mixins.forEach(u),t.extends&&u(t.extends),t.mixins&&t.mixins.forEach(u)}if(!r&&!l)return ce(t)&&s.set(t,is),is;if(V(r))for(let u=0;u<r.length;u++){const h=ds(r[u]);Kc(h)&&(o[h]=ae)}else if(r)for(const u in r){const h=ds(u);if(Kc(h)){const f=r[u],_=o[h]=V(f)||H(f)?{type:f}:Ie({},f);if(_){const E=zc(Boolean,_.type),C=zc(String,_.type);_[0]=E>-1,_[1]=C<0||E<C,(E>-1||z(_,"default"))&&a.push(h)}}}const c=[o,a];return ce(t)&&s.set(t,c),c}function Kc(t){return t[0]!=="$"}function Gc(t){const e=t&&t.toString().match(/^\s*(function|class) (\w+)/);return e?e[2]:t===null?"null":""}function qc(t,e){return Gc(t)===Gc(e)}function zc(t,e){return V(e)?e.findIndex(n=>qc(n,t)):H(e)&&qc(e,t)?0:-1}const Uf=t=>t[0]==="_"||t==="$stable",dl=t=>V(t)?t.map(vt):[vt(t)],Vm=(t,e,n)=>{if(e._n)return e;const s=rm((...i)=>dl(e(...i)),n);return s._c=!1,s},Kf=(t,e,n)=>{const s=t._ctx;for(const i in t){if(Uf(i))continue;const r=t[i];if(H(r))e[i]=Vm(i,r,s);else if(r!=null){const o=dl(r);e[i]=()=>o}}},Gf=(t,e)=>{const n=dl(e);t.slots.default=()=>n},Bm=(t,e)=>{if(t.vnode.shapeFlag&32){const n=e._;n?(t.slots=Z(e),or(e,"_",n)):Kf(e,t.slots={})}else t.slots={},e&&Gf(t,e);or(t.slots,Gr,1)},Hm=(t,e,n)=>{const{vnode:s,slots:i}=t;let r=!0,o=ae;if(s.shapeFlag&32){const a=e._;a?n&&a===1?r=!1:(Ie(i,e),!n&&a===1&&delete i._):(r=!e.$stable,Kf(e,i)),o=e}else e&&(Gf(t,e),o={default:1});if(r)for(const a in i)!Uf(a)&&o[a]==null&&delete i[a]};function ma(t,e,n,s,i=!1){if(V(t)){t.forEach((f,_)=>ma(f,e&&(V(e)?e[_]:e),n,s,i));return}if(er(s)&&!i)return;const r=s.shapeFlag&4?zr(s.component)||s.component.proxy:s.el,o=i?null:r,{i:a,r:l}=t,c=e&&e.r,u=a.refs===ae?a.refs={}:a.refs,h=a.setupState;if(c!=null&&c!==l&&(_e(c)?(u[c]=null,z(h,c)&&(h[c]=null)):Se(c)&&(c.value=null)),H(l))zt(l,a,12,[o,u]);else{const f=_e(l),_=Se(l),E=t.f;if(f||_){const C=()=>{if(E){const A=f?z(h,l)?h[l]:u[l]:l.value;i?V(A)&&el(A,r):V(A)?A.includes(r)||A.push(r):f?(u[l]=[r],z(h,l)&&(h[l]=u[l])):(l.value=[r],t.k&&(u[t.k]=l.value))}else f?(u[l]=o,z(h,l)&&(h[l]=o)):_&&(l.value=o,t.k&&(u[t.k]=o))};i||E?C():(C.id=-1,Pe(C,n))}}}const Pe=fm;function Wm(t){return jm(t)}function jm(t,e){const n=of();n.__VUE__=!0;const{insert:s,remove:i,patchProp:r,createElement:o,createText:a,createComment:l,setText:c,setElementText:u,parentNode:h,nextSibling:f,setScopeId:_=ze,insertStaticContent:E}=t,C=(d,p,g,m=null,v=null,I=null,N=void 0,w=null,S=!!p.dynamicChildren)=>{if(d===p)return;d&&!Ws(d,p)&&(m=It(d),Ce(d,v,I,!0),d=null),p.patchFlag===-2&&(S=!1,p.dynamicChildren=null);const{type:b,ref:O,shapeFlag:P}=p;switch(b){case Kr:A(d,p,g,m);break;case ui:M(d,p,g,m);break;case wo:d==null&&K(p,g,m,N);break;case mt:be(d,p,g,m,v,I,N,w,S);break;default:P&1?B(d,p,g,m,v,I,N,w,S):P&6?de(d,p,g,m,v,I,N,w,S):(P&64||P&128)&&b.process(d,p,g,m,v,I,N,w,S,Ht)}O!=null&&v&&ma(O,d&&d.ref,I,p||d,!p)},A=(d,p,g,m)=>{if(d==null)s(p.el=a(p.children),g,m);else{const v=p.el=d.el;p.children!==d.children&&c(v,p.children)}},M=(d,p,g,m)=>{d==null?s(p.el=l(p.children||""),g,m):p.el=d.el},K=(d,p,g,m)=>{[d.el,d.anchor]=E(d.children,p,g,m,d.el,d.anchor)},k=({el:d,anchor:p},g,m)=>{let v;for(;d&&d!==p;)v=f(d),s(d,g,m),d=v;s(p,g,m)},D=({el:d,anchor:p})=>{let g;for(;d&&d!==p;)g=f(d),i(d),d=g;i(p)},B=(d,p,g,m,v,I,N,w,S)=>{p.type==="svg"?N="svg":p.type==="math"&&(N="mathml"),d==null?R(p,g,m,v,I,N,w,S):ue(d,p,v,I,N,w,S)},R=(d,p,g,m,v,I,N,w)=>{let S,b;const{props:O,shapeFlag:P,transition:x,dirs:F}=d;if(S=d.el=o(d.type,I,O&&O.is,O),P&8?u(S,d.children):P&16&&te(d.children,S,null,m,v,Co(d,I),N,w),F&&dn(d,null,m,"created"),Y(S,d,d.scopeId,N,m),O){for(const X in O)X!=="value"&&!Xi(X)&&r(S,X,null,O[X],I,d.children,m,v,Ne);"value"in O&&r(S,"value",null,O.value,I),(b=O.onVnodeBeforeMount)&&gt(b,m,d)}F&&dn(d,null,m,"beforeMount");const W=Um(v,x);W&&x.beforeEnter(S),s(S,p,g),((b=O&&O.onVnodeMounted)||W||F)&&Pe(()=>{b&&gt(b,m,d),W&&x.enter(S),F&&dn(d,null,m,"mounted")},v)},Y=(d,p,g,m,v)=>{if(g&&_(d,g),m)for(let I=0;I<m.length;I++)_(d,m[I]);if(v){let I=v.subTree;if(p===I){const N=v.vnode;Y(d,N,N.scopeId,N.slotScopeIds,v.parent)}}},te=(d,p,g,m,v,I,N,w,S=0)=>{for(let b=S;b<d.length;b++){const O=d[b]=w?Kt(d[b]):vt(d[b]);C(null,O,p,g,m,v,I,N,w)}},ue=(d,p,g,m,v,I,N)=>{const w=p.el=d.el;let{patchFlag:S,dynamicChildren:b,dirs:O}=p;S|=d.patchFlag&16;const P=d.props||ae,x=p.props||ae;let F;if(g&&pn(g,!1),(F=x.onVnodeBeforeUpdate)&&gt(F,g,p,d),O&&dn(p,d,g,"beforeUpdate"),g&&pn(g,!0),b?ne(d.dynamicChildren,b,w,g,m,Co(p,v),I):N||Q(d,p,w,null,g,m,Co(p,v),I,!1),S>0){if(S&16)he(w,p,P,x,g,m,v);else if(S&2&&P.class!==x.class&&r(w,"class",null,x.class,v),S&4&&r(w,"style",P.style,x.style,v),S&8){const W=p.dynamicProps;for(let X=0;X<W.length;X++){const le=W[X],ge=P[le],nt=x[le];(nt!==ge||le==="value")&&r(w,le,ge,nt,v,d.children,g,m,Ne)}}S&1&&d.children!==p.children&&u(w,p.children)}else!N&&b==null&&he(w,p,P,x,g,m,v);((F=x.onVnodeUpdated)||O)&&Pe(()=>{F&&gt(F,g,p,d),O&&dn(p,d,g,"updated")},m)},ne=(d,p,g,m,v,I,N)=>{for(let w=0;w<p.length;w++){const S=d[w],b=p[w],O=S.el&&(S.type===mt||!Ws(S,b)||S.shapeFlag&70)?h(S.el):g;C(S,b,O,null,m,v,I,N,!0)}},he=(d,p,g,m,v,I,N)=>{if(g!==m){if(g!==ae)for(const w in g)!Xi(w)&&!(w in m)&&r(d,w,g[w],null,N,p.children,v,I,Ne);for(const w in m){if(Xi(w))continue;const S=m[w],b=g[w];S!==b&&w!=="value"&&r(d,w,b,S,N,p.children,v,I,Ne)}"value"in m&&r(d,"value",g.value,m.value,N)}},be=(d,p,g,m,v,I,N,w,S)=>{const b=p.el=d?d.el:a(""),O=p.anchor=d?d.anchor:a("");let{patchFlag:P,dynamicChildren:x,slotScopeIds:F}=p;F&&(w=w?w.concat(F):F),d==null?(s(b,g,m),s(O,g,m),te(p.children||[],g,O,v,I,N,w,S)):P>0&&P&64&&x&&d.dynamicChildren?(ne(d.dynamicChildren,x,g,v,I,N,w),(p.key!=null||v&&p===v.subTree)&&qf(d,p,!0)):Q(d,p,g,O,v,I,N,w,S)},de=(d,p,g,m,v,I,N,w,S)=>{p.slotScopeIds=w,d==null?p.shapeFlag&512?v.ctx.activate(p,g,m,N,S):Ze(p,g,m,v,I,N,S):dt(d,p,S)},Ze=(d,p,g,m,v,I,N)=>{const w=d.component=tv(d,m,v);if(kf(d)&&(w.ctx.renderer=Ht),nv(w),w.asyncDep){if(v&&v.registerDep(w,ee),!d.el){const S=w.subTree=Nt(ui);M(null,S,p,g)}}else ee(w,d,p,g,v,I,N)},dt=(d,p,g)=>{const m=p.component=d.component;if(lm(d,p,g))if(m.asyncDep&&!m.asyncResolved){q(m,p,g);return}else m.next=p,tm(m.update),m.effect.dirty=!0,m.update();else p.el=d.el,m.vnode=p},ee=(d,p,g,m,v,I,N)=>{const w=()=>{if(d.isMounted){let{next:O,bu:P,u:x,parent:F,vnode:W}=d;{const Gn=zf(d);if(Gn){O&&(O.el=W.el,q(d,O,N)),Gn.asyncDep.then(()=>{d.isUnmounted||w()});return}}let X=O,le;pn(d,!1),O?(O.el=W.el,q(d,O,N)):O=W,P&&Ji(P),(le=O.props&&O.props.onVnodeBeforeUpdate)&&gt(le,F,O,W),pn(d,!0);const ge=yo(d),nt=d.subTree;d.subTree=ge,C(nt,ge,h(nt.el),It(nt),d,v,I),O.el=ge.el,X===null&&cm(d,ge.el),x&&Pe(x,v),(le=O.props&&O.props.onVnodeUpdated)&&Pe(()=>gt(le,F,O,W),v)}else{let O;const{el:P,props:x}=p,{bm:F,m:W,parent:X}=d,le=er(p);if(pn(d,!1),F&&Ji(F),!le&&(O=x&&x.onVnodeBeforeMount)&&gt(O,X,p),pn(d,!0),P&&Vs){const ge=()=>{d.subTree=yo(d),Vs(P,d.subTree,d,v,null)};le?p.type.__asyncLoader().then(()=>!d.isUnmounted&&ge()):ge()}else{const ge=d.subTree=yo(d);C(null,ge,g,m,d,v,I),p.el=ge.el}if(W&&Pe(W,v),!le&&(O=x&&x.onVnodeMounted)){const ge=p;Pe(()=>gt(O,X,ge),v)}(p.shapeFlag&256||X&&er(X.vnode)&&X.vnode.shapeFlag&256)&&d.a&&Pe(d.a,v),d.isMounted=!0,p=g=m=null}},S=d.effect=new sl(w,ze,()=>hl(b),d.scope),b=d.update=()=>{S.dirty&&S.run()};b.id=d.uid,pn(d,!0),b()},q=(d,p,g)=>{p.component=d;const m=d.vnode.props;d.vnode=p,d.next=null,Fm(d,p.props,m,g),Hm(d,p.children,g),Fn(),Fc(d),Vn()},Q=(d,p,g,m,v,I,N,w,S=!1)=>{const b=d&&d.children,O=d?d.shapeFlag:0,P=p.children,{patchFlag:x,shapeFlag:F}=p;if(x>0){if(x&128){Tt(b,P,g,m,v,I,N,w,S);return}else if(x&256){Ae(b,P,g,m,v,I,N,w,S);return}}F&8?(O&16&&Ne(b,v,I),P!==b&&u(g,P)):O&16?F&16?Tt(b,P,g,m,v,I,N,w,S):Ne(b,v,I,!0):(O&8&&u(g,""),F&16&&te(P,g,m,v,I,N,w,S))},Ae=(d,p,g,m,v,I,N,w,S)=>{d=d||is,p=p||is;const b=d.length,O=p.length,P=Math.min(b,O);let x;for(x=0;x<P;x++){const F=p[x]=S?Kt(p[x]):vt(p[x]);C(d[x],F,g,null,v,I,N,w,S)}b>O?Ne(d,v,I,!0,!1,P):te(p,g,m,v,I,N,w,S,P)},Tt=(d,p,g,m,v,I,N,w,S)=>{let b=0;const O=p.length;let P=d.length-1,x=O-1;for(;b<=P&&b<=x;){const F=d[b],W=p[b]=S?Kt(p[b]):vt(p[b]);if(Ws(F,W))C(F,W,g,null,v,I,N,w,S);else break;b++}for(;b<=P&&b<=x;){const F=d[P],W=p[x]=S?Kt(p[x]):vt(p[x]);if(Ws(F,W))C(F,W,g,null,v,I,N,w,S);else break;P--,x--}if(b>P){if(b<=x){const F=x+1,W=F<O?p[F].el:m;for(;b<=x;)C(null,p[b]=S?Kt(p[b]):vt(p[b]),g,W,v,I,N,w,S),b++}}else if(b>x)for(;b<=P;)Ce(d[b],v,I,!0),b++;else{const F=b,W=b,X=new Map;for(b=W;b<=x;b++){const We=p[b]=S?Kt(p[b]):vt(p[b]);We.key!=null&&X.set(We.key,b)}let le,ge=0;const nt=x-W+1;let Gn=!1,Ac=0;const Bs=new Array(nt);for(b=0;b<nt;b++)Bs[b]=0;for(b=F;b<=P;b++){const We=d[b];if(ge>=nt){Ce(We,v,I,!0);continue}let _t;if(We.key!=null)_t=X.get(We.key);else for(le=W;le<=x;le++)if(Bs[le-W]===0&&Ws(We,p[le])){_t=le;break}_t===void 0?Ce(We,v,I,!0):(Bs[_t-W]=b+1,_t>=Ac?Ac=_t:Gn=!0,C(We,p[_t],g,null,v,I,N,w,S),ge++)}const Nc=Gn?Km(Bs):is;for(le=Nc.length-1,b=nt-1;b>=0;b--){const We=W+b,_t=p[We],Oc=We+1<O?p[We+1].el:m;Bs[b]===0?C(null,_t,g,Oc,v,I,N,w,S):Gn&&(le<0||b!==Nc[le]?et(_t,g,Oc,2):le--)}}},et=(d,p,g,m,v=null)=>{const{el:I,type:N,transition:w,children:S,shapeFlag:b}=d;if(b&6){et(d.component.subTree,p,g,m);return}if(b&128){d.suspense.move(p,g,m);return}if(b&64){N.move(d,p,g,Ht);return}if(N===mt){s(I,p,g);for(let P=0;P<S.length;P++)et(S[P],p,g,m);s(d.anchor,p,g);return}if(N===wo){k(d,p,g);return}if(m!==2&&b&1&&w)if(m===0)w.beforeEnter(I),s(I,p,g),Pe(()=>w.enter(I),v);else{const{leave:P,delayLeave:x,afterLeave:F}=w,W=()=>s(I,p,g),X=()=>{P(I,()=>{W(),F&&F()})};x?x(I,W,X):X()}else s(I,p,g)},Ce=(d,p,g,m=!1,v=!1)=>{const{type:I,props:N,ref:w,children:S,dynamicChildren:b,shapeFlag:O,patchFlag:P,dirs:x}=d;if(w!=null&&ma(w,null,g,d,!0),O&256){p.ctx.deactivate(d);return}const F=O&1&&x,W=!er(d);let X;if(W&&(X=N&&N.onVnodeBeforeUnmount)&&gt(X,p,d),O&6)pt(d.component,g,m);else{if(O&128){d.suspense.unmount(g,m);return}F&&dn(d,null,p,"beforeUnmount"),O&64?d.type.remove(d,p,g,v,Ht,m):b&&(I!==mt||P>0&&P&64)?Ne(b,p,g,!1,!0):(I===mt&&P&384||!v&&O&16)&&Ne(S,p,g),m&&hn(d)}(W&&(X=N&&N.onVnodeUnmounted)||F)&&Pe(()=>{X&&gt(X,p,d),F&&dn(d,null,p,"unmounted")},g)},hn=d=>{const{type:p,el:g,anchor:m,transition:v}=d;if(p===mt){Bt(g,m);return}if(p===wo){D(d);return}const I=()=>{i(g),v&&!v.persisted&&v.afterLeave&&v.afterLeave()};if(d.shapeFlag&1&&v&&!v.persisted){const{leave:N,delayLeave:w}=v,S=()=>N(g,I);w?w(d.el,I,S):S()}else I()},Bt=(d,p)=>{let g;for(;d!==p;)g=f(d),i(d),d=g;i(p)},pt=(d,p,g)=>{const{bum:m,scope:v,update:I,subTree:N,um:w}=d;m&&Ji(m),v.stop(),I&&(I.active=!1,Ce(N,d,p,g)),w&&Pe(w,p),Pe(()=>{d.isUnmounted=!0},p),p&&p.pendingBranch&&!p.isUnmounted&&d.asyncDep&&!d.asyncResolved&&d.suspenseId===p.pendingId&&(p.deps--,p.deps===0&&p.resolve())},Ne=(d,p,g,m=!1,v=!1,I=0)=>{for(let N=I;N<d.length;N++)Ce(d[N],p,g,m,v)},It=d=>d.shapeFlag&6?It(d.component.subTree):d.shapeFlag&128?d.suspense.next():f(d.anchor||d.el);let tt=!1;const Kn=(d,p,g)=>{d==null?p._vnode&&Ce(p._vnode,null,null,!0):C(p._vnode||null,d,p,null,null,null,g),tt||(tt=!0,Fc(),Rf(),tt=!1),p._vnode=d},Ht={p:C,um:Ce,m:et,r:hn,mt:Ze,mc:te,pc:Q,pbc:ne,n:It,o:t};let fn,Vs;return e&&([fn,Vs]=e(Ht)),{render:Kn,hydrate:fn,createApp:Mm(Kn,fn)}}function Co({type:t,props:e},n){return n==="svg"&&t==="foreignObject"||n==="mathml"&&t==="annotation-xml"&&e&&e.encoding&&e.encoding.includes("html")?void 0:n}function pn({effect:t,update:e},n){t.allowRecurse=e.allowRecurse=n}function Um(t,e){return(!t||t&&!t.pendingBranch)&&e&&!e.persisted}function qf(t,e,n=!1){const s=t.children,i=e.children;if(V(s)&&V(i))for(let r=0;r<s.length;r++){const o=s[r];let a=i[r];a.shapeFlag&1&&!a.dynamicChildren&&((a.patchFlag<=0||a.patchFlag===32)&&(a=i[r]=Kt(i[r]),a.el=o.el),n||qf(o,a)),a.type===Kr&&(a.el=o.el)}}function Km(t){const e=t.slice(),n=[0];let s,i,r,o,a;const l=t.length;for(s=0;s<l;s++){const c=t[s];if(c!==0){if(i=n[n.length-1],t[i]<c){e[s]=i,n.push(s);continue}for(r=0,o=n.length-1;r<o;)a=r+o>>1,t[n[a]]<c?r=a+1:o=a;c<t[n[r]]&&(r>0&&(e[s]=n[r-1]),n[r]=s)}}for(r=n.length,o=n[r-1];r-- >0;)n[r]=o,o=e[o];return n}function zf(t){const e=t.subTree.component;if(e)return e.asyncDep&&!e.asyncResolved?e:zf(e)}const Gm=t=>t.__isTeleport,mt=Symbol.for("v-fgt"),Kr=Symbol.for("v-txt"),ui=Symbol.for("v-cmt"),wo=Symbol.for("v-stc"),Xs=[];let ot=null;function Js(t=!1){Xs.push(ot=t?null:[])}function qm(){Xs.pop(),ot=Xs[Xs.length-1]||null}let hi=1;function Yc(t){hi+=t}function zm(t){return t.dynamicChildren=hi>0?ot||is:null,qm(),hi>0&&ot&&ot.push(t),t}function Zs(t,e,n,s,i,r){return zm(it(t,e,n,s,i,r,!0))}function Ym(t){return t?t.__v_isVNode===!0:!1}function Ws(t,e){return t.type===e.type&&t.key===e.key}const Gr="__vInternal",Yf=({key:t})=>t??null,nr=({ref:t,ref_key:e,ref_for:n})=>(typeof t=="number"&&(t=""+t),t!=null?_e(t)||Se(t)||H(t)?{i:je,r:t,k:e,f:!!n}:t:null);function it(t,e=null,n=null,s=0,i=null,r=t===mt?0:1,o=!1,a=!1){const l={__v_isVNode:!0,__v_skip:!0,type:t,props:e,key:e&&Yf(e),ref:e&&nr(e),scopeId:Pf,slotScopeIds:null,children:n,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetAnchor:null,staticCount:0,shapeFlag:r,patchFlag:s,dynamicProps:i,dynamicChildren:null,appContext:null,ctx:je};return a?(pl(l,n),r&128&&t.normalize(l)):n&&(l.shapeFlag|=_e(n)?8:16),hi>0&&!o&&ot&&(l.patchFlag>0||r&6)&&l.patchFlag!==32&&ot.push(l),l}const Nt=Qm;function Qm(t,e=null,n=null,s=0,i=null,r=!1){if((!t||t===um)&&(t=ui),Ym(t)){const a=_s(t,e,!0);return n&&pl(a,n),hi>0&&!r&&ot&&(a.shapeFlag&6?ot[ot.indexOf(t)]=a:ot.push(a)),a.patchFlag|=-2,a}if(ov(t)&&(t=t.__vccOpts),e){e=Xm(e);let{class:a,style:l}=e;a&&!_e(a)&&(e.class=Vr(a)),ce(l)&&(wf(l)&&!V(l)&&(l=Ie({},l)),e.style=nl(l))}const o=_e(t)?1:hm(t)?128:Gm(t)?64:ce(t)?4:H(t)?2:0;return it(t,e,n,s,i,o,r,!0)}function Xm(t){return t?wf(t)||Gr in t?Ie({},t):t:null}function _s(t,e,n=!1){const{props:s,ref:i,patchFlag:r,children:o}=t,a=e?Jm(s||{},e):s;return{__v_isVNode:!0,__v_skip:!0,type:t.type,props:a,key:a&&Yf(a),ref:e&&e.ref?n&&i?V(i)?i.concat(nr(e)):[i,nr(e)]:nr(e):i,scopeId:t.scopeId,slotScopeIds:t.slotScopeIds,children:o,target:t.target,targetAnchor:t.targetAnchor,staticCount:t.staticCount,shapeFlag:t.shapeFlag,patchFlag:e&&t.type!==mt?r===-1?16:r|16:r,dynamicProps:t.dynamicProps,dynamicChildren:t.dynamicChildren,appContext:t.appContext,dirs:t.dirs,transition:t.transition,component:t.component,suspense:t.suspense,ssContent:t.ssContent&&_s(t.ssContent),ssFallback:t.ssFallback&&_s(t.ssFallback),el:t.el,anchor:t.anchor,ctx:t.ctx,ce:t.ce}}function Qf(t=" ",e=0){return Nt(Kr,null,t,e)}function vt(t){return t==null||typeof t=="boolean"?Nt(ui):V(t)?Nt(mt,null,t.slice()):typeof t=="object"?Kt(t):Nt(Kr,null,String(t))}function Kt(t){return t.el===null&&t.patchFlag!==-1||t.memo?t:_s(t)}function pl(t,e){let n=0;const{shapeFlag:s}=t;if(e==null)e=null;else if(V(e))n=16;else if(typeof e=="object")if(s&65){const i=e.default;i&&(i._c&&(i._d=!1),pl(t,i()),i._c&&(i._d=!0));return}else{n=32;const i=e._;!i&&!(Gr in e)?e._ctx=je:i===3&&je&&(je.slots._===1?e._=1:(e._=2,t.patchFlag|=1024))}else H(e)?(e={default:e,_ctx:je},n=32):(e=String(e),s&64?(n=16,e=[Qf(e)]):n=8);t.children=e,t.shapeFlag|=n}function Jm(...t){const e={};for(let n=0;n<t.length;n++){const s=t[n];for(const i in s)if(i==="class")e.class!==s.class&&(e.class=Vr([e.class,s.class]));else if(i==="style")e.style=nl([e.style,s.style]);else if(kr(i)){const r=e[i],o=s[i];o&&r!==o&&!(V(r)&&r.includes(o))&&(e[i]=r?[].concat(r,o):o)}else i!==""&&(e[i]=s[i])}return e}function gt(t,e,n,s=null){ct(t,e,7,[n,s])}const Zm=Hf();let ev=0;function tv(t,e,n){const s=t.type,i=(e?e.appContext:t.appContext)||Zm,r={uid:ev++,vnode:t,type:s,parent:e,appContext:i,root:null,next:null,subTree:null,effect:null,update:null,scope:new cf(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:e?e.provides:Object.create(i.provides),accessCache:null,renderCache:[],components:null,directives:null,propsOptions:jf(s,i),emitsOptions:xf(s,i),emit:null,emitted:null,propsDefaults:ae,inheritAttrs:s.inheritAttrs,ctx:ae,data:ae,props:ae,attrs:ae,slots:ae,refs:ae,setupState:ae,setupContext:null,attrsProxy:null,slotsProxy:null,suspense:n,suspenseId:n?n.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return r.ctx={_:r},r.root=e?e.root:r,r.emit=im.bind(null,r),t.ce&&t.ce(r),r}let Re=null,fr,va;{const t=of(),e=(n,s)=>{let i;return(i=t[n])||(i=t[n]=[]),i.push(s),r=>{i.length>1?i.forEach(o=>o(r)):i[0](r)}};fr=e("__VUE_INSTANCE_SETTERS__",n=>Re=n),va=e("__VUE_SSR_SETTERS__",n=>qr=n)}const Ci=t=>{const e=Re;return fr(t),t.scope.on(),()=>{t.scope.off(),fr(e)}},Qc=()=>{Re&&Re.scope.off(),fr(null)};function Xf(t){return t.vnode.shapeFlag&4}let qr=!1;function nv(t,e=!1){e&&va(e);const{props:n,children:s}=t.vnode,i=Xf(t);$m(t,n,i,e),Bm(t,s);const r=i?sv(t,e):void 0;return e&&va(!1),r}function sv(t,e){const n=t.type;t.accessCache=Object.create(null),t.proxy=Tf(new Proxy(t.ctx,Nm));const{setup:s}=n;if(s){const i=t.setupContext=s.length>1?rv(t):null,r=Ci(t);Fn();const o=zt(s,t,0,[t.props,i]);if(Vn(),r(),tf(o)){if(o.then(Qc,Qc),e)return o.then(a=>{Xc(t,a,e)}).catch(a=>{Wr(a,t,0)});t.asyncDep=o}else Xc(t,o,e)}else Jf(t,e)}function Xc(t,e,n){H(e)?t.type.__ssrInlineRender?t.ssrRender=e:t.render=e:ce(e)&&(t.setupState=Af(e)),Jf(t,n)}let Jc;function Jf(t,e,n){const s=t.type;if(!t.render){if(!e&&Jc&&!s.render){const i=s.template||fl(t).template;if(i){const{isCustomElement:r,compilerOptions:o}=t.appContext.config,{delimiters:a,compilerOptions:l}=s,c=Ie(Ie({isCustomElement:r,delimiters:a},o),l);s.render=Jc(i,c)}}t.render=s.render||ze}{const i=Ci(t);Fn();try{Om(t)}finally{Vn(),i()}}}function iv(t){return t.attrsProxy||(t.attrsProxy=new Proxy(t.attrs,{get(e,n){return Ve(t,"get","$attrs"),e[n]}}))}function rv(t){const e=n=>{t.exposed=n||{}};return{get attrs(){return iv(t)},slots:t.slots,emit:t.emit,expose:e}}function zr(t){if(t.exposed)return t.exposeProxy||(t.exposeProxy=new Proxy(Af(Tf(t.exposed)),{get(e,n){if(n in e)return e[n];if(n in Qs)return Qs[n](t)},has(e,n){return n in e||n in Qs}}))}function ov(t){return H(t)&&"__vccOpts"in t}const _l=(t,e)=>zg(t,e,qr),av="3.4.15";/**
* @vue/runtime-dom v3.4.15
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/const lv="http://www.w3.org/2000/svg",cv="http://www.w3.org/1998/Math/MathML",Gt=typeof document<"u"?document:null,Zc=Gt&&Gt.createElement("template"),uv={insert:(t,e,n)=>{e.insertBefore(t,n||null)},remove:t=>{const e=t.parentNode;e&&e.removeChild(t)},createElement:(t,e,n,s)=>{const i=e==="svg"?Gt.createElementNS(lv,t):e==="mathml"?Gt.createElementNS(cv,t):Gt.createElement(t,n?{is:n}:void 0);return t==="select"&&s&&s.multiple!=null&&i.setAttribute("multiple",s.multiple),i},createText:t=>Gt.createTextNode(t),createComment:t=>Gt.createComment(t),setText:(t,e)=>{t.nodeValue=e},setElementText:(t,e)=>{t.textContent=e},parentNode:t=>t.parentNode,nextSibling:t=>t.nextSibling,querySelector:t=>Gt.querySelector(t),setScopeId(t,e){t.setAttribute(e,"")},insertStaticContent(t,e,n,s,i,r){const o=n?n.previousSibling:e.lastChild;if(i&&(i===r||i.nextSibling))for(;e.insertBefore(i.cloneNode(!0),n),!(i===r||!(i=i.nextSibling)););else{Zc.innerHTML=s==="svg"?`<svg>${t}</svg>`:s==="mathml"?`<math>${t}</math>`:t;const a=Zc.content;if(s==="svg"||s==="mathml"){const l=a.firstChild;for(;l.firstChild;)a.appendChild(l.firstChild);a.removeChild(l)}e.insertBefore(a,n)}return[o?o.nextSibling:e.firstChild,n?n.previousSibling:e.lastChild]}},hv=Symbol("_vtc");function fv(t,e,n){const s=t[hv];s&&(e=(e?[e,...s]:[...s]).join(" ")),e==null?t.removeAttribute("class"):n?t.setAttribute("class",e):t.className=e}const dv=Symbol("_vod"),pv=Symbol("");function _v(t,e,n){const s=t.style,i=s.display,r=_e(n);if(n&&!r){if(e&&!_e(e))for(const o in e)n[o]==null&&Ea(s,o,"");for(const o in n)Ea(s,o,n[o])}else if(r){if(e!==n){const o=s[pv];o&&(n+=";"+o),s.cssText=n}}else e&&t.removeAttribute("style");dv in t&&(s.display=i)}const eu=/\s*!important$/;function Ea(t,e,n){if(V(n))n.forEach(s=>Ea(t,e,s));else if(n==null&&(n=""),e.startsWith("--"))t.setProperty(e,n);else{const s=gv(t,e);eu.test(n)?t.setProperty(Os(s),n.replace(eu,""),"important"):t[s]=n}}const tu=["Webkit","Moz","ms"],To={};function gv(t,e){const n=To[e];if(n)return n;let s=ds(e);if(s!=="filter"&&s in t)return To[e]=s;s=rf(s);for(let i=0;i<tu.length;i++){const r=tu[i]+s;if(r in t)return To[e]=r}return e}const nu="http://www.w3.org/1999/xlink";function mv(t,e,n,s,i){if(s&&e.startsWith("xlink:"))n==null?t.removeAttributeNS(nu,e.slice(6,e.length)):t.setAttributeNS(nu,e,n);else{const r=Tg(e);n==null||r&&!af(n)?t.removeAttribute(e):t.setAttribute(e,r?"":n)}}function vv(t,e,n,s,i,r,o){if(e==="innerHTML"||e==="textContent"){s&&o(s,i,r),t[e]=n??"";return}const a=t.tagName;if(e==="value"&&a!=="PROGRESS"&&!a.includes("-")){t._value=n;const c=a==="OPTION"?t.getAttribute("value"):t.value,u=n??"";c!==u&&(t.value=u),n==null&&t.removeAttribute(e);return}let l=!1;if(n===""||n==null){const c=typeof t[e];c==="boolean"?n=af(n):n==null&&c==="string"?(n="",l=!0):c==="number"&&(n=0,l=!0)}try{t[e]=n}catch{}l&&t.removeAttribute(e)}function Jn(t,e,n,s){t.addEventListener(e,n,s)}function Ev(t,e,n,s){t.removeEventListener(e,n,s)}const su=Symbol("_vei");function yv(t,e,n,s,i=null){const r=t[su]||(t[su]={}),o=r[e];if(s&&o)o.value=s;else{const[a,l]=bv(e);if(s){const c=r[e]=Tv(s,i);Jn(t,a,c,l)}else o&&(Ev(t,a,o,l),r[e]=void 0)}}const iu=/(?:Once|Passive|Capture)$/;function bv(t){let e;if(iu.test(t)){e={};let s;for(;s=t.match(iu);)t=t.slice(0,t.length-s[0].length),e[s[0].toLowerCase()]=!0}return[t[2]===":"?t.slice(3):Os(t.slice(2)),e]}let Io=0;const Cv=Promise.resolve(),wv=()=>Io||(Cv.then(()=>Io=0),Io=Date.now());function Tv(t,e){const n=s=>{if(!s._vts)s._vts=Date.now();else if(s._vts<=n.attached)return;ct(Iv(s,n.value),e,5,[s])};return n.value=t,n.attached=wv(),n}function Iv(t,e){if(V(e)){const n=t.stopImmediatePropagation;return t.stopImmediatePropagation=()=>{n.call(t),t._stopped=!0},e.map(s=>i=>!i._stopped&&s&&s(i))}else return e}const ru=t=>t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&t.charCodeAt(2)>96&&t.charCodeAt(2)<123,Sv=(t,e,n,s,i,r,o,a,l)=>{const c=i==="svg";e==="class"?fv(t,s,c):e==="style"?_v(t,n,s):kr(e)?Za(e)||yv(t,e,n,s,o):(e[0]==="."?(e=e.slice(1),!0):e[0]==="^"?(e=e.slice(1),!1):Av(t,e,s,c))?vv(t,e,s,r,o,a,l):(e==="true-value"?t._trueValue=s:e==="false-value"&&(t._falseValue=s),mv(t,e,s,c))};function Av(t,e,n,s){if(s)return!!(e==="innerHTML"||e==="textContent"||e in t&&ru(e)&&H(n));if(e==="spellcheck"||e==="draggable"||e==="translate"||e==="form"||e==="list"&&t.tagName==="INPUT"||e==="type"&&t.tagName==="TEXTAREA")return!1;if(e==="width"||e==="height"){const i=t.tagName;if(i==="IMG"||i==="VIDEO"||i==="CANVAS"||i==="SOURCE")return!1}return ru(e)&&_e(n)?!1:e in t}const ou=t=>{const e=t.props["onUpdate:modelValue"]||!1;return V(e)?n=>Ji(e,n):e};function Nv(t){t.target.composing=!0}function au(t){const e=t.target;e.composing&&(e.composing=!1,e.dispatchEvent(new Event("input")))}const So=Symbol("_assign"),lu={created(t,{modifiers:{lazy:e,trim:n,number:s}},i){t[So]=ou(i);const r=s||i.props&&i.props.type==="number";Jn(t,e?"change":"input",o=>{if(o.target.composing)return;let a=t.value;n&&(a=a.trim()),r&&(a=oa(a)),t[So](a)}),n&&Jn(t,"change",()=>{t.value=t.value.trim()}),e||(Jn(t,"compositionstart",Nv),Jn(t,"compositionend",au),Jn(t,"change",au))},mounted(t,{value:e}){t.value=e??""},beforeUpdate(t,{value:e,modifiers:{lazy:n,trim:s,number:i}},r){if(t[So]=ou(r),t.composing)return;const o=i||t.type==="number"?oa(t.value):t.value,a=e??"";o!==a&&(document.activeElement===t&&t.type!=="range"&&(n||s&&t.value.trim()===a)||(t.value=a))}},Ov=Ie({patchProp:Sv},uv);let cu;function Rv(){return cu||(cu=Wm(Ov))}const Dv=(...t)=>{const e=Rv().createApp(...t),{mount:n}=e;return e.mount=s=>{const i=Pv(s);if(!i)return;const r=e._component;!H(r)&&!r.render&&!r.template&&(r.template=i.innerHTML),i.innerHTML="";const o=n(i,!1,xv(i));return i instanceof Element&&(i.removeAttribute("v-cloak"),i.setAttribute("data-v-app","")),o},e};function xv(t){if(t instanceof SVGElement)return"svg";if(typeof MathMLElement=="function"&&t instanceof MathMLElement)return"mathml"}function Pv(t){return _e(t)?document.querySelector(t):t}function Lv(){return Zf().__VUE_DEVTOOLS_GLOBAL_HOOK__}function Zf(){return typeof navigator<"u"&&typeof window<"u"?window:typeof global<"u"?global:{}}const Mv=typeof Proxy=="function",kv="devtools-plugin:setup",$v="plugin:settings:set";let qn,ya;function Fv(){var t;return qn!==void 0||(typeof window<"u"&&window.performance?(qn=!0,ya=window.performance):typeof global<"u"&&(!((t=global.perf_hooks)===null||t===void 0)&&t.performance)?(qn=!0,ya=global.perf_hooks.performance):qn=!1),qn}function Vv(){return Fv()?ya.now():Date.now()}class Bv{constructor(e,n){this.target=null,this.targetQueue=[],this.onQueue=[],this.plugin=e,this.hook=n;const s={};if(e.settings)for(const o in e.settings){const a=e.settings[o];s[o]=a.defaultValue}const i=`__vue-devtools-plugin-settings__${e.id}`;let r=Object.assign({},s);try{const o=localStorage.getItem(i),a=JSON.parse(o);Object.assign(r,a)}catch{}this.fallbacks={getSettings(){return r},setSettings(o){try{localStorage.setItem(i,JSON.stringify(o))}catch{}r=o},now(){return Vv()}},n&&n.on($v,(o,a)=>{o===this.plugin.id&&this.fallbacks.setSettings(a)}),this.proxiedOn=new Proxy({},{get:(o,a)=>this.target?this.target.on[a]:(...l)=>{this.onQueue.push({method:a,args:l})}}),this.proxiedTarget=new Proxy({},{get:(o,a)=>this.target?this.target[a]:a==="on"?this.proxiedOn:Object.keys(this.fallbacks).includes(a)?(...l)=>(this.targetQueue.push({method:a,args:l,resolve:()=>{}}),this.fallbacks[a](...l)):(...l)=>new Promise(c=>{this.targetQueue.push({method:a,args:l,resolve:c})})})}async setRealTarget(e){this.target=e;for(const n of this.onQueue)this.target.on[n.method](...n.args);for(const n of this.targetQueue)n.resolve(await this.target[n.method](...n.args))}}function Hv(t,e){const n=t,s=Zf(),i=Lv(),r=Mv&&n.enableEarlyProxy;if(i&&(s.__VUE_DEVTOOLS_PLUGIN_API_AVAILABLE__||!r))i.emit(kv,t,e);else{const o=r?new Bv(n,i):null;(s.__VUE_DEVTOOLS_PLUGINS__=s.__VUE_DEVTOOLS_PLUGINS__||[]).push({pluginDescriptor:n,setupFn:e,proxy:o}),o&&e(o.proxiedTarget)}}/*!
 * vuex v4.1.0
 * (c) 2022 Evan You
 * @license MIT
 */var Wv="store";function Rs(t,e){Object.keys(t).forEach(function(n){return e(t[n],n)})}function jv(t){return t!==null&&typeof t=="object"}function Uv(t){return t&&typeof t.then=="function"}function Kv(t,e){return function(){return t(e)}}function ed(t,e,n){return e.indexOf(t)<0&&(n&&n.prepend?e.unshift(t):e.push(t)),function(){var s=e.indexOf(t);s>-1&&e.splice(s,1)}}function td(t,e){t._actions=Object.create(null),t._mutations=Object.create(null),t._wrappedGetters=Object.create(null),t._modulesNamespaceMap=Object.create(null);var n=t.state;Yr(t,n,[],t._modules.root,!0),gl(t,n,e)}function gl(t,e,n){var s=t._state,i=t._scope;t.getters={},t._makeLocalGettersCache=Object.create(null);var r=t._wrappedGetters,o={},a={},l=Ig(!0);l.run(function(){Rs(r,function(c,u){o[u]=Kv(c,t),a[u]=_l(function(){return o[u]()}),Object.defineProperty(t.getters,u,{get:function(){return a[u].value},enumerable:!0})})}),t._state=Hr({data:e}),t._scope=l,t.strict&&Qv(t),s&&n&&t._withCommit(function(){s.data=null}),i&&i.stop()}function Yr(t,e,n,s,i){var r=!n.length,o=t._modules.getNamespace(n);if(s.namespaced&&(t._modulesNamespaceMap[o],t._modulesNamespaceMap[o]=s),!r&&!i){var a=ml(e,n.slice(0,-1)),l=n[n.length-1];t._withCommit(function(){a[l]=s.state})}var c=s.context=Gv(t,o,n);s.forEachMutation(function(u,h){var f=o+h;qv(t,f,u,c)}),s.forEachAction(function(u,h){var f=u.root?h:o+h,_=u.handler||u;zv(t,f,_,c)}),s.forEachGetter(function(u,h){var f=o+h;Yv(t,f,u,c)}),s.forEachChild(function(u,h){Yr(t,e,n.concat(h),u,i)})}function Gv(t,e,n){var s=e==="",i={dispatch:s?t.dispatch:function(r,o,a){var l=dr(r,o,a),c=l.payload,u=l.options,h=l.type;return(!u||!u.root)&&(h=e+h),t.dispatch(h,c)},commit:s?t.commit:function(r,o,a){var l=dr(r,o,a),c=l.payload,u=l.options,h=l.type;(!u||!u.root)&&(h=e+h),t.commit(h,c,u)}};return Object.defineProperties(i,{getters:{get:s?function(){return t.getters}:function(){return nd(t,e)}},state:{get:function(){return ml(t.state,n)}}}),i}function nd(t,e){if(!t._makeLocalGettersCache[e]){var n={},s=e.length;Object.keys(t.getters).forEach(function(i){if(i.slice(0,s)===e){var r=i.slice(s);Object.defineProperty(n,r,{get:function(){return t.getters[i]},enumerable:!0})}}),t._makeLocalGettersCache[e]=n}return t._makeLocalGettersCache[e]}function qv(t,e,n,s){var i=t._mutations[e]||(t._mutations[e]=[]);i.push(function(o){n.call(t,s.state,o)})}function zv(t,e,n,s){var i=t._actions[e]||(t._actions[e]=[]);i.push(function(o){var a=n.call(t,{dispatch:s.dispatch,commit:s.commit,getters:s.getters,state:s.state,rootGetters:t.getters,rootState:t.state},o);return Uv(a)||(a=Promise.resolve(a)),t._devtoolHook?a.catch(function(l){throw t._devtoolHook.emit("vuex:error",l),l}):a})}function Yv(t,e,n,s){t._wrappedGetters[e]||(t._wrappedGetters[e]=function(r){return n(s.state,s.getters,r.state,r.getters)})}function Qv(t){ls(function(){return t._state.data},function(){},{deep:!0,flush:"sync"})}function ml(t,e){return e.reduce(function(n,s){return n[s]},t)}function dr(t,e,n){return jv(t)&&t.type&&(n=e,e=t,t=t.type),{type:t,payload:e,options:n}}var Xv="vuex bindings",uu="vuex:mutations",Ao="vuex:actions",zn="vuex",Jv=0;function Zv(t,e){Hv({id:"org.vuejs.vuex",app:t,label:"Vuex",homepage:"https://next.vuex.vuejs.org/",logo:"https://vuejs.org/images/icons/favicon-96x96.png",packageName:"vuex",componentStateTypes:[Xv]},function(n){n.addTimelineLayer({id:uu,label:"Vuex Mutations",color:hu}),n.addTimelineLayer({id:Ao,label:"Vuex Actions",color:hu}),n.addInspector({id:zn,label:"Vuex",icon:"storage",treeFilterPlaceholder:"Filter stores..."}),n.on.getInspectorTree(function(s){if(s.app===t&&s.inspectorId===zn)if(s.filter){var i=[];od(i,e._modules.root,s.filter,""),s.rootNodes=i}else s.rootNodes=[rd(e._modules.root,"")]}),n.on.getInspectorState(function(s){if(s.app===t&&s.inspectorId===zn){var i=s.nodeId;nd(e,i),s.state=nE(iE(e._modules,i),i==="root"?e.getters:e._makeLocalGettersCache,i)}}),n.on.editInspectorState(function(s){if(s.app===t&&s.inspectorId===zn){var i=s.nodeId,r=s.path;i!=="root"&&(r=i.split("/").filter(Boolean).concat(r)),e._withCommit(function(){s.set(e._state.data,r,s.state.value)})}}),e.subscribe(function(s,i){var r={};s.payload&&(r.payload=s.payload),r.state=i,n.notifyComponentUpdate(),n.sendInspectorTree(zn),n.sendInspectorState(zn),n.addTimelineEvent({layerId:uu,event:{time:Date.now(),title:s.type,data:r}})}),e.subscribeAction({before:function(s,i){var r={};s.payload&&(r.payload=s.payload),s._id=Jv++,s._time=Date.now(),r.state=i,n.addTimelineEvent({layerId:Ao,event:{time:s._time,title:s.type,groupId:s._id,subtitle:"start",data:r}})},after:function(s,i){var r={},o=Date.now()-s._time;r.duration={_custom:{type:"duration",display:o+"ms",tooltip:"Action duration",value:o}},s.payload&&(r.payload=s.payload),r.state=i,n.addTimelineEvent({layerId:Ao,event:{time:Date.now(),title:s.type,groupId:s._id,subtitle:"end",data:r}})}})})}var hu=8702998,eE=6710886,tE=16777215,sd={label:"namespaced",textColor:tE,backgroundColor:eE};function id(t){return t&&t!=="root"?t.split("/").slice(-2,-1)[0]:"Root"}function rd(t,e){return{id:e||"root",label:id(e),tags:t.namespaced?[sd]:[],children:Object.keys(t._children).map(function(n){return rd(t._children[n],e+n+"/")})}}function od(t,e,n,s){s.includes(n)&&t.push({id:s||"root",label:s.endsWith("/")?s.slice(0,s.length-1):s||"Root",tags:e.namespaced?[sd]:[]}),Object.keys(e._children).forEach(function(i){od(t,e._children[i],n,s+i+"/")})}function nE(t,e,n){e=n==="root"?e:e[n];var s=Object.keys(e),i={state:Object.keys(t.state).map(function(o){return{key:o,editable:!0,value:t.state[o]}})};if(s.length){var r=sE(e);i.getters=Object.keys(r).map(function(o){return{key:o.endsWith("/")?id(o):o,editable:!1,value:ba(function(){return r[o]})}})}return i}function sE(t){var e={};return Object.keys(t).forEach(function(n){var s=n.split("/");if(s.length>1){var i=e,r=s.pop();s.forEach(function(o){i[o]||(i[o]={_custom:{value:{},display:o,tooltip:"Module",abstract:!0}}),i=i[o]._custom.value}),i[r]=ba(function(){return t[n]})}else e[n]=ba(function(){return t[n]})}),e}function iE(t,e){var n=e.split("/").filter(function(s){return s});return n.reduce(function(s,i,r){var o=s[i];if(!o)throw new Error('Missing module "'+i+'" for path "'+e+'".');return r===n.length-1?o:o._children},e==="root"?t:t.root._children)}function ba(t){try{return t()}catch(e){return e}}var ht=function(e,n){this.runtime=n,this._children=Object.create(null),this._rawModule=e;var s=e.state;this.state=(typeof s=="function"?s():s)||{}},ad={namespaced:{configurable:!0}};ad.namespaced.get=function(){return!!this._rawModule.namespaced};ht.prototype.addChild=function(e,n){this._children[e]=n};ht.prototype.removeChild=function(e){delete this._children[e]};ht.prototype.getChild=function(e){return this._children[e]};ht.prototype.hasChild=function(e){return e in this._children};ht.prototype.update=function(e){this._rawModule.namespaced=e.namespaced,e.actions&&(this._rawModule.actions=e.actions),e.mutations&&(this._rawModule.mutations=e.mutations),e.getters&&(this._rawModule.getters=e.getters)};ht.prototype.forEachChild=function(e){Rs(this._children,e)};ht.prototype.forEachGetter=function(e){this._rawModule.getters&&Rs(this._rawModule.getters,e)};ht.prototype.forEachAction=function(e){this._rawModule.actions&&Rs(this._rawModule.actions,e)};ht.prototype.forEachMutation=function(e){this._rawModule.mutations&&Rs(this._rawModule.mutations,e)};Object.defineProperties(ht.prototype,ad);var Bn=function(e){this.register([],e,!1)};Bn.prototype.get=function(e){return e.reduce(function(n,s){return n.getChild(s)},this.root)};Bn.prototype.getNamespace=function(e){var n=this.root;return e.reduce(function(s,i){return n=n.getChild(i),s+(n.namespaced?i+"/":"")},"")};Bn.prototype.update=function(e){ld([],this.root,e)};Bn.prototype.register=function(e,n,s){var i=this;s===void 0&&(s=!0);var r=new ht(n,s);if(e.length===0)this.root=r;else{var o=this.get(e.slice(0,-1));o.addChild(e[e.length-1],r)}n.modules&&Rs(n.modules,function(a,l){i.register(e.concat(l),a,s)})};Bn.prototype.unregister=function(e){var n=this.get(e.slice(0,-1)),s=e[e.length-1],i=n.getChild(s);i&&i.runtime&&n.removeChild(s)};Bn.prototype.isRegistered=function(e){var n=this.get(e.slice(0,-1)),s=e[e.length-1];return n?n.hasChild(s):!1};function ld(t,e,n){if(e.update(n),n.modules)for(var s in n.modules){if(!e.getChild(s))return;ld(t.concat(s),e.getChild(s),n.modules[s])}}function rE(t){return new He(t)}var He=function(e){var n=this;e===void 0&&(e={});var s=e.plugins;s===void 0&&(s=[]);var i=e.strict;i===void 0&&(i=!1);var r=e.devtools;this._committing=!1,this._actions=Object.create(null),this._actionSubscribers=[],this._mutations=Object.create(null),this._wrappedGetters=Object.create(null),this._modules=new Bn(e),this._modulesNamespaceMap=Object.create(null),this._subscribers=[],this._makeLocalGettersCache=Object.create(null),this._scope=null,this._devtools=r;var o=this,a=this,l=a.dispatch,c=a.commit;this.dispatch=function(f,_){return l.call(o,f,_)},this.commit=function(f,_,E){return c.call(o,f,_,E)},this.strict=i;var u=this._modules.root.state;Yr(this,u,[],this._modules.root),gl(this,u),s.forEach(function(h){return h(n)})},vl={state:{configurable:!0}};He.prototype.install=function(e,n){e.provide(n||Wv,this),e.config.globalProperties.$store=this;var s=this._devtools!==void 0?this._devtools:!1;s&&Zv(e,this)};vl.state.get=function(){return this._state.data};vl.state.set=function(t){};He.prototype.commit=function(e,n,s){var i=this,r=dr(e,n,s),o=r.type,a=r.payload,l={type:o,payload:a},c=this._mutations[o];c&&(this._withCommit(function(){c.forEach(function(h){h(a)})}),this._subscribers.slice().forEach(function(u){return u(l,i.state)}))};He.prototype.dispatch=function(e,n){var s=this,i=dr(e,n),r=i.type,o=i.payload,a={type:r,payload:o},l=this._actions[r];if(l){try{this._actionSubscribers.slice().filter(function(u){return u.before}).forEach(function(u){return u.before(a,s.state)})}catch{}var c=l.length>1?Promise.all(l.map(function(u){return u(o)})):l[0](o);return new Promise(function(u,h){c.then(function(f){try{s._actionSubscribers.filter(function(_){return _.after}).forEach(function(_){return _.after(a,s.state)})}catch{}u(f)},function(f){try{s._actionSubscribers.filter(function(_){return _.error}).forEach(function(_){return _.error(a,s.state,f)})}catch{}h(f)})})}};He.prototype.subscribe=function(e,n){return ed(e,this._subscribers,n)};He.prototype.subscribeAction=function(e,n){var s=typeof e=="function"?{before:e}:e;return ed(s,this._actionSubscribers,n)};He.prototype.watch=function(e,n,s){var i=this;return ls(function(){return e(i.state,i.getters)},n,Object.assign({},s))};He.prototype.replaceState=function(e){var n=this;this._withCommit(function(){n._state.data=e})};He.prototype.registerModule=function(e,n,s){s===void 0&&(s={}),typeof e=="string"&&(e=[e]),this._modules.register(e,n),Yr(this,this.state,e,this._modules.get(e),s.preserveState),gl(this,this.state)};He.prototype.unregisterModule=function(e){var n=this;typeof e=="string"&&(e=[e]),this._modules.unregister(e),this._withCommit(function(){var s=ml(n.state,e.slice(0,-1));delete s[e[e.length-1]]}),td(this)};He.prototype.hasModule=function(e){return typeof e=="string"&&(e=[e]),this._modules.isRegistered(e)};He.prototype.hotUpdate=function(e){this._modules.update(e),td(this,!0)};He.prototype._withCommit=function(e){var n=this._committing;this._committing=!0,e(),this._committing=n};Object.defineProperties(He.prototype,vl);var fu={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cd={NODE_CLIENT:!1,NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const T=function(t,e){if(!t)throw Ds(e)},Ds=function(t){return new Error("Firebase Database ("+cd.SDK_VERSION+") INTERNAL ASSERT FAILED: "+t)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ud=function(t){const e=[];let n=0;for(let s=0;s<t.length;s++){let i=t.charCodeAt(s);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&s+1<t.length&&(t.charCodeAt(s+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++s)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},oE=function(t){const e=[];let n=0,s=0;for(;n<t.length;){const i=t[n++];if(i<128)e[s++]=String.fromCharCode(i);else if(i>191&&i<224){const r=t[n++];e[s++]=String.fromCharCode((i&31)<<6|r&63)}else if(i>239&&i<365){const r=t[n++],o=t[n++],a=t[n++],l=((i&7)<<18|(r&63)<<12|(o&63)<<6|a&63)-65536;e[s++]=String.fromCharCode(55296+(l>>10)),e[s++]=String.fromCharCode(56320+(l&1023))}else{const r=t[n++],o=t[n++];e[s++]=String.fromCharCode((i&15)<<12|(r&63)<<6|o&63)}}return e.join("")},El={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let i=0;i<t.length;i+=3){const r=t[i],o=i+1<t.length,a=o?t[i+1]:0,l=i+2<t.length,c=l?t[i+2]:0,u=r>>2,h=(r&3)<<4|a>>4;let f=(a&15)<<2|c>>6,_=c&63;l||(_=64,o||(f=64)),s.push(n[u],n[h],n[f],n[_])}return s.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(ud(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):oE(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let i=0;i<t.length;){const r=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0;++i;const c=i<t.length?n[t.charAt(i)]:64;++i;const h=i<t.length?n[t.charAt(i)]:64;if(++i,r==null||a==null||c==null||h==null)throw new aE;const f=r<<2|a>>4;if(s.push(f),c!==64){const _=a<<4&240|c>>2;if(s.push(_),h!==64){const E=c<<6&192|h;s.push(E)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class aE extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const hd=function(t){const e=ud(t);return El.encodeByteArray(e,!0)},pr=function(t){return hd(t).replace(/\./g,"")},Ca=function(t){try{return El.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lE(t){return fd(void 0,t)}function fd(t,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:const n=e;return new Date(n.getTime());case Object:t===void 0&&(t={});break;case Array:t=[];break;default:return e}for(const n in e)!e.hasOwnProperty(n)||!cE(n)||(t[n]=fd(t[n],e[n]));return t}function cE(t){return t!=="__proto__"}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uE(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hE=()=>uE().__FIREBASE_DEFAULTS__,fE=()=>{if(typeof process>"u"||typeof fu>"u")return;const t=fu.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},dE=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&Ca(t[1]);return e&&JSON.parse(e)},dd=()=>{try{return hE()||fE()||dE()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},pE=t=>{var e,n;return(n=(e=dd())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},_E=t=>{const e=pE(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const s=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),s]:[e.substring(0,n),s]},pd=()=>{var t;return(t=dd())===null||t===void 0?void 0:t.config};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qr{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,s)=>{n?this.reject(n):this.resolve(s),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,s))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gE(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},s=e||"demo-project",i=t.iat||0,r=t.sub||t.user_id;if(!r)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${s}`,aud:s,iat:i,exp:i+3600,auth_time:i,sub:r,user_id:r,firebase:{sign_in_provider:"custom",identities:{}}},t);return[pr(JSON.stringify(n)),pr(JSON.stringify(o)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mE(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function _d(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(mE())}function vE(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function EE(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function gd(){return cd.NODE_ADMIN===!0}function md(){try{return typeof indexedDB=="object"}catch{return!1}}function vd(){return new Promise((t,e)=>{try{let n=!0;const s="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(s);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(s),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var r;e(((r=i.error)===null||r===void 0?void 0:r.message)||"")}}catch(n){e(n)}})}function yE(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bE="FirebaseError";class Hn extends Error{constructor(e,n,s){super(n),this.code=e,this.customData=s,this.name=bE,Object.setPrototypeOf(this,Hn.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Xr.prototype.create)}}class Xr{constructor(e,n,s){this.service=e,this.serviceName=n,this.errors=s}create(e,...n){const s=n[0]||{},i=`${this.service}/${e}`,r=this.errors[e],o=r?CE(r,s):"Error",a=`${this.serviceName}: ${o} (${i}).`;return new Hn(i,a,s)}}function CE(t,e){return t.replace(wE,(n,s)=>{const i=e[s];return i!=null?String(i):`<${s}?>`})}const wE=/\{\$([^}]+)}/g;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fi(t){return JSON.parse(t)}function Ee(t){return JSON.stringify(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ed=function(t){let e={},n={},s={},i="";try{const r=t.split(".");e=fi(Ca(r[0])||""),n=fi(Ca(r[1])||""),i=r[2],s=n.d||{},delete n.d}catch{}return{header:e,claims:n,data:s,signature:i}},TE=function(t){const e=Ed(t),n=e.claims;return!!n&&typeof n=="object"&&n.hasOwnProperty("iat")},IE=function(t){const e=Ed(t).claims;return typeof e=="object"&&e.admin===!0};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $t(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function gs(t,e){if(Object.prototype.hasOwnProperty.call(t,e))return t[e]}function du(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function _r(t,e,n){const s={};for(const i in t)Object.prototype.hasOwnProperty.call(t,i)&&(s[i]=e.call(n,t[i],i,t));return s}function gr(t,e){if(t===e)return!0;const n=Object.keys(t),s=Object.keys(e);for(const i of n){if(!s.includes(i))return!1;const r=t[i],o=e[i];if(pu(r)&&pu(o)){if(!gr(r,o))return!1}else if(r!==o)return!1}for(const i of s)if(!n.includes(i))return!1;return!0}function pu(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function SE(t){const e=[];for(const[n,s]of Object.entries(t))Array.isArray(s)?s.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(s));return e.length?"&"+e.join("&"):""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AE{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=512/8,this.pad_[0]=128;for(let e=1;e<this.blockSize;++e)this.pad_[e]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(e,n){n||(n=0);const s=this.W_;if(typeof e=="string")for(let h=0;h<16;h++)s[h]=e.charCodeAt(n)<<24|e.charCodeAt(n+1)<<16|e.charCodeAt(n+2)<<8|e.charCodeAt(n+3),n+=4;else for(let h=0;h<16;h++)s[h]=e[n]<<24|e[n+1]<<16|e[n+2]<<8|e[n+3],n+=4;for(let h=16;h<80;h++){const f=s[h-3]^s[h-8]^s[h-14]^s[h-16];s[h]=(f<<1|f>>>31)&4294967295}let i=this.chain_[0],r=this.chain_[1],o=this.chain_[2],a=this.chain_[3],l=this.chain_[4],c,u;for(let h=0;h<80;h++){h<40?h<20?(c=a^r&(o^a),u=1518500249):(c=r^o^a,u=1859775393):h<60?(c=r&o|a&(r|o),u=2400959708):(c=r^o^a,u=3395469782);const f=(i<<5|i>>>27)+c+l+u+s[h]&4294967295;l=a,a=o,o=(r<<30|r>>>2)&4294967295,r=i,i=f}this.chain_[0]=this.chain_[0]+i&4294967295,this.chain_[1]=this.chain_[1]+r&4294967295,this.chain_[2]=this.chain_[2]+o&4294967295,this.chain_[3]=this.chain_[3]+a&4294967295,this.chain_[4]=this.chain_[4]+l&4294967295}update(e,n){if(e==null)return;n===void 0&&(n=e.length);const s=n-this.blockSize;let i=0;const r=this.buf_;let o=this.inbuf_;for(;i<n;){if(o===0)for(;i<=s;)this.compress_(e,i),i+=this.blockSize;if(typeof e=="string"){for(;i<n;)if(r[o]=e.charCodeAt(i),++o,++i,o===this.blockSize){this.compress_(r),o=0;break}}else for(;i<n;)if(r[o]=e[i],++o,++i,o===this.blockSize){this.compress_(r),o=0;break}}this.inbuf_=o,this.total_+=n}digest(){const e=[];let n=this.total_*8;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(let i=this.blockSize-1;i>=56;i--)this.buf_[i]=n&255,n/=256;this.compress_(this.buf_);let s=0;for(let i=0;i<5;i++)for(let r=24;r>=0;r-=8)e[s]=this.chain_[i]>>r&255,++s;return e}}function yl(t,e){return`${t} failed: ${e} argument `}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NE=function(t){const e=[];let n=0;for(let s=0;s<t.length;s++){let i=t.charCodeAt(s);if(i>=55296&&i<=56319){const r=i-55296;s++,T(s<t.length,"Surrogate pair missing trail surrogate.");const o=t.charCodeAt(s)-56320;i=65536+(r<<10)+o}i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):i<65536?(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},Jr=function(t){let e=0;for(let n=0;n<t.length;n++){const s=t.charCodeAt(n);s<128?e++:s<2048?e+=2:s>=55296&&s<=56319?(e+=4,n++):e+=3}return e};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OE=1e3,RE=2,DE=4*60*60*1e3,xE=.5;function _u(t,e=OE,n=RE){const s=e*Math.pow(n,t),i=Math.round(xE*s*(Math.random()-.5)*2);return Math.min(DE,s+i)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function an(t){return t&&t._delegate?t._delegate:t}class xt{constructor(e,n,s){this.name=e,this.instanceFactory=n,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _n="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PE{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const s=new Qr;if(this.instancesDeferred.set(n,s),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&s.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const s=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(s)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:s})}catch(r){if(i)return null;throw r}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(ME(e))try{this.getOrInitializeService({instanceIdentifier:_n})}catch{}for(const[n,s]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const r=this.getOrInitializeService({instanceIdentifier:i});s.resolve(r)}catch{}}}}clearInstance(e=_n){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=_n){return this.instances.has(e)}getOptions(e=_n){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,s=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:s,options:n});for(const[r,o]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(r);s===a&&o.resolve(i)}return i}onInit(e,n){var s;const i=this.normalizeInstanceIdentifier(n),r=(s=this.onInitCallbacks.get(i))!==null&&s!==void 0?s:new Set;r.add(e),this.onInitCallbacks.set(i,r);const o=this.instances.get(i);return o&&e(o,i),()=>{r.delete(e)}}invokeOnInitCallbacks(e,n){const s=this.onInitCallbacks.get(n);if(s)for(const i of s)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let s=this.instances.get(e);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:LE(e),options:n}),this.instances.set(e,s),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(s,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,s)}catch{}return s||null}normalizeInstanceIdentifier(e=_n){return this.component?this.component.multipleInstances?e:_n:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function LE(t){return t===_n?void 0:t}function ME(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kE{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new PE(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ie;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(ie||(ie={}));const $E={debug:ie.DEBUG,verbose:ie.VERBOSE,info:ie.INFO,warn:ie.WARN,error:ie.ERROR,silent:ie.SILENT},FE=ie.INFO,VE={[ie.DEBUG]:"log",[ie.VERBOSE]:"log",[ie.INFO]:"info",[ie.WARN]:"warn",[ie.ERROR]:"error"},BE=(t,e,...n)=>{if(e<t.logLevel)return;const s=new Date().toISOString(),i=VE[e];if(i)console[i](`[${s}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class bl{constructor(e){this.name=e,this._logLevel=FE,this._logHandler=BE,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in ie))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?$E[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,ie.DEBUG,...e),this._logHandler(this,ie.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,ie.VERBOSE,...e),this._logHandler(this,ie.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,ie.INFO,...e),this._logHandler(this,ie.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,ie.WARN,...e),this._logHandler(this,ie.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,ie.ERROR,...e),this._logHandler(this,ie.ERROR,...e)}}const HE=(t,e)=>e.some(n=>t instanceof n);let gu,mu;function WE(){return gu||(gu=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function jE(){return mu||(mu=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const yd=new WeakMap,wa=new WeakMap,bd=new WeakMap,No=new WeakMap,Cl=new WeakMap;function UE(t){const e=new Promise((n,s)=>{const i=()=>{t.removeEventListener("success",r),t.removeEventListener("error",o)},r=()=>{n(Yt(t.result)),i()},o=()=>{s(t.error),i()};t.addEventListener("success",r),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&yd.set(n,t)}).catch(()=>{}),Cl.set(e,t),e}function KE(t){if(wa.has(t))return;const e=new Promise((n,s)=>{const i=()=>{t.removeEventListener("complete",r),t.removeEventListener("error",o),t.removeEventListener("abort",o)},r=()=>{n(),i()},o=()=>{s(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",r),t.addEventListener("error",o),t.addEventListener("abort",o)});wa.set(t,e)}let Ta={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return wa.get(t);if(e==="objectStoreNames")return t.objectStoreNames||bd.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Yt(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function GE(t){Ta=t(Ta)}function qE(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const s=t.call(Oo(this),e,...n);return bd.set(s,e.sort?e.sort():[e]),Yt(s)}:jE().includes(t)?function(...e){return t.apply(Oo(this),e),Yt(yd.get(this))}:function(...e){return Yt(t.apply(Oo(this),e))}}function zE(t){return typeof t=="function"?qE(t):(t instanceof IDBTransaction&&KE(t),HE(t,WE())?new Proxy(t,Ta):t)}function Yt(t){if(t instanceof IDBRequest)return UE(t);if(No.has(t))return No.get(t);const e=zE(t);return e!==t&&(No.set(t,e),Cl.set(e,t)),e}const Oo=t=>Cl.get(t);function YE(t,e,{blocked:n,upgrade:s,blocking:i,terminated:r}={}){const o=indexedDB.open(t,e),a=Yt(o);return s&&o.addEventListener("upgradeneeded",l=>{s(Yt(o.result),l.oldVersion,l.newVersion,Yt(o.transaction),l)}),n&&o.addEventListener("blocked",l=>n(l.oldVersion,l.newVersion,l)),a.then(l=>{r&&l.addEventListener("close",()=>r()),i&&l.addEventListener("versionchange",c=>i(c.oldVersion,c.newVersion,c))}).catch(()=>{}),a}const QE=["get","getKey","getAll","getAllKeys","count"],XE=["put","add","delete","clear"],Ro=new Map;function vu(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Ro.get(e))return Ro.get(e);const n=e.replace(/FromIndex$/,""),s=e!==n,i=XE.includes(n);if(!(n in(s?IDBIndex:IDBObjectStore).prototype)||!(i||QE.includes(n)))return;const r=async function(o,...a){const l=this.transaction(o,i?"readwrite":"readonly");let c=l.store;return s&&(c=c.index(a.shift())),(await Promise.all([c[n](...a),i&&l.done]))[0]};return Ro.set(e,r),r}GE(t=>({...t,get:(e,n,s)=>vu(e,n)||t.get(e,n,s),has:(e,n)=>!!vu(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JE{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(ZE(n)){const s=n.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(n=>n).join(" ")}}function ZE(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Ia="@firebase/app",Eu="0.9.26";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const On=new bl("@firebase/app"),ey="@firebase/app-compat",ty="@firebase/analytics-compat",ny="@firebase/analytics",sy="@firebase/app-check-compat",iy="@firebase/app-check",ry="@firebase/auth",oy="@firebase/auth-compat",ay="@firebase/database",ly="@firebase/database-compat",cy="@firebase/functions",uy="@firebase/functions-compat",hy="@firebase/installations",fy="@firebase/installations-compat",dy="@firebase/messaging",py="@firebase/messaging-compat",_y="@firebase/performance",gy="@firebase/performance-compat",my="@firebase/remote-config",vy="@firebase/remote-config-compat",Ey="@firebase/storage",yy="@firebase/storage-compat",by="@firebase/firestore",Cy="@firebase/firestore-compat",wy="firebase",Ty="10.7.2";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sa="[DEFAULT]",Iy={[Ia]:"fire-core",[ey]:"fire-core-compat",[ny]:"fire-analytics",[ty]:"fire-analytics-compat",[iy]:"fire-app-check",[sy]:"fire-app-check-compat",[ry]:"fire-auth",[oy]:"fire-auth-compat",[ay]:"fire-rtdb",[ly]:"fire-rtdb-compat",[cy]:"fire-fn",[uy]:"fire-fn-compat",[hy]:"fire-iid",[fy]:"fire-iid-compat",[dy]:"fire-fcm",[py]:"fire-fcm-compat",[_y]:"fire-perf",[gy]:"fire-perf-compat",[my]:"fire-rc",[vy]:"fire-rc-compat",[Ey]:"fire-gcs",[yy]:"fire-gcs-compat",[by]:"fire-fst",[Cy]:"fire-fst-compat","fire-js":"fire-js",[wy]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mr=new Map,Aa=new Map;function Sy(t,e){try{t.container.addComponent(e)}catch(n){On.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function en(t){const e=t.name;if(Aa.has(e))return On.debug(`There were multiple attempts to register component ${e}.`),!1;Aa.set(e,t);for(const n of mr.values())Sy(n,t);return!0}function wi(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ay={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."},Qt=new Xr("app","Firebase",Ay);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ny{constructor(e,n,s){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new xt("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Qt.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Oy=Ty;function Cd(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const s=Object.assign({name:Sa,automaticDataCollectionEnabled:!1},e),i=s.name;if(typeof i!="string"||!i)throw Qt.create("bad-app-name",{appName:String(i)});if(n||(n=pd()),!n)throw Qt.create("no-options");const r=mr.get(i);if(r){if(gr(n,r.options)&&gr(s,r.config))return r;throw Qt.create("duplicate-app",{appName:i})}const o=new kE(i);for(const l of Aa.values())o.addComponent(l);const a=new Ny(n,s,o);return mr.set(i,a),a}function wd(t=Sa){const e=mr.get(t);if(!e&&t===Sa&&pd())return Cd();if(!e)throw Qt.create("no-app",{appName:t});return e}function yt(t,e,n){var s;let i=(s=Iy[t])!==null&&s!==void 0?s:t;n&&(i+=`-${n}`);const r=i.match(/\s|\//),o=e.match(/\s|\//);if(r||o){const a=[`Unable to register library "${i}" with version "${e}":`];r&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),r&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),On.warn(a.join(" "));return}en(new xt(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ry="firebase-heartbeat-database",Dy=1,di="firebase-heartbeat-store";let Do=null;function Td(){return Do||(Do=YE(Ry,Dy,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(di)}catch(n){console.warn(n)}}}}).catch(t=>{throw Qt.create("idb-open",{originalErrorMessage:t.message})})),Do}async function xy(t){try{return await(await Td()).transaction(di).objectStore(di).get(Id(t))}catch(e){if(e instanceof Hn)On.warn(e.message);else{const n=Qt.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});On.warn(n.message)}}}async function yu(t,e){try{const s=(await Td()).transaction(di,"readwrite");await s.objectStore(di).put(e,Id(t)),await s.done}catch(n){if(n instanceof Hn)On.warn(n.message);else{const s=Qt.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});On.warn(s.message)}}}function Id(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Py=1024,Ly=30*24*60*60*1e3;class My{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new $y(n),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){var e,n;const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=bu();if(!(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null))&&!(this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(o=>o.date===r)))return this._heartbeatsCache.heartbeats.push({date:r,agent:i}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(o=>{const a=new Date(o.date).valueOf();return Date.now()-a<=Ly}),this._storage.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){var e;if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=bu(),{heartbeatsToSend:s,unsentEntries:i}=ky(this._heartbeatsCache.heartbeats),r=pr(JSON.stringify({version:2,heartbeats:s}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),r}}function bu(){return new Date().toISOString().substring(0,10)}function ky(t,e=Py){const n=[];let s=t.slice();for(const i of t){const r=n.find(o=>o.agent===i.agent);if(r){if(r.dates.push(i.date),Cu(n)>e){r.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),Cu(n)>e){n.pop();break}s=s.slice(1)}return{heartbeatsToSend:n,unsentEntries:s}}class $y{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return md()?vd().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await xy(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return yu(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return yu(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function Cu(t){return pr(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fy(t){en(new xt("platform-logger",e=>new JE(e),"PRIVATE")),en(new xt("heartbeat",e=>new My(e),"PRIVATE")),yt(Ia,Eu,t),yt(Ia,Eu,"esm2017"),yt("fire-js","")}Fy("");var Vy="firebase",By="10.7.2";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */yt(Vy,By,"app");const Hy=(t,e)=>e.some(n=>t instanceof n);let wu,Tu;function Wy(){return wu||(wu=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function jy(){return Tu||(Tu=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Sd=new WeakMap,Na=new WeakMap,Ad=new WeakMap,xo=new WeakMap,wl=new WeakMap;function Uy(t){const e=new Promise((n,s)=>{const i=()=>{t.removeEventListener("success",r),t.removeEventListener("error",o)},r=()=>{n(Xt(t.result)),i()},o=()=>{s(t.error),i()};t.addEventListener("success",r),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&Sd.set(n,t)}).catch(()=>{}),wl.set(e,t),e}function Ky(t){if(Na.has(t))return;const e=new Promise((n,s)=>{const i=()=>{t.removeEventListener("complete",r),t.removeEventListener("error",o),t.removeEventListener("abort",o)},r=()=>{n(),i()},o=()=>{s(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",r),t.addEventListener("error",o),t.addEventListener("abort",o)});Na.set(t,e)}let Oa={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Na.get(t);if(e==="objectStoreNames")return t.objectStoreNames||Ad.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Xt(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function Gy(t){Oa=t(Oa)}function qy(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const s=t.call(Po(this),e,...n);return Ad.set(s,e.sort?e.sort():[e]),Xt(s)}:jy().includes(t)?function(...e){return t.apply(Po(this),e),Xt(Sd.get(this))}:function(...e){return Xt(t.apply(Po(this),e))}}function zy(t){return typeof t=="function"?qy(t):(t instanceof IDBTransaction&&Ky(t),Hy(t,Wy())?new Proxy(t,Oa):t)}function Xt(t){if(t instanceof IDBRequest)return Uy(t);if(xo.has(t))return xo.get(t);const e=zy(t);return e!==t&&(xo.set(t,e),wl.set(e,t)),e}const Po=t=>wl.get(t);function Yy(t,e,{blocked:n,upgrade:s,blocking:i,terminated:r}={}){const o=indexedDB.open(t,e),a=Xt(o);return s&&o.addEventListener("upgradeneeded",l=>{s(Xt(o.result),l.oldVersion,l.newVersion,Xt(o.transaction))}),n&&o.addEventListener("blocked",()=>n()),a.then(l=>{r&&l.addEventListener("close",()=>r()),i&&l.addEventListener("versionchange",()=>i())}).catch(()=>{}),a}const Qy=["get","getKey","getAll","getAllKeys","count"],Xy=["put","add","delete","clear"],Lo=new Map;function Iu(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Lo.get(e))return Lo.get(e);const n=e.replace(/FromIndex$/,""),s=e!==n,i=Xy.includes(n);if(!(n in(s?IDBIndex:IDBObjectStore).prototype)||!(i||Qy.includes(n)))return;const r=async function(o,...a){const l=this.transaction(o,i?"readwrite":"readonly");let c=l.store;return s&&(c=c.index(a.shift())),(await Promise.all([c[n](...a),i&&l.done]))[0]};return Lo.set(e,r),r}Gy(t=>({...t,get:(e,n,s)=>Iu(e,n)||t.get(e,n,s),has:(e,n)=>!!Iu(e,n)||t.has(e,n)}));const Nd="@firebase/installations",Tl="0.6.4";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Od=1e4,Rd=`w:${Tl}`,Dd="FIS_v2",Jy="https://firebaseinstallations.googleapis.com/v1",Zy=60*60*1e3,eb="installations",tb="Installations";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nb={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},Rn=new Xr(eb,tb,nb);function xd(t){return t instanceof Hn&&t.code.includes("request-failed")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pd({projectId:t}){return`${Jy}/projects/${t}/installations`}function Ld(t){return{token:t.token,requestStatus:2,expiresIn:ib(t.expiresIn),creationTime:Date.now()}}async function Md(t,e){const s=(await e.json()).error;return Rn.create("request-failed",{requestName:t,serverCode:s.code,serverMessage:s.message,serverStatus:s.status})}function kd({apiKey:t}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t})}function sb(t,{refreshToken:e}){const n=kd(t);return n.append("Authorization",rb(e)),n}async function $d(t){const e=await t();return e.status>=500&&e.status<600?t():e}function ib(t){return Number(t.replace("s","000"))}function rb(t){return`${Dd} ${t}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ob({appConfig:t,heartbeatServiceProvider:e},{fid:n}){const s=Pd(t),i=kd(t),r=e.getImmediate({optional:!0});if(r){const c=await r.getHeartbeatsHeader();c&&i.append("x-firebase-client",c)}const o={fid:n,authVersion:Dd,appId:t.appId,sdkVersion:Rd},a={method:"POST",headers:i,body:JSON.stringify(o)},l=await $d(()=>fetch(s,a));if(l.ok){const c=await l.json();return{fid:c.fid||n,registrationStatus:2,refreshToken:c.refreshToken,authToken:Ld(c.authToken)}}else throw await Md("Create Installation",l)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fd(t){return new Promise(e=>{setTimeout(e,t)})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ab(t){return btoa(String.fromCharCode(...t)).replace(/\+/g,"-").replace(/\//g,"_")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lb=/^[cdef][\w-]{21}$/,Ra="";function cb(){try{const t=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(t),t[0]=112+t[0]%16;const n=ub(t);return lb.test(n)?n:Ra}catch{return Ra}}function ub(t){return ab(t).substr(0,22)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zr(t){return`${t.appName}!${t.appId}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vd=new Map;function Bd(t,e){const n=Zr(t);Hd(n,e),hb(n,e)}function Hd(t,e){const n=Vd.get(t);if(n)for(const s of n)s(e)}function hb(t,e){const n=fb();n&&n.postMessage({key:t,fid:e}),db()}let En=null;function fb(){return!En&&"BroadcastChannel"in self&&(En=new BroadcastChannel("[Firebase] FID Change"),En.onmessage=t=>{Hd(t.data.key,t.data.fid)}),En}function db(){Vd.size===0&&En&&(En.close(),En=null)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pb="firebase-installations-database",_b=1,Dn="firebase-installations-store";let Mo=null;function Il(){return Mo||(Mo=Yy(pb,_b,{upgrade:(t,e)=>{switch(e){case 0:t.createObjectStore(Dn)}}})),Mo}async function vr(t,e){const n=Zr(t),i=(await Il()).transaction(Dn,"readwrite"),r=i.objectStore(Dn),o=await r.get(n);return await r.put(e,n),await i.done,(!o||o.fid!==e.fid)&&Bd(t,e.fid),e}async function Wd(t){const e=Zr(t),s=(await Il()).transaction(Dn,"readwrite");await s.objectStore(Dn).delete(e),await s.done}async function eo(t,e){const n=Zr(t),i=(await Il()).transaction(Dn,"readwrite"),r=i.objectStore(Dn),o=await r.get(n),a=e(o);return a===void 0?await r.delete(n):await r.put(a,n),await i.done,a&&(!o||o.fid!==a.fid)&&Bd(t,a.fid),a}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Sl(t){let e;const n=await eo(t.appConfig,s=>{const i=gb(s),r=mb(t,i);return e=r.registrationPromise,r.installationEntry});return n.fid===Ra?{installationEntry:await e}:{installationEntry:n,registrationPromise:e}}function gb(t){const e=t||{fid:cb(),registrationStatus:0};return jd(e)}function mb(t,e){if(e.registrationStatus===0){if(!navigator.onLine){const i=Promise.reject(Rn.create("app-offline"));return{installationEntry:e,registrationPromise:i}}const n={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},s=vb(t,n);return{installationEntry:n,registrationPromise:s}}else return e.registrationStatus===1?{installationEntry:e,registrationPromise:Eb(t)}:{installationEntry:e}}async function vb(t,e){try{const n=await ob(t,e);return vr(t.appConfig,n)}catch(n){throw xd(n)&&n.customData.serverCode===409?await Wd(t.appConfig):await vr(t.appConfig,{fid:e.fid,registrationStatus:0}),n}}async function Eb(t){let e=await Su(t.appConfig);for(;e.registrationStatus===1;)await Fd(100),e=await Su(t.appConfig);if(e.registrationStatus===0){const{installationEntry:n,registrationPromise:s}=await Sl(t);return s||n}return e}function Su(t){return eo(t,e=>{if(!e)throw Rn.create("installation-not-found");return jd(e)})}function jd(t){return yb(t)?{fid:t.fid,registrationStatus:0}:t}function yb(t){return t.registrationStatus===1&&t.registrationTime+Od<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function bb({appConfig:t,heartbeatServiceProvider:e},n){const s=Cb(t,n),i=sb(t,n),r=e.getImmediate({optional:!0});if(r){const c=await r.getHeartbeatsHeader();c&&i.append("x-firebase-client",c)}const o={installation:{sdkVersion:Rd,appId:t.appId}},a={method:"POST",headers:i,body:JSON.stringify(o)},l=await $d(()=>fetch(s,a));if(l.ok){const c=await l.json();return Ld(c)}else throw await Md("Generate Auth Token",l)}function Cb(t,{fid:e}){return`${Pd(t)}/${e}/authTokens:generate`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Al(t,e=!1){let n;const s=await eo(t.appConfig,r=>{if(!Ud(r))throw Rn.create("not-registered");const o=r.authToken;if(!e&&Ib(o))return r;if(o.requestStatus===1)return n=wb(t,e),r;{if(!navigator.onLine)throw Rn.create("app-offline");const a=Ab(r);return n=Tb(t,a),a}});return n?await n:s.authToken}async function wb(t,e){let n=await Au(t.appConfig);for(;n.authToken.requestStatus===1;)await Fd(100),n=await Au(t.appConfig);const s=n.authToken;return s.requestStatus===0?Al(t,e):s}function Au(t){return eo(t,e=>{if(!Ud(e))throw Rn.create("not-registered");const n=e.authToken;return Nb(n)?Object.assign(Object.assign({},e),{authToken:{requestStatus:0}}):e})}async function Tb(t,e){try{const n=await bb(t,e),s=Object.assign(Object.assign({},e),{authToken:n});return await vr(t.appConfig,s),n}catch(n){if(xd(n)&&(n.customData.serverCode===401||n.customData.serverCode===404))await Wd(t.appConfig);else{const s=Object.assign(Object.assign({},e),{authToken:{requestStatus:0}});await vr(t.appConfig,s)}throw n}}function Ud(t){return t!==void 0&&t.registrationStatus===2}function Ib(t){return t.requestStatus===2&&!Sb(t)}function Sb(t){const e=Date.now();return e<t.creationTime||t.creationTime+t.expiresIn<e+Zy}function Ab(t){const e={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},t),{authToken:e})}function Nb(t){return t.requestStatus===1&&t.requestTime+Od<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ob(t){const e=t,{installationEntry:n,registrationPromise:s}=await Sl(e);return s?s.catch(console.error):Al(e).catch(console.error),n.fid}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Rb(t,e=!1){const n=t;return await Db(n),(await Al(n,e)).token}async function Db(t){const{registrationPromise:e}=await Sl(t);e&&await e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xb(t){if(!t||!t.options)throw ko("App Configuration");if(!t.name)throw ko("App Name");const e=["projectId","apiKey","appId"];for(const n of e)if(!t.options[n])throw ko(n);return{appName:t.name,projectId:t.options.projectId,apiKey:t.options.apiKey,appId:t.options.appId}}function ko(t){return Rn.create("missing-app-config-values",{valueName:t})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kd="installations",Pb="installations-internal",Lb=t=>{const e=t.getProvider("app").getImmediate(),n=xb(e),s=wi(e,"heartbeat");return{app:e,appConfig:n,heartbeatServiceProvider:s,_delete:()=>Promise.resolve()}},Mb=t=>{const e=t.getProvider("app").getImmediate(),n=wi(e,Kd).getImmediate();return{getId:()=>Ob(n),getToken:i=>Rb(n,i)}};function kb(){en(new xt(Kd,Lb,"PUBLIC")),en(new xt(Pb,Mb,"PRIVATE"))}kb();yt(Nd,Tl);yt(Nd,Tl,"esm2017");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Er="analytics",$b="firebase_id",Fb="origin",Vb=60*1e3,Bb="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",Nl="https://www.googletagmanager.com/gtag/js";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $e=new bl("@firebase/analytics");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hb={"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."},Ue=new Xr("analytics","Analytics",Hb);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wb(t){if(!t.startsWith(Nl)){const e=Ue.create("invalid-gtag-resource",{gtagURL:t});return $e.warn(e.message),""}return t}function Gd(t){return Promise.all(t.map(e=>e.catch(n=>n)))}function jb(t,e){let n;return window.trustedTypes&&(n=window.trustedTypes.createPolicy(t,e)),n}function Ub(t,e){const n=jb("firebase-js-sdk-policy",{createScriptURL:Wb}),s=document.createElement("script"),i=`${Nl}?l=${t}&id=${e}`;s.src=n?n==null?void 0:n.createScriptURL(i):i,s.async=!0,document.head.appendChild(s)}function Kb(t){let e=[];return Array.isArray(window[t])?e=window[t]:window[t]=e,e}async function Gb(t,e,n,s,i,r){const o=s[i];try{if(o)await e[o];else{const l=(await Gd(n)).find(c=>c.measurementId===i);l&&await e[l.appId]}}catch(a){$e.error(a)}t("config",i,r)}async function qb(t,e,n,s,i){try{let r=[];if(i&&i.send_to){let o=i.send_to;Array.isArray(o)||(o=[o]);const a=await Gd(n);for(const l of o){const c=a.find(h=>h.measurementId===l),u=c&&e[c.appId];if(u)r.push(u);else{r=[];break}}}r.length===0&&(r=Object.values(e)),await Promise.all(r),t("event",s,i||{})}catch(r){$e.error(r)}}function zb(t,e,n,s){async function i(r,...o){try{if(r==="event"){const[a,l]=o;await qb(t,e,n,a,l)}else if(r==="config"){const[a,l]=o;await Gb(t,e,n,s,a,l)}else if(r==="consent"){const[a]=o;t("consent","update",a)}else if(r==="get"){const[a,l,c]=o;t("get",a,l,c)}else if(r==="set"){const[a]=o;t("set",a)}else t(r,...o)}catch(a){$e.error(a)}}return i}function Yb(t,e,n,s,i){let r=function(...o){window[s].push(arguments)};return window[i]&&typeof window[i]=="function"&&(r=window[i]),window[i]=zb(r,t,e,n),{gtagCore:r,wrappedGtag:window[i]}}function Qb(t){const e=window.document.getElementsByTagName("script");for(const n of Object.values(e))if(n.src&&n.src.includes(Nl)&&n.src.includes(t))return n;return null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xb=30,Jb=1e3;class Zb{constructor(e={},n=Jb){this.throttleMetadata=e,this.intervalMillis=n}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,n){this.throttleMetadata[e]=n}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}}const qd=new Zb;function eC(t){return new Headers({Accept:"application/json","x-goog-api-key":t})}async function tC(t){var e;const{appId:n,apiKey:s}=t,i={method:"GET",headers:eC(s)},r=Bb.replace("{app-id}",n),o=await fetch(r,i);if(o.status!==200&&o.status!==304){let a="";try{const l=await o.json();!((e=l.error)===null||e===void 0)&&e.message&&(a=l.error.message)}catch{}throw Ue.create("config-fetch-failed",{httpStatus:o.status,responseMessage:a})}return o.json()}async function nC(t,e=qd,n){const{appId:s,apiKey:i,measurementId:r}=t.options;if(!s)throw Ue.create("no-app-id");if(!i){if(r)return{measurementId:r,appId:s};throw Ue.create("no-api-key")}const o=e.getThrottleMetadata(s)||{backoffCount:0,throttleEndTimeMillis:Date.now()},a=new rC;return setTimeout(async()=>{a.abort()},n!==void 0?n:Vb),zd({appId:s,apiKey:i,measurementId:r},o,a,e)}async function zd(t,{throttleEndTimeMillis:e,backoffCount:n},s,i=qd){var r;const{appId:o,measurementId:a}=t;try{await sC(s,e)}catch(l){if(a)return $e.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${a} provided in the "measurementId" field in the local Firebase config. [${l==null?void 0:l.message}]`),{appId:o,measurementId:a};throw l}try{const l=await tC(t);return i.deleteThrottleMetadata(o),l}catch(l){const c=l;if(!iC(c)){if(i.deleteThrottleMetadata(o),a)return $e.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${a} provided in the "measurementId" field in the local Firebase config. [${c==null?void 0:c.message}]`),{appId:o,measurementId:a};throw l}const u=Number((r=c==null?void 0:c.customData)===null||r===void 0?void 0:r.httpStatus)===503?_u(n,i.intervalMillis,Xb):_u(n,i.intervalMillis),h={throttleEndTimeMillis:Date.now()+u,backoffCount:n+1};return i.setThrottleMetadata(o,h),$e.debug(`Calling attemptFetch again in ${u} millis`),zd(t,h,s,i)}}function sC(t,e){return new Promise((n,s)=>{const i=Math.max(e-Date.now(),0),r=setTimeout(n,i);t.addEventListener(()=>{clearTimeout(r),s(Ue.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}function iC(t){if(!(t instanceof Hn)||!t.customData)return!1;const e=Number(t.customData.httpStatus);return e===429||e===500||e===503||e===504}class rC{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}async function oC(t,e,n,s,i){if(i&&i.global){t("event",n,s);return}else{const r=await e,o=Object.assign(Object.assign({},s),{send_to:r});t("event",n,o)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function aC(){if(md())try{await vd()}catch(t){return $e.warn(Ue.create("indexeddb-unavailable",{errorInfo:t==null?void 0:t.toString()}).message),!1}else return $e.warn(Ue.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;return!0}async function lC(t,e,n,s,i,r,o){var a;const l=nC(t);l.then(_=>{n[_.measurementId]=_.appId,t.options.measurementId&&_.measurementId!==t.options.measurementId&&$e.warn(`The measurement ID in the local Firebase config (${t.options.measurementId}) does not match the measurement ID fetched from the server (${_.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(_=>$e.error(_)),e.push(l);const c=aC().then(_=>{if(_)return s.getId()}),[u,h]=await Promise.all([l,c]);Qb(r)||Ub(r,u.measurementId),i("js",new Date);const f=(a=o==null?void 0:o.config)!==null&&a!==void 0?a:{};return f[Fb]="firebase",f.update=!0,h!=null&&(f[$b]=h),i("config",u.measurementId,f),u.measurementId}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cC{constructor(e){this.app=e}_delete(){return delete ei[this.app.options.appId],Promise.resolve()}}let ei={},Nu=[];const Ou={};let $o="dataLayer",uC="gtag",Ru,Yd,Du=!1;function hC(){const t=[];if(vE()&&t.push("This is a browser extension environment."),yE()||t.push("Cookies are not available."),t.length>0){const e=t.map((s,i)=>`(${i+1}) ${s}`).join(" "),n=Ue.create("invalid-analytics-context",{errorInfo:e});$e.warn(n.message)}}function fC(t,e,n){hC();const s=t.options.appId;if(!s)throw Ue.create("no-app-id");if(!t.options.apiKey)if(t.options.measurementId)$e.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${t.options.measurementId} provided in the "measurementId" field in the local Firebase config.`);else throw Ue.create("no-api-key");if(ei[s]!=null)throw Ue.create("already-exists",{id:s});if(!Du){Kb($o);const{wrappedGtag:r,gtagCore:o}=Yb(ei,Nu,Ou,$o,uC);Yd=r,Ru=o,Du=!0}return ei[s]=lC(t,Nu,Ou,e,Ru,$o,n),new cC(t)}function dC(t=wd()){t=an(t);const e=wi(t,Er);return e.isInitialized()?e.getImmediate():pC(t)}function pC(t,e={}){const n=wi(t,Er);if(n.isInitialized()){const i=n.getImmediate();if(gr(e,n.getOptions()))return i;throw Ue.create("already-initialized")}return n.initialize({options:e})}function _C(t,e,n,s){t=an(t),oC(Yd,ei[t.app.options.appId],e,n,s).catch(i=>$e.error(i))}const xu="@firebase/analytics",Pu="0.10.0";function gC(){en(new xt(Er,(e,{options:n})=>{const s=e.getProvider("app").getImmediate(),i=e.getProvider("installations-internal").getImmediate();return fC(s,i,n)},"PUBLIC")),en(new xt("analytics-internal",t,"PRIVATE")),yt(xu,Pu),yt(xu,Pu,"esm2017");function t(e){try{const n=e.getProvider(Er).getImmediate();return{logEvent:(s,i,r)=>_C(n,s,i,r)}}catch(n){throw Ue.create("interop-component-reg-failed",{reason:n})}}}gC();var Lu={};const Mu="@firebase/database",ku="1.0.2";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Qd="";function mC(t){Qd=t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vC{constructor(e){this.domStorage_=e,this.prefix_="firebase:"}set(e,n){n==null?this.domStorage_.removeItem(this.prefixedName_(e)):this.domStorage_.setItem(this.prefixedName_(e),Ee(n))}get(e){const n=this.domStorage_.getItem(this.prefixedName_(e));return n==null?null:fi(n)}remove(e){this.domStorage_.removeItem(this.prefixedName_(e))}prefixedName_(e){return this.prefix_+e}toString(){return this.domStorage_.toString()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EC{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(e,n){n==null?delete this.cache_[e]:this.cache_[e]=n}get(e){return $t(this.cache_,e)?this.cache_[e]:null}remove(e){delete this.cache_[e]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xd=function(t){try{if(typeof window<"u"&&typeof window[t]<"u"){const e=window[t];return e.setItem("firebase:sentinel","cache"),e.removeItem("firebase:sentinel"),new vC(e)}}catch{}return new EC},yn=Xd("localStorage"),Da=Xd("sessionStorage");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cs=new bl("@firebase/database"),yC=function(){let t=1;return function(){return t++}}(),Jd=function(t){const e=NE(t),n=new AE;n.update(e);const s=n.digest();return El.encodeByteArray(s)},Ti=function(...t){let e="";for(let n=0;n<t.length;n++){const s=t[n];Array.isArray(s)||s&&typeof s=="object"&&typeof s.length=="number"?e+=Ti.apply(null,s):typeof s=="object"?e+=Ee(s):e+=s,e+=" "}return e};let An=null,$u=!0;const bC=function(t,e){T(!e||t===!0||t===!1,"Can't turn on custom loggers persistently."),t===!0?(cs.logLevel=ie.VERBOSE,An=cs.log.bind(cs),e&&Da.set("logging_enabled",!0)):typeof t=="function"?An=t:(An=null,Da.remove("logging_enabled"))},we=function(...t){if($u===!0&&($u=!1,An===null&&Da.get("logging_enabled")===!0&&bC(!0)),An){const e=Ti.apply(null,t);An(e)}},Ii=function(t){return function(...e){we(t,...e)}},xa=function(...t){const e="FIREBASE INTERNAL ERROR: "+Ti(...t);cs.error(e)},Pt=function(...t){const e=`FIREBASE FATAL ERROR: ${Ti(...t)}`;throw cs.error(e),new Error(e)},Fe=function(...t){const e="FIREBASE WARNING: "+Ti(...t);cs.warn(e)},CC=function(){typeof window<"u"&&window.location&&window.location.protocol&&window.location.protocol.indexOf("https:")!==-1&&Fe("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().")},Zd=function(t){return typeof t=="number"&&(t!==t||t===Number.POSITIVE_INFINITY||t===Number.NEGATIVE_INFINITY)},wC=function(t){if(document.readyState==="complete")t();else{let e=!1;const n=function(){if(!document.body){setTimeout(n,Math.floor(10));return}e||(e=!0,t())};document.addEventListener?(document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{document.readyState==="complete"&&n()}),window.attachEvent("onload",n))}},ms="[MIN_NAME]",xn="[MAX_NAME]",xs=function(t,e){if(t===e)return 0;if(t===ms||e===xn)return-1;if(e===ms||t===xn)return 1;{const n=Fu(t),s=Fu(e);return n!==null?s!==null?n-s===0?t.length-e.length:n-s:-1:s!==null?1:t<e?-1:1}},TC=function(t,e){return t===e?0:t<e?-1:1},js=function(t,e){if(e&&t in e)return e[t];throw new Error("Missing required key ("+t+") in object: "+Ee(e))},Ol=function(t){if(typeof t!="object"||t===null)return Ee(t);const e=[];for(const s in t)e.push(s);e.sort();let n="{";for(let s=0;s<e.length;s++)s!==0&&(n+=","),n+=Ee(e[s]),n+=":",n+=Ol(t[e[s]]);return n+="}",n},ep=function(t,e){const n=t.length;if(n<=e)return[t];const s=[];for(let i=0;i<n;i+=e)i+e>n?s.push(t.substring(i,n)):s.push(t.substring(i,i+e));return s};function Be(t,e){for(const n in t)t.hasOwnProperty(n)&&e(n,t[n])}const tp=function(t){T(!Zd(t),"Invalid JSON number");const e=11,n=52,s=(1<<e-1)-1;let i,r,o,a,l;t===0?(r=0,o=0,i=1/t===-1/0?1:0):(i=t<0,t=Math.abs(t),t>=Math.pow(2,1-s)?(a=Math.min(Math.floor(Math.log(t)/Math.LN2),s),r=a+s,o=Math.round(t*Math.pow(2,n-a)-Math.pow(2,n))):(r=0,o=Math.round(t/Math.pow(2,1-s-n))));const c=[];for(l=n;l;l-=1)c.push(o%2?1:0),o=Math.floor(o/2);for(l=e;l;l-=1)c.push(r%2?1:0),r=Math.floor(r/2);c.push(i?1:0),c.reverse();const u=c.join("");let h="";for(l=0;l<64;l+=8){let f=parseInt(u.substr(l,8),2).toString(16);f.length===1&&(f="0"+f),h=h+f}return h.toLowerCase()},IC=function(){return!!(typeof window=="object"&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))},SC=function(){return typeof Windows=="object"&&typeof Windows.UI=="object"};function AC(t,e){let n="Unknown Error";t==="too_big"?n="The data requested exceeds the maximum size that can be accessed with a single request.":t==="permission_denied"?n="Client doesn't have permission to access the desired data.":t==="unavailable"&&(n="The service is unavailable");const s=new Error(t+" at "+e._path.toString()+": "+n);return s.code=t.toUpperCase(),s}const NC=new RegExp("^-?(0*)\\d{1,10}$"),OC=-2147483648,RC=2147483647,Fu=function(t){if(NC.test(t)){const e=Number(t);if(e>=OC&&e<=RC)return e}return null},Ps=function(t){try{t()}catch(e){setTimeout(()=>{const n=e.stack||"";throw Fe("Exception was thrown by user callback.",n),e},Math.floor(0))}},DC=function(){return(typeof window=="object"&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0},ti=function(t,e){const n=setTimeout(t,e);return typeof n=="number"&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(n):typeof n=="object"&&n.unref&&n.unref(),n};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xC{constructor(e,n){this.appName_=e,this.appCheckProvider=n,this.appCheck=n==null?void 0:n.getImmediate({optional:!0}),this.appCheck||n==null||n.get().then(s=>this.appCheck=s)}getToken(e){return this.appCheck?this.appCheck.getToken(e):new Promise((n,s)=>{setTimeout(()=>{this.appCheck?this.getToken(e).then(n,s):n(null)},0)})}addTokenChangeListener(e){var n;(n=this.appCheckProvider)===null||n===void 0||n.get().then(s=>s.addTokenListener(e))}notifyForInvalidToken(){Fe(`Provided AppCheck credentials for the app named "${this.appName_}" are invalid. This usually indicates your app was not initialized correctly.`)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PC{constructor(e,n,s){this.appName_=e,this.firebaseOptions_=n,this.authProvider_=s,this.auth_=null,this.auth_=s.getImmediate({optional:!0}),this.auth_||s.onInit(i=>this.auth_=i)}getToken(e){return this.auth_?this.auth_.getToken(e).catch(n=>n&&n.code==="auth/token-not-initialized"?(we("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(n)):new Promise((n,s)=>{setTimeout(()=>{this.auth_?this.getToken(e).then(n,s):n(null)},0)})}addTokenChangeListener(e){this.auth_?this.auth_.addAuthTokenListener(e):this.authProvider_.get().then(n=>n.addAuthTokenListener(e))}removeTokenChangeListener(e){this.authProvider_.get().then(n=>n.removeAuthTokenListener(e))}notifyForInvalidToken(){let e='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?e+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?e+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':e+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',Fe(e)}}class us{constructor(e){this.accessToken=e}getToken(e){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(e){e(this.accessToken)}removeTokenChangeListener(e){}notifyForInvalidToken(){}}us.OWNER="owner";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rl="5",np="v",sp="s",ip="r",rp="f",op=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,ap="ls",lp="p",Pa="ac",cp="websocket",up="long_polling";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hp{constructor(e,n,s,i,r=!1,o="",a=!1,l=!1){this.secure=n,this.namespace=s,this.webSocketOnly=i,this.nodeAdmin=r,this.persistenceKey=o,this.includeNamespaceInQueryParams=a,this.isUsingEmulator=l,this._host=e.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=yn.get("host:"+e)||this._host}isCacheableHost(){return this.internalHost.substr(0,2)==="s-"}isCustomHost(){return this._domain!=="firebaseio.com"&&this._domain!=="firebaseio-demo.com"}get host(){return this._host}set host(e){e!==this.internalHost&&(this.internalHost=e,this.isCacheableHost()&&yn.set("host:"+this._host,this.internalHost))}toString(){let e=this.toURLString();return this.persistenceKey&&(e+="<"+this.persistenceKey+">"),e}toURLString(){const e=this.secure?"https://":"http://",n=this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:"";return`${e}${this.host}/${n}`}}function LC(t){return t.host!==t.internalHost||t.isCustomHost()||t.includeNamespaceInQueryParams}function fp(t,e,n){T(typeof e=="string","typeof type must == string"),T(typeof n=="object","typeof params must == object");let s;if(e===cp)s=(t.secure?"wss://":"ws://")+t.internalHost+"/.ws?";else if(e===up)s=(t.secure?"https://":"http://")+t.internalHost+"/.lp?";else throw new Error("Unknown connection type: "+e);LC(t)&&(n.ns=t.namespace);const i=[];return Be(n,(r,o)=>{i.push(r+"="+o)}),s+i.join("&")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MC{constructor(){this.counters_={}}incrementCounter(e,n=1){$t(this.counters_,e)||(this.counters_[e]=0),this.counters_[e]+=n}get(){return lE(this.counters_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fo={},Vo={};function Dl(t){const e=t.toString();return Fo[e]||(Fo[e]=new MC),Fo[e]}function kC(t,e){const n=t.toString();return Vo[n]||(Vo[n]=e()),Vo[n]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $C{constructor(e){this.onMessage_=e,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(e,n){this.closeAfterResponse=e,this.onClose=n,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(e,n){for(this.pendingResponses[e]=n;this.pendingResponses[this.currentResponseNum];){const s=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let i=0;i<s.length;++i)s[i]&&Ps(()=>{this.onMessage_(s[i])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vu="start",FC="close",VC="pLPCommand",BC="pRTLPCB",dp="id",pp="pw",_p="ser",HC="cb",WC="seg",jC="ts",UC="d",KC="dframe",gp=1870,mp=30,GC=gp-mp,qC=25e3,zC=3e4;class ns{constructor(e,n,s,i,r,o,a){this.connId=e,this.repoInfo=n,this.applicationId=s,this.appCheckToken=i,this.authToken=r,this.transportSessionId=o,this.lastSessionId=a,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=Ii(e),this.stats_=Dl(n),this.urlFn=l=>(this.appCheckToken&&(l[Pa]=this.appCheckToken),fp(n,up,l))}open(e,n){this.curSegmentNum=0,this.onDisconnect_=n,this.myPacketOrderer=new $C(e),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(zC)),wC(()=>{if(this.isClosed_)return;this.scriptTagHolder=new xl((...r)=>{const[o,a,l,c,u]=r;if(this.incrementIncomingBytes_(r),!!this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,o===Vu)this.id=a,this.password=l;else if(o===FC)a?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(a,()=>{this.onClosed_()})):this.onClosed_();else throw new Error("Unrecognized command received: "+o)},(...r)=>{const[o,a]=r;this.incrementIncomingBytes_(r),this.myPacketOrderer.handleResponse(o,a)},()=>{this.onClosed_()},this.urlFn);const s={};s[Vu]="t",s[_p]=Math.floor(Math.random()*1e8),this.scriptTagHolder.uniqueCallbackIdentifier&&(s[HC]=this.scriptTagHolder.uniqueCallbackIdentifier),s[np]=Rl,this.transportSessionId&&(s[sp]=this.transportSessionId),this.lastSessionId&&(s[ap]=this.lastSessionId),this.applicationId&&(s[lp]=this.applicationId),this.appCheckToken&&(s[Pa]=this.appCheckToken),typeof location<"u"&&location.hostname&&op.test(location.hostname)&&(s[ip]=rp);const i=this.urlFn(s);this.log_("Connecting via long-poll to "+i),this.scriptTagHolder.addTag(i,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){ns.forceAllow_=!0}static forceDisallow(){ns.forceDisallow_=!0}static isAvailable(){return ns.forceAllow_?!0:!ns.forceDisallow_&&typeof document<"u"&&document.createElement!=null&&!IC()&&!SC()}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(e){const n=Ee(e);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);const s=hd(n),i=ep(s,GC);for(let r=0;r<i.length;r++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,i.length,i[r]),this.curSegmentNum++}addDisconnectPingFrame(e,n){this.myDisconnFrame=document.createElement("iframe");const s={};s[KC]="t",s[dp]=e,s[pp]=n,this.myDisconnFrame.src=this.urlFn(s),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(e){const n=Ee(e).length;this.bytesReceived+=n,this.stats_.incrementCounter("bytes_received",n)}}class xl{constructor(e,n,s,i){this.onDisconnect=s,this.urlFn=i,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(Math.random()*1e8),this.sendNewPolls=!0;{this.uniqueCallbackIdentifier=yC(),window[VC+this.uniqueCallbackIdentifier]=e,window[BC+this.uniqueCallbackIdentifier]=n,this.myIFrame=xl.createIFrame_();let r="";this.myIFrame.src&&this.myIFrame.src.substr(0,11)==="javascript:"&&(r='<script>document.domain="'+document.domain+'";<\/script>');const o="<html><body>"+r+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(o),this.myIFrame.doc.close()}catch(a){we("frame writing exception"),a.stack&&we(a.stack),we(a)}}}static createIFrame_(){const e=document.createElement("iframe");if(e.style.display="none",document.body){document.body.appendChild(e);try{e.contentWindow.document||we("No IE domain setting required")}catch{const s=document.domain;e.src="javascript:void((function(){document.open();document.domain='"+s+"';document.close();})())"}}else throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";return e.contentDocument?e.doc=e.contentDocument:e.contentWindow?e.doc=e.contentWindow.document:e.document&&(e.doc=e.document),e}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{this.myIFrame!==null&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const e=this.onDisconnect;e&&(this.onDisconnect=null,e())}startLongPoll(e,n){for(this.myID=e,this.myPW=n,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const e={};e[dp]=this.myID,e[pp]=this.myPW,e[_p]=this.currentSerial;let n=this.urlFn(e),s="",i=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+mp+s.length<=gp;){const o=this.pendingSegs.shift();s=s+"&"+WC+i+"="+o.seg+"&"+jC+i+"="+o.ts+"&"+UC+i+"="+o.d,i++}return n=n+s,this.addLongPollTag_(n,this.currentSerial),!0}else return!1}enqueueSegment(e,n,s){this.pendingSegs.push({seg:e,ts:n,d:s}),this.alive&&this.newRequest_()}addLongPollTag_(e,n){this.outstandingRequests.add(n);const s=()=>{this.outstandingRequests.delete(n),this.newRequest_()},i=setTimeout(s,Math.floor(qC)),r=()=>{clearTimeout(i),s()};this.addTag(e,r)}addTag(e,n){setTimeout(()=>{try{if(!this.sendNewPolls)return;const s=this.myIFrame.doc.createElement("script");s.type="text/javascript",s.async=!0,s.src=e,s.onload=s.onreadystatechange=function(){const i=s.readyState;(!i||i==="loaded"||i==="complete")&&(s.onload=s.onreadystatechange=null,s.parentNode&&s.parentNode.removeChild(s),n())},s.onerror=()=>{we("Long-poll script failed to load: "+e),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(s)}catch{}},Math.floor(1))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YC=16384,QC=45e3;let yr=null;typeof MozWebSocket<"u"?yr=MozWebSocket:typeof WebSocket<"u"&&(yr=WebSocket);class rt{constructor(e,n,s,i,r,o,a){this.connId=e,this.applicationId=s,this.appCheckToken=i,this.authToken=r,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=Ii(this.connId),this.stats_=Dl(n),this.connURL=rt.connectionURL_(n,o,a,i,s),this.nodeAdmin=n.nodeAdmin}static connectionURL_(e,n,s,i,r){const o={};return o[np]=Rl,typeof location<"u"&&location.hostname&&op.test(location.hostname)&&(o[ip]=rp),n&&(o[sp]=n),s&&(o[ap]=s),i&&(o[Pa]=i),r&&(o[lp]=r),fp(e,cp,o)}open(e,n){this.onDisconnect=n,this.onMessage=e,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,yn.set("previous_websocket_failure",!0);try{let s;gd(),this.mySock=new yr(this.connURL,[],s)}catch(s){this.log_("Error instantiating WebSocket.");const i=s.message||s.data;i&&this.log_(i),this.onClosed_();return}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=s=>{this.handleIncomingFrame(s)},this.mySock.onerror=s=>{this.log_("WebSocket error.  Closing connection.");const i=s.message||s.data;i&&this.log_(i),this.onClosed_()}}start(){}static forceDisallow(){rt.forceDisallow_=!0}static isAvailable(){let e=!1;if(typeof navigator<"u"&&navigator.userAgent){const n=/Android ([0-9]{0,}\.[0-9]{0,})/,s=navigator.userAgent.match(n);s&&s.length>1&&parseFloat(s[1])<4.4&&(e=!0)}return!e&&yr!==null&&!rt.forceDisallow_}static previouslyFailed(){return yn.isInMemoryStorage||yn.get("previous_websocket_failure")===!0}markConnectionHealthy(){yn.remove("previous_websocket_failure")}appendFrame_(e){if(this.frames.push(e),this.frames.length===this.totalFrames){const n=this.frames.join("");this.frames=null;const s=fi(n);this.onMessage(s)}}handleNewFrameCount_(e){this.totalFrames=e,this.frames=[]}extractFrameCount_(e){if(T(this.frames===null,"We already have a frame buffer"),e.length<=6){const n=Number(e);if(!isNaN(n))return this.handleNewFrameCount_(n),null}return this.handleNewFrameCount_(1),e}handleIncomingFrame(e){if(this.mySock===null)return;const n=e.data;if(this.bytesReceived+=n.length,this.stats_.incrementCounter("bytes_received",n.length),this.resetKeepAlive(),this.frames!==null)this.appendFrame_(n);else{const s=this.extractFrameCount_(n);s!==null&&this.appendFrame_(s)}}send(e){this.resetKeepAlive();const n=Ee(e);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);const s=ep(n,YC);s.length>1&&this.sendString_(String(s.length));for(let i=0;i<s.length;i++)this.sendString_(s[i])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(QC))}sendString_(e){try{this.mySock.send(e)}catch(n){this.log_("Exception thrown from WebSocket.send():",n.message||n.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}rt.responsesRequiredToBeHealthy=2;rt.healthyTimeout=3e4;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pi{constructor(e){this.initTransports_(e)}static get ALL_TRANSPORTS(){return[ns,rt]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}initTransports_(e){const n=rt&&rt.isAvailable();let s=n&&!rt.previouslyFailed();if(e.webSocketOnly&&(n||Fe("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),s=!0),s)this.transports_=[rt];else{const i=this.transports_=[];for(const r of pi.ALL_TRANSPORTS)r&&r.isAvailable()&&i.push(r);pi.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}pi.globalTransportInitialized_=!1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XC=6e4,JC=5e3,ZC=10*1024,ew=100*1024,Bo="t",Bu="d",tw="s",Hu="r",nw="e",Wu="o",ju="a",Uu="n",Ku="p",sw="h";class iw{constructor(e,n,s,i,r,o,a,l,c,u){this.id=e,this.repoInfo_=n,this.applicationId_=s,this.appCheckToken_=i,this.authToken_=r,this.onMessage_=o,this.onReady_=a,this.onDisconnect_=l,this.onKill_=c,this.lastSessionId=u,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=Ii("c:"+this.id+":"),this.transportManager_=new pi(n),this.log_("Connection created"),this.start_()}start_(){const e=this.transportManager_.initialTransport();this.conn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.conn_),s=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(n,s)},Math.floor(0));const i=e.healthyTimeout||0;i>0&&(this.healthyTimeout_=ti(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>ew?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>ZC?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(i)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(e){return n=>{e===this.conn_?this.onConnectionLost_(n):e===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(e){return n=>{this.state_!==2&&(e===this.rx_?this.onPrimaryMessageReceived_(n):e===this.secondaryConn_?this.onSecondaryMessageReceived_(n):this.log_("message on old connection"))}}sendRequest(e){const n={t:"d",d:e};this.sendData_(n)}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(e){if(Bo in e){const n=e[Bo];n===ju?this.upgradeIfSecondaryHealthy_():n===Hu?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):n===Wu&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(e){const n=js("t",e),s=js("d",e);if(n==="c")this.onSecondaryControl_(s);else if(n==="d")this.pendingDataMessages.push(s);else throw new Error("Unknown protocol layer: "+n)}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:Ku,d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:ju,d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:Uu,d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(e){const n=js("t",e),s=js("d",e);n==="c"?this.onControl_(s):n==="d"&&this.onDataMessage_(s)}onDataMessage_(e){this.onPrimaryResponse_(),this.onMessage_(e)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(e){const n=js(Bo,e);if(Bu in e){const s=e[Bu];if(n===sw){const i=Object.assign({},s);this.repoInfo_.isUsingEmulator&&(i.h=this.repoInfo_.host),this.onHandshake_(i)}else if(n===Uu){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let i=0;i<this.pendingDataMessages.length;++i)this.onDataMessage_(this.pendingDataMessages[i]);this.pendingDataMessages=[],this.tryCleanupConnection()}else n===tw?this.onConnectionShutdown_(s):n===Hu?this.onReset_(s):n===nw?xa("Server Error: "+s):n===Wu?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):xa("Unknown control packet command: "+n)}}onHandshake_(e){const n=e.ts,s=e.v,i=e.h;this.sessionId=e.s,this.repoInfo_.host=i,this.state_===0&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,n),Rl!==s&&Fe("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const e=this.transportManager_.upgradeTransport();e&&this.startUpgrade_(e)}startUpgrade_(e){this.secondaryConn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.secondaryConn_),s=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(n,s),ti(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(XC))}onReset_(e){this.log_("Reset packet received.  New host: "+e),this.repoInfo_.host=e,this.state_===1?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(e,n){this.log_("Realtime connection established."),this.conn_=e,this.state_=1,this.onReady_&&(this.onReady_(n,this.sessionId),this.onReady_=null),this.primaryResponsesRequired_===0?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):ti(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(JC))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&this.state_===1&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:Ku,d:{}}}))}onSecondaryConnectionLost_(){const e=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===e||this.rx_===e)&&this.close()}onConnectionLost_(e){this.conn_=null,!e&&this.state_===0?(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(yn.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)):this.state_===1&&this.log_("Realtime connection lost."),this.close()}onConnectionShutdown_(e){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(e),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(e){if(this.state_!==1)throw"Connection is not connected";this.tx_.send(e)}close(){this.state_!==2&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vp{put(e,n,s,i){}merge(e,n,s,i){}refreshAuthToken(e){}refreshAppCheckToken(e){}onDisconnectPut(e,n,s){}onDisconnectMerge(e,n,s){}onDisconnectCancel(e,n){}reportStats(e){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ep{constructor(e){this.allowedEvents_=e,this.listeners_={},T(Array.isArray(e)&&e.length>0,"Requires a non-empty array")}trigger(e,...n){if(Array.isArray(this.listeners_[e])){const s=[...this.listeners_[e]];for(let i=0;i<s.length;i++)s[i].callback.apply(s[i].context,n)}}on(e,n,s){this.validateEventType_(e),this.listeners_[e]=this.listeners_[e]||[],this.listeners_[e].push({callback:n,context:s});const i=this.getInitialEvent(e);i&&n.apply(s,i)}off(e,n,s){this.validateEventType_(e);const i=this.listeners_[e]||[];for(let r=0;r<i.length;r++)if(i[r].callback===n&&(!s||s===i[r].context)){i.splice(r,1);return}}validateEventType_(e){T(this.allowedEvents_.find(n=>n===e),"Unknown event: "+e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class br extends Ep{constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!_d()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}static getInstance(){return new br}getInitialEvent(e){return T(e==="online","Unknown event type: "+e),[this.online_]}currentlyOnline(){return this.online_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gu=32,qu=768;class se{constructor(e,n){if(n===void 0){this.pieces_=e.split("/");let s=0;for(let i=0;i<this.pieces_.length;i++)this.pieces_[i].length>0&&(this.pieces_[s]=this.pieces_[i],s++);this.pieces_.length=s,this.pieceNum_=0}else this.pieces_=e,this.pieceNum_=n}toString(){let e="";for(let n=this.pieceNum_;n<this.pieces_.length;n++)this.pieces_[n]!==""&&(e+="/"+this.pieces_[n]);return e||"/"}}function J(){return new se("")}function j(t){return t.pieceNum_>=t.pieces_.length?null:t.pieces_[t.pieceNum_]}function tn(t){return t.pieces_.length-t.pieceNum_}function re(t){let e=t.pieceNum_;return e<t.pieces_.length&&e++,new se(t.pieces_,e)}function yp(t){return t.pieceNum_<t.pieces_.length?t.pieces_[t.pieces_.length-1]:null}function rw(t){let e="";for(let n=t.pieceNum_;n<t.pieces_.length;n++)t.pieces_[n]!==""&&(e+="/"+encodeURIComponent(String(t.pieces_[n])));return e||"/"}function bp(t,e=0){return t.pieces_.slice(t.pieceNum_+e)}function Cp(t){if(t.pieceNum_>=t.pieces_.length)return null;const e=[];for(let n=t.pieceNum_;n<t.pieces_.length-1;n++)e.push(t.pieces_[n]);return new se(e,0)}function pe(t,e){const n=[];for(let s=t.pieceNum_;s<t.pieces_.length;s++)n.push(t.pieces_[s]);if(e instanceof se)for(let s=e.pieceNum_;s<e.pieces_.length;s++)n.push(e.pieces_[s]);else{const s=e.split("/");for(let i=0;i<s.length;i++)s[i].length>0&&n.push(s[i])}return new se(n,0)}function G(t){return t.pieceNum_>=t.pieces_.length}function Me(t,e){const n=j(t),s=j(e);if(n===null)return e;if(n===s)return Me(re(t),re(e));throw new Error("INTERNAL ERROR: innerPath ("+e+") is not within outerPath ("+t+")")}function Pl(t,e){if(tn(t)!==tn(e))return!1;for(let n=t.pieceNum_,s=e.pieceNum_;n<=t.pieces_.length;n++,s++)if(t.pieces_[n]!==e.pieces_[s])return!1;return!0}function at(t,e){let n=t.pieceNum_,s=e.pieceNum_;if(tn(t)>tn(e))return!1;for(;n<t.pieces_.length;){if(t.pieces_[n]!==e.pieces_[s])return!1;++n,++s}return!0}class ow{constructor(e,n){this.errorPrefix_=n,this.parts_=bp(e,0),this.byteLength_=Math.max(1,this.parts_.length);for(let s=0;s<this.parts_.length;s++)this.byteLength_+=Jr(this.parts_[s]);wp(this)}}function aw(t,e){t.parts_.length>0&&(t.byteLength_+=1),t.parts_.push(e),t.byteLength_+=Jr(e),wp(t)}function lw(t){const e=t.parts_.pop();t.byteLength_-=Jr(e),t.parts_.length>0&&(t.byteLength_-=1)}function wp(t){if(t.byteLength_>qu)throw new Error(t.errorPrefix_+"has a key path longer than "+qu+" bytes ("+t.byteLength_+").");if(t.parts_.length>Gu)throw new Error(t.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+Gu+") or object contains a cycle "+gn(t))}function gn(t){return t.parts_.length===0?"":"in property '"+t.parts_.join(".")+"'"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ll extends Ep{constructor(){super(["visible"]);let e,n;typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(n="visibilitychange",e="hidden"):typeof document.mozHidden<"u"?(n="mozvisibilitychange",e="mozHidden"):typeof document.msHidden<"u"?(n="msvisibilitychange",e="msHidden"):typeof document.webkitHidden<"u"&&(n="webkitvisibilitychange",e="webkitHidden")),this.visible_=!0,n&&document.addEventListener(n,()=>{const s=!document[e];s!==this.visible_&&(this.visible_=s,this.trigger("visible",s))},!1)}static getInstance(){return new Ll}getInitialEvent(e){return T(e==="visible","Unknown event type: "+e),[this.visible_]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Us=1e3,cw=60*5*1e3,zu=30*1e3,uw=1.3,hw=3e4,fw="server_kill",Yu=3;class Ot extends vp{constructor(e,n,s,i,r,o,a,l){if(super(),this.repoInfo_=e,this.applicationId_=n,this.onDataUpdate_=s,this.onConnectStatus_=i,this.onServerInfoUpdate_=r,this.authTokenProvider_=o,this.appCheckTokenProvider_=a,this.authOverride_=l,this.id=Ot.nextPersistentConnectionId_++,this.log_=Ii("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=Us,this.maxReconnectDelay_=cw,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,l&&!gd())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");Ll.getInstance().on("visible",this.onVisible_,this),e.host.indexOf("fblocal")===-1&&br.getInstance().on("online",this.onOnline_,this)}sendRequest(e,n,s){const i=++this.requestNumber_,r={r:i,a:e,b:n};this.log_(Ee(r)),T(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(r),s&&(this.requestCBHash_[i]=s)}get(e){this.initConnection_();const n=new Qr,i={action:"g",request:{p:e._path.toString(),q:e._queryObject},onComplete:o=>{const a=o.d;o.s==="ok"?n.resolve(a):n.reject(a)}};this.outstandingGets_.push(i),this.outstandingGetCount_++;const r=this.outstandingGets_.length-1;return this.connected_&&this.sendGet_(r),n.promise}listen(e,n,s,i){this.initConnection_();const r=e._queryIdentifier,o=e._path.toString();this.log_("Listen called for "+o+" "+r),this.listens.has(o)||this.listens.set(o,new Map),T(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"listen() called for non-default but complete query"),T(!this.listens.get(o).has(r),"listen() called twice for same path/queryId.");const a={onComplete:i,hashFn:n,query:e,tag:s};this.listens.get(o).set(r,a),this.connected_&&this.sendListen_(a)}sendGet_(e){const n=this.outstandingGets_[e];this.sendRequest("g",n.request,s=>{delete this.outstandingGets_[e],this.outstandingGetCount_--,this.outstandingGetCount_===0&&(this.outstandingGets_=[]),n.onComplete&&n.onComplete(s)})}sendListen_(e){const n=e.query,s=n._path.toString(),i=n._queryIdentifier;this.log_("Listen on "+s+" for "+i);const r={p:s},o="q";e.tag&&(r.q=n._queryObject,r.t=e.tag),r.h=e.hashFn(),this.sendRequest(o,r,a=>{const l=a.d,c=a.s;Ot.warnOnListenWarnings_(l,n),(this.listens.get(s)&&this.listens.get(s).get(i))===e&&(this.log_("listen response",a),c!=="ok"&&this.removeListen_(s,i),e.onComplete&&e.onComplete(c,l))})}static warnOnListenWarnings_(e,n){if(e&&typeof e=="object"&&$t(e,"w")){const s=gs(e,"w");if(Array.isArray(s)&&~s.indexOf("no_index")){const i='".indexOn": "'+n._queryParams.getIndex().toString()+'"',r=n._path.toString();Fe(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${i} at ${r} to your security rules for better performance.`)}}}refreshAuthToken(e){this.authToken_=e,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(e)}reduceReconnectDelayIfAdminCredential_(e){(e&&e.length===40||IE(e))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=zu)}refreshAppCheckToken(e){this.appCheckToken_=e,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const e=this.authToken_,n=TE(e)?"auth":"gauth",s={cred:e};this.authOverride_===null?s.noauth=!0:typeof this.authOverride_=="object"&&(s.authvar=this.authOverride_),this.sendRequest(n,s,i=>{const r=i.s,o=i.d||"error";this.authToken_===e&&(r==="ok"?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(r,o))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},e=>{const n=e.s,s=e.d||"error";n==="ok"?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(n,s)})}unlisten(e,n){const s=e._path.toString(),i=e._queryIdentifier;this.log_("Unlisten called for "+s+" "+i),T(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(s,i)&&this.connected_&&this.sendUnlisten_(s,i,e._queryObject,n)}sendUnlisten_(e,n,s,i){this.log_("Unlisten on "+e+" for "+n);const r={p:e},o="n";i&&(r.q=s,r.t=i),this.sendRequest(o,r)}onDisconnectPut(e,n,s){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",e,n,s):this.onDisconnectRequestQueue_.push({pathString:e,action:"o",data:n,onComplete:s})}onDisconnectMerge(e,n,s){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",e,n,s):this.onDisconnectRequestQueue_.push({pathString:e,action:"om",data:n,onComplete:s})}onDisconnectCancel(e,n){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",e,null,n):this.onDisconnectRequestQueue_.push({pathString:e,action:"oc",data:null,onComplete:n})}sendOnDisconnect_(e,n,s,i){const r={p:n,d:s};this.log_("onDisconnect "+e,r),this.sendRequest(e,r,o=>{i&&setTimeout(()=>{i(o.s,o.d)},Math.floor(0))})}put(e,n,s,i){this.putInternal("p",e,n,s,i)}merge(e,n,s,i){this.putInternal("m",e,n,s,i)}putInternal(e,n,s,i,r){this.initConnection_();const o={p:n,d:s};r!==void 0&&(o.h=r),this.outstandingPuts_.push({action:e,request:o,onComplete:i}),this.outstandingPutCount_++;const a=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(a):this.log_("Buffering put: "+n)}sendPut_(e){const n=this.outstandingPuts_[e].action,s=this.outstandingPuts_[e].request,i=this.outstandingPuts_[e].onComplete;this.outstandingPuts_[e].queued=this.connected_,this.sendRequest(n,s,r=>{this.log_(n+" response",r),delete this.outstandingPuts_[e],this.outstandingPutCount_--,this.outstandingPutCount_===0&&(this.outstandingPuts_=[]),i&&i(r.s,r.d)})}reportStats(e){if(this.connected_){const n={c:e};this.log_("reportStats",n),this.sendRequest("s",n,s=>{if(s.s!=="ok"){const r=s.d;this.log_("reportStats","Error sending stats: "+r)}})}}onDataMessage_(e){if("r"in e){this.log_("from server: "+Ee(e));const n=e.r,s=this.requestCBHash_[n];s&&(delete this.requestCBHash_[n],s(e.b))}else{if("error"in e)throw"A server-side error has occurred: "+e.error;"a"in e&&this.onDataPush_(e.a,e.b)}}onDataPush_(e,n){this.log_("handleServerMessage",e,n),e==="d"?this.onDataUpdate_(n.p,n.d,!1,n.t):e==="m"?this.onDataUpdate_(n.p,n.d,!0,n.t):e==="c"?this.onListenRevoked_(n.p,n.q):e==="ac"?this.onAuthRevoked_(n.s,n.d):e==="apc"?this.onAppCheckRevoked_(n.s,n.d):e==="sd"?this.onSecurityDebugPacket_(n):xa("Unrecognized action received from server: "+Ee(e)+`
Are you using the latest client?`)}onReady_(e,n){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=new Date().getTime(),this.handleTimestamp_(e),this.lastSessionId=n,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(e){T(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(e))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(e){e&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=Us,this.realtime_||this.scheduleConnect_(0)),this.visible_=e}onOnline_(e){e?(this.log_("Browser went online."),this.reconnectDelay_=Us,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&(new Date().getTime()-this.lastConnectionEstablishedTime_>hw&&(this.reconnectDelay_=Us),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=new Date().getTime());const e=new Date().getTime()-this.lastConnectionAttemptTime_;let n=Math.max(0,this.reconnectDelay_-e);n=Math.random()*n,this.log_("Trying to reconnect in "+n+"ms"),this.scheduleConnect_(n),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,this.reconnectDelay_*uw)}this.onConnectStatus_(!1)}async establishConnection_(){if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=new Date().getTime(),this.lastConnectionEstablishedTime_=null;const e=this.onDataMessage_.bind(this),n=this.onReady_.bind(this),s=this.onRealtimeDisconnect_.bind(this),i=this.id+":"+Ot.nextConnectionId_++,r=this.lastSessionId;let o=!1,a=null;const l=function(){a?a.close():(o=!0,s())},c=function(h){T(a,"sendRequest call when we're not connected not allowed."),a.sendRequest(h)};this.realtime_={close:l,sendRequest:c};const u=this.forceTokenRefresh_;this.forceTokenRefresh_=!1;try{const[h,f]=await Promise.all([this.authTokenProvider_.getToken(u),this.appCheckTokenProvider_.getToken(u)]);o?we("getToken() completed but was canceled"):(we("getToken() completed. Creating connection."),this.authToken_=h&&h.accessToken,this.appCheckToken_=f&&f.token,a=new iw(i,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,e,n,s,_=>{Fe(_+" ("+this.repoInfo_.toString()+")"),this.interrupt(fw)},r))}catch(h){this.log_("Failed to get token: "+h),o||(this.repoInfo_.nodeAdmin&&Fe(h),l())}}}interrupt(e){we("Interrupting connection for reason: "+e),this.interruptReasons_[e]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(e){we("Resuming connection for reason: "+e),delete this.interruptReasons_[e],du(this.interruptReasons_)&&(this.reconnectDelay_=Us,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(e){const n=e-new Date().getTime();this.onServerInfoUpdate_({serverTimeOffset:n})}cancelSentTransactions_(){for(let e=0;e<this.outstandingPuts_.length;e++){const n=this.outstandingPuts_[e];n&&"h"in n.request&&n.queued&&(n.onComplete&&n.onComplete("disconnect"),delete this.outstandingPuts_[e],this.outstandingPutCount_--)}this.outstandingPutCount_===0&&(this.outstandingPuts_=[])}onListenRevoked_(e,n){let s;n?s=n.map(r=>Ol(r)).join("$"):s="default";const i=this.removeListen_(e,s);i&&i.onComplete&&i.onComplete("permission_denied")}removeListen_(e,n){const s=new se(e).toString();let i;if(this.listens.has(s)){const r=this.listens.get(s);i=r.get(n),r.delete(n),r.size===0&&this.listens.delete(s)}else i=void 0;return i}onAuthRevoked_(e,n){we("Auth token revoked: "+e+"/"+n),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),(e==="invalid_token"||e==="permission_denied")&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=Yu&&(this.reconnectDelay_=zu,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(e,n){we("App check token revoked: "+e+"/"+n),this.appCheckToken_=null,this.forceTokenRefresh_=!0,(e==="invalid_token"||e==="permission_denied")&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=Yu&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(e){this.securityDebugCallback_?this.securityDebugCallback_(e):"msg"in e&&console.log("FIREBASE: "+e.msg.replace(`
`,`
FIREBASE: `))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const e of this.listens.values())for(const n of e.values())this.sendListen_(n);for(let e=0;e<this.outstandingPuts_.length;e++)this.outstandingPuts_[e]&&this.sendPut_(e);for(;this.onDisconnectRequestQueue_.length;){const e=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(e.action,e.pathString,e.data,e.onComplete)}for(let e=0;e<this.outstandingGets_.length;e++)this.outstandingGets_[e]&&this.sendGet_(e)}sendConnectStats_(){const e={};let n="js";e["sdk."+n+"."+Qd.replace(/\./g,"-")]=1,_d()?e["framework.cordova"]=1:EE()&&(e["framework.reactnative"]=1),this.reportStats(e)}shouldReconnect_(){const e=br.getInstance().currentlyOnline();return du(this.interruptReasons_)&&e}}Ot.nextPersistentConnectionId_=0;Ot.nextConnectionId_=0;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U{constructor(e,n){this.name=e,this.node=n}static Wrap(e,n){return new U(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class to{getCompare(){return this.compare.bind(this)}indexedValueChanged(e,n){const s=new U(ms,e),i=new U(ms,n);return this.compare(s,i)!==0}minPost(){return U.MIN}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Bi;class Tp extends to{static get __EMPTY_NODE(){return Bi}static set __EMPTY_NODE(e){Bi=e}compare(e,n){return xs(e.name,n.name)}isDefinedOn(e){throw Ds("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(e,n){return!1}minPost(){return U.MIN}maxPost(){return new U(xn,Bi)}makePost(e,n){return T(typeof e=="string","KeyIndex indexValue must always be a string."),new U(e,Bi)}toString(){return".key"}}const hs=new Tp;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hi{constructor(e,n,s,i,r=null){this.isReverse_=i,this.resultGenerator_=r,this.nodeStack_=[];let o=1;for(;!e.isEmpty();)if(e=e,o=n?s(e.key,n):1,i&&(o*=-1),o<0)this.isReverse_?e=e.left:e=e.right;else if(o===0){this.nodeStack_.push(e);break}else this.nodeStack_.push(e),this.isReverse_?e=e.right:e=e.left}getNext(){if(this.nodeStack_.length===0)return null;let e=this.nodeStack_.pop(),n;if(this.resultGenerator_?n=this.resultGenerator_(e.key,e.value):n={key:e.key,value:e.value},this.isReverse_)for(e=e.left;!e.isEmpty();)this.nodeStack_.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack_.push(e),e=e.left;return n}hasNext(){return this.nodeStack_.length>0}peek(){if(this.nodeStack_.length===0)return null;const e=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value}}}class ve{constructor(e,n,s,i,r){this.key=e,this.value=n,this.color=s??ve.RED,this.left=i??ke.EMPTY_NODE,this.right=r??ke.EMPTY_NODE}copy(e,n,s,i,r){return new ve(e??this.key,n??this.value,s??this.color,i??this.left,r??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||!!e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,s){let i=this;const r=s(e,i.key);return r<0?i=i.copy(null,null,null,i.left.insert(e,n,s),null):r===0?i=i.copy(null,n,null,null,null):i=i.copy(null,null,null,null,i.right.insert(e,n,s)),i.fixUp_()}removeMin_(){if(this.left.isEmpty())return ke.EMPTY_NODE;let e=this;return!e.left.isRed_()&&!e.left.left.isRed_()&&(e=e.moveRedLeft_()),e=e.copy(null,null,null,e.left.removeMin_(),null),e.fixUp_()}remove(e,n){let s,i;if(s=this,n(e,s.key)<0)!s.left.isEmpty()&&!s.left.isRed_()&&!s.left.left.isRed_()&&(s=s.moveRedLeft_()),s=s.copy(null,null,null,s.left.remove(e,n),null);else{if(s.left.isRed_()&&(s=s.rotateRight_()),!s.right.isEmpty()&&!s.right.isRed_()&&!s.right.left.isRed_()&&(s=s.moveRedRight_()),n(e,s.key)===0){if(s.right.isEmpty())return ke.EMPTY_NODE;i=s.right.min_(),s=s.copy(i.key,i.value,null,null,s.right.removeMin_())}s=s.copy(null,null,null,null,s.right.remove(e,n))}return s.fixUp_()}isRed_(){return this.color}fixUp_(){let e=this;return e.right.isRed_()&&!e.left.isRed_()&&(e=e.rotateLeft_()),e.left.isRed_()&&e.left.left.isRed_()&&(e=e.rotateRight_()),e.left.isRed_()&&e.right.isRed_()&&(e=e.colorFlip_()),e}moveRedLeft_(){let e=this.colorFlip_();return e.right.left.isRed_()&&(e=e.copy(null,null,null,null,e.right.rotateRight_()),e=e.rotateLeft_(),e=e.colorFlip_()),e}moveRedRight_(){let e=this.colorFlip_();return e.left.left.isRed_()&&(e=e.rotateRight_(),e=e.colorFlip_()),e}rotateLeft_(){const e=this.copy(null,null,ve.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight_(){const e=this.copy(null,null,ve.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip_(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth_(){const e=this.check_();return Math.pow(2,e)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const e=this.left.check_();if(e!==this.right.check_())throw new Error("Black depths differ");return e+(this.isRed_()?0:1)}}ve.RED=!0;ve.BLACK=!1;class dw{copy(e,n,s,i,r){return this}insert(e,n,s){return new ve(e,n,null)}remove(e,n){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}}class ke{constructor(e,n=ke.EMPTY_NODE){this.comparator_=e,this.root_=n}insert(e,n){return new ke(this.comparator_,this.root_.insert(e,n,this.comparator_).copy(null,null,ve.BLACK,null,null))}remove(e){return new ke(this.comparator_,this.root_.remove(e,this.comparator_).copy(null,null,ve.BLACK,null,null))}get(e){let n,s=this.root_;for(;!s.isEmpty();){if(n=this.comparator_(e,s.key),n===0)return s.value;n<0?s=s.left:n>0&&(s=s.right)}return null}getPredecessorKey(e){let n,s=this.root_,i=null;for(;!s.isEmpty();)if(n=this.comparator_(e,s.key),n===0){if(s.left.isEmpty())return i?i.key:null;for(s=s.left;!s.right.isEmpty();)s=s.right;return s.key}else n<0?s=s.left:n>0&&(i=s,s=s.right);throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(e){return this.root_.inorderTraversal(e)}reverseTraversal(e){return this.root_.reverseTraversal(e)}getIterator(e){return new Hi(this.root_,null,this.comparator_,!1,e)}getIteratorFrom(e,n){return new Hi(this.root_,e,this.comparator_,!1,n)}getReverseIteratorFrom(e,n){return new Hi(this.root_,e,this.comparator_,!0,n)}getReverseIterator(e){return new Hi(this.root_,null,this.comparator_,!0,e)}}ke.EMPTY_NODE=new dw;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pw(t,e){return xs(t.name,e.name)}function Ml(t,e){return xs(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let La;function _w(t){La=t}const Ip=function(t){return typeof t=="number"?"number:"+tp(t):"string:"+t},Sp=function(t){if(t.isLeafNode()){const e=t.val();T(typeof e=="string"||typeof e=="number"||typeof e=="object"&&$t(e,".sv"),"Priority must be a string or number.")}else T(t===La||t.isEmpty(),"priority of unexpected type.");T(t===La||t.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Qu;class me{constructor(e,n=me.__childrenNodeConstructor.EMPTY_NODE){this.value_=e,this.priorityNode_=n,this.lazyHash_=null,T(this.value_!==void 0&&this.value_!==null,"LeafNode shouldn't be created with null/undefined value."),Sp(this.priorityNode_)}static set __childrenNodeConstructor(e){Qu=e}static get __childrenNodeConstructor(){return Qu}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(e){return new me(this.value_,e)}getImmediateChild(e){return e===".priority"?this.priorityNode_:me.__childrenNodeConstructor.EMPTY_NODE}getChild(e){return G(e)?this:j(e)===".priority"?this.priorityNode_:me.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(e,n){return null}updateImmediateChild(e,n){return e===".priority"?this.updatePriority(n):n.isEmpty()&&e!==".priority"?this:me.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(e,n).updatePriority(this.priorityNode_)}updateChild(e,n){const s=j(e);return s===null?n:n.isEmpty()&&s!==".priority"?this:(T(s!==".priority"||tn(e)===1,".priority must be the last token in a path"),this.updateImmediateChild(s,me.__childrenNodeConstructor.EMPTY_NODE.updateChild(re(e),n)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(e,n){return!1}val(e){return e&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(this.lazyHash_===null){let e="";this.priorityNode_.isEmpty()||(e+="priority:"+Ip(this.priorityNode_.val())+":");const n=typeof this.value_;e+=n+":",n==="number"?e+=tp(this.value_):e+=this.value_,this.lazyHash_=Jd(e)}return this.lazyHash_}getValue(){return this.value_}compareTo(e){return e===me.__childrenNodeConstructor.EMPTY_NODE?1:e instanceof me.__childrenNodeConstructor?-1:(T(e.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(e))}compareToLeafNode_(e){const n=typeof e.value_,s=typeof this.value_,i=me.VALUE_TYPE_ORDER.indexOf(n),r=me.VALUE_TYPE_ORDER.indexOf(s);return T(i>=0,"Unknown leaf type: "+n),T(r>=0,"Unknown leaf type: "+s),i===r?s==="object"?0:this.value_<e.value_?-1:this.value_===e.value_?0:1:r-i}withIndex(){return this}isIndexed(){return!0}equals(e){if(e===this)return!0;if(e.isLeafNode()){const n=e;return this.value_===n.value_&&this.priorityNode_.equals(n.priorityNode_)}else return!1}}me.VALUE_TYPE_ORDER=["object","boolean","number","string"];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ap,Np;function gw(t){Ap=t}function mw(t){Np=t}class vw extends to{compare(e,n){const s=e.node.getPriority(),i=n.node.getPriority(),r=s.compareTo(i);return r===0?xs(e.name,n.name):r}isDefinedOn(e){return!e.getPriority().isEmpty()}indexedValueChanged(e,n){return!e.getPriority().equals(n.getPriority())}minPost(){return U.MIN}maxPost(){return new U(xn,new me("[PRIORITY-POST]",Np))}makePost(e,n){const s=Ap(e);return new U(n,new me("[PRIORITY-POST]",s))}toString(){return".priority"}}const fe=new vw;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ew=Math.log(2);class yw{constructor(e){const n=r=>parseInt(Math.log(r)/Ew,10),s=r=>parseInt(Array(r+1).join("1"),2);this.count=n(e+1),this.current_=this.count-1;const i=s(this.count);this.bits_=e+1&i}nextBitIsOne(){const e=!(this.bits_&1<<this.current_);return this.current_--,e}}const Cr=function(t,e,n,s){t.sort(e);const i=function(l,c){const u=c-l;let h,f;if(u===0)return null;if(u===1)return h=t[l],f=n?n(h):h,new ve(f,h.node,ve.BLACK,null,null);{const _=parseInt(u/2,10)+l,E=i(l,_),C=i(_+1,c);return h=t[_],f=n?n(h):h,new ve(f,h.node,ve.BLACK,E,C)}},r=function(l){let c=null,u=null,h=t.length;const f=function(E,C){const A=h-E,M=h;h-=E;const K=i(A+1,M),k=t[A],D=n?n(k):k;_(new ve(D,k.node,C,null,K))},_=function(E){c?(c.left=E,c=E):(u=E,c=E)};for(let E=0;E<l.count;++E){const C=l.nextBitIsOne(),A=Math.pow(2,l.count-(E+1));C?f(A,ve.BLACK):(f(A,ve.BLACK),f(A,ve.RED))}return u},o=new yw(t.length),a=r(o);return new ke(s||e,a)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ho;const Yn={};class St{constructor(e,n){this.indexes_=e,this.indexSet_=n}static get Default(){return T(Yn&&fe,"ChildrenNode.ts has not been loaded"),Ho=Ho||new St({".priority":Yn},{".priority":fe}),Ho}get(e){const n=gs(this.indexes_,e);if(!n)throw new Error("No index defined for "+e);return n instanceof ke?n:null}hasIndex(e){return $t(this.indexSet_,e.toString())}addIndex(e,n){T(e!==hs,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const s=[];let i=!1;const r=n.getIterator(U.Wrap);let o=r.getNext();for(;o;)i=i||e.isDefinedOn(o.node),s.push(o),o=r.getNext();let a;i?a=Cr(s,e.getCompare()):a=Yn;const l=e.toString(),c=Object.assign({},this.indexSet_);c[l]=e;const u=Object.assign({},this.indexes_);return u[l]=a,new St(u,c)}addToIndexes(e,n){const s=_r(this.indexes_,(i,r)=>{const o=gs(this.indexSet_,r);if(T(o,"Missing index implementation for "+r),i===Yn)if(o.isDefinedOn(e.node)){const a=[],l=n.getIterator(U.Wrap);let c=l.getNext();for(;c;)c.name!==e.name&&a.push(c),c=l.getNext();return a.push(e),Cr(a,o.getCompare())}else return Yn;else{const a=n.get(e.name);let l=i;return a&&(l=l.remove(new U(e.name,a))),l.insert(e,e.node)}});return new St(s,this.indexSet_)}removeFromIndexes(e,n){const s=_r(this.indexes_,i=>{if(i===Yn)return i;{const r=n.get(e.name);return r?i.remove(new U(e.name,r)):i}});return new St(s,this.indexSet_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ks;class ${constructor(e,n,s){this.children_=e,this.priorityNode_=n,this.indexMap_=s,this.lazyHash_=null,this.priorityNode_&&Sp(this.priorityNode_),this.children_.isEmpty()&&T(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}static get EMPTY_NODE(){return Ks||(Ks=new $(new ke(Ml),null,St.Default))}isLeafNode(){return!1}getPriority(){return this.priorityNode_||Ks}updatePriority(e){return this.children_.isEmpty()?this:new $(this.children_,e,this.indexMap_)}getImmediateChild(e){if(e===".priority")return this.getPriority();{const n=this.children_.get(e);return n===null?Ks:n}}getChild(e){const n=j(e);return n===null?this:this.getImmediateChild(n).getChild(re(e))}hasChild(e){return this.children_.get(e)!==null}updateImmediateChild(e,n){if(T(n,"We should always be passing snapshot nodes"),e===".priority")return this.updatePriority(n);{const s=new U(e,n);let i,r;n.isEmpty()?(i=this.children_.remove(e),r=this.indexMap_.removeFromIndexes(s,this.children_)):(i=this.children_.insert(e,n),r=this.indexMap_.addToIndexes(s,this.children_));const o=i.isEmpty()?Ks:this.priorityNode_;return new $(i,o,r)}}updateChild(e,n){const s=j(e);if(s===null)return n;{T(j(e)!==".priority"||tn(e)===1,".priority must be the last token in a path");const i=this.getImmediateChild(s).updateChild(re(e),n);return this.updateImmediateChild(s,i)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(e){if(this.isEmpty())return null;const n={};let s=0,i=0,r=!0;if(this.forEachChild(fe,(o,a)=>{n[o]=a.val(e),s++,r&&$.INTEGER_REGEXP_.test(o)?i=Math.max(i,Number(o)):r=!1}),!e&&r&&i<2*s){const o=[];for(const a in n)o[a]=n[a];return o}else return e&&!this.getPriority().isEmpty()&&(n[".priority"]=this.getPriority().val()),n}hash(){if(this.lazyHash_===null){let e="";this.getPriority().isEmpty()||(e+="priority:"+Ip(this.getPriority().val())+":"),this.forEachChild(fe,(n,s)=>{const i=s.hash();i!==""&&(e+=":"+n+":"+i)}),this.lazyHash_=e===""?"":Jd(e)}return this.lazyHash_}getPredecessorChildName(e,n,s){const i=this.resolveIndex_(s);if(i){const r=i.getPredecessorKey(new U(e,n));return r?r.name:null}else return this.children_.getPredecessorKey(e)}getFirstChildName(e){const n=this.resolveIndex_(e);if(n){const s=n.minKey();return s&&s.name}else return this.children_.minKey()}getFirstChild(e){const n=this.getFirstChildName(e);return n?new U(n,this.children_.get(n)):null}getLastChildName(e){const n=this.resolveIndex_(e);if(n){const s=n.maxKey();return s&&s.name}else return this.children_.maxKey()}getLastChild(e){const n=this.getLastChildName(e);return n?new U(n,this.children_.get(n)):null}forEachChild(e,n){const s=this.resolveIndex_(e);return s?s.inorderTraversal(i=>n(i.name,i.node)):this.children_.inorderTraversal(n)}getIterator(e){return this.getIteratorFrom(e.minPost(),e)}getIteratorFrom(e,n){const s=this.resolveIndex_(n);if(s)return s.getIteratorFrom(e,i=>i);{const i=this.children_.getIteratorFrom(e.name,U.Wrap);let r=i.peek();for(;r!=null&&n.compare(r,e)<0;)i.getNext(),r=i.peek();return i}}getReverseIterator(e){return this.getReverseIteratorFrom(e.maxPost(),e)}getReverseIteratorFrom(e,n){const s=this.resolveIndex_(n);if(s)return s.getReverseIteratorFrom(e,i=>i);{const i=this.children_.getReverseIteratorFrom(e.name,U.Wrap);let r=i.peek();for(;r!=null&&n.compare(r,e)>0;)i.getNext(),r=i.peek();return i}}compareTo(e){return this.isEmpty()?e.isEmpty()?0:-1:e.isLeafNode()||e.isEmpty()?1:e===Si?-1:0}withIndex(e){if(e===hs||this.indexMap_.hasIndex(e))return this;{const n=this.indexMap_.addIndex(e,this.children_);return new $(this.children_,this.priorityNode_,n)}}isIndexed(e){return e===hs||this.indexMap_.hasIndex(e)}equals(e){if(e===this)return!0;if(e.isLeafNode())return!1;{const n=e;if(this.getPriority().equals(n.getPriority()))if(this.children_.count()===n.children_.count()){const s=this.getIterator(fe),i=n.getIterator(fe);let r=s.getNext(),o=i.getNext();for(;r&&o;){if(r.name!==o.name||!r.node.equals(o.node))return!1;r=s.getNext(),o=i.getNext()}return r===null&&o===null}else return!1;else return!1}}resolveIndex_(e){return e===hs?null:this.indexMap_.get(e.toString())}}$.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/;class bw extends ${constructor(){super(new ke(Ml),$.EMPTY_NODE,St.Default)}compareTo(e){return e===this?0:1}equals(e){return e===this}getPriority(){return this}getImmediateChild(e){return $.EMPTY_NODE}isEmpty(){return!1}}const Si=new bw;Object.defineProperties(U,{MIN:{value:new U(ms,$.EMPTY_NODE)},MAX:{value:new U(xn,Si)}});Tp.__EMPTY_NODE=$.EMPTY_NODE;me.__childrenNodeConstructor=$;_w(Si);mw(Si);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cw=!0;function ye(t,e=null){if(t===null)return $.EMPTY_NODE;if(typeof t=="object"&&".priority"in t&&(e=t[".priority"]),T(e===null||typeof e=="string"||typeof e=="number"||typeof e=="object"&&".sv"in e,"Invalid priority type found: "+typeof e),typeof t=="object"&&".value"in t&&t[".value"]!==null&&(t=t[".value"]),typeof t!="object"||".sv"in t){const n=t;return new me(n,ye(e))}if(!(t instanceof Array)&&Cw){const n=[];let s=!1;if(Be(t,(o,a)=>{if(o.substring(0,1)!=="."){const l=ye(a);l.isEmpty()||(s=s||!l.getPriority().isEmpty(),n.push(new U(o,l)))}}),n.length===0)return $.EMPTY_NODE;const r=Cr(n,pw,o=>o.name,Ml);if(s){const o=Cr(n,fe.getCompare());return new $(r,ye(e),new St({".priority":o},{".priority":fe}))}else return new $(r,ye(e),St.Default)}else{let n=$.EMPTY_NODE;return Be(t,(s,i)=>{if($t(t,s)&&s.substring(0,1)!=="."){const r=ye(i);(r.isLeafNode()||!r.isEmpty())&&(n=n.updateImmediateChild(s,r))}}),n.updatePriority(ye(e))}}gw(ye);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ww extends to{constructor(e){super(),this.indexPath_=e,T(!G(e)&&j(e)!==".priority","Can't create PathIndex with empty path or .priority key")}extractChild(e){return e.getChild(this.indexPath_)}isDefinedOn(e){return!e.getChild(this.indexPath_).isEmpty()}compare(e,n){const s=this.extractChild(e.node),i=this.extractChild(n.node),r=s.compareTo(i);return r===0?xs(e.name,n.name):r}makePost(e,n){const s=ye(e),i=$.EMPTY_NODE.updateChild(this.indexPath_,s);return new U(n,i)}maxPost(){const e=$.EMPTY_NODE.updateChild(this.indexPath_,Si);return new U(xn,e)}toString(){return bp(this.indexPath_,0).join("/")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tw extends to{compare(e,n){const s=e.node.compareTo(n.node);return s===0?xs(e.name,n.name):s}isDefinedOn(e){return!0}indexedValueChanged(e,n){return!e.equals(n)}minPost(){return U.MIN}maxPost(){return U.MAX}makePost(e,n){const s=ye(e);return new U(n,s)}toString(){return".value"}}const Iw=new Tw;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Op(t){return{type:"value",snapshotNode:t}}function vs(t,e){return{type:"child_added",snapshotNode:e,childName:t}}function _i(t,e){return{type:"child_removed",snapshotNode:e,childName:t}}function gi(t,e,n){return{type:"child_changed",snapshotNode:e,childName:t,oldSnap:n}}function Sw(t,e){return{type:"child_moved",snapshotNode:e,childName:t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kl{constructor(e){this.index_=e}updateChild(e,n,s,i,r,o){T(e.isIndexed(this.index_),"A node must be indexed if only a child is updated");const a=e.getImmediateChild(n);return a.getChild(i).equals(s.getChild(i))&&a.isEmpty()===s.isEmpty()||(o!=null&&(s.isEmpty()?e.hasChild(n)?o.trackChildChange(_i(n,a)):T(e.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):a.isEmpty()?o.trackChildChange(vs(n,s)):o.trackChildChange(gi(n,s,a))),e.isLeafNode()&&s.isEmpty())?e:e.updateImmediateChild(n,s).withIndex(this.index_)}updateFullNode(e,n,s){return s!=null&&(e.isLeafNode()||e.forEachChild(fe,(i,r)=>{n.hasChild(i)||s.trackChildChange(_i(i,r))}),n.isLeafNode()||n.forEachChild(fe,(i,r)=>{if(e.hasChild(i)){const o=e.getImmediateChild(i);o.equals(r)||s.trackChildChange(gi(i,r,o))}else s.trackChildChange(vs(i,r))})),n.withIndex(this.index_)}updatePriority(e,n){return e.isEmpty()?$.EMPTY_NODE:e.updatePriority(n)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mi{constructor(e){this.indexedFilter_=new kl(e.getIndex()),this.index_=e.getIndex(),this.startPost_=mi.getStartPost_(e),this.endPost_=mi.getEndPost_(e),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(e){const n=this.startIsInclusive_?this.index_.compare(this.getStartPost(),e)<=0:this.index_.compare(this.getStartPost(),e)<0,s=this.endIsInclusive_?this.index_.compare(e,this.getEndPost())<=0:this.index_.compare(e,this.getEndPost())<0;return n&&s}updateChild(e,n,s,i,r,o){return this.matches(new U(n,s))||(s=$.EMPTY_NODE),this.indexedFilter_.updateChild(e,n,s,i,r,o)}updateFullNode(e,n,s){n.isLeafNode()&&(n=$.EMPTY_NODE);let i=n.withIndex(this.index_);i=i.updatePriority($.EMPTY_NODE);const r=this;return n.forEachChild(fe,(o,a)=>{r.matches(new U(o,a))||(i=i.updateImmediateChild(o,$.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(e,i,s)}updatePriority(e,n){return e}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(e){if(e.hasStart()){const n=e.getIndexStartName();return e.getIndex().makePost(e.getIndexStartValue(),n)}else return e.getIndex().minPost()}static getEndPost_(e){if(e.hasEnd()){const n=e.getIndexEndName();return e.getIndex().makePost(e.getIndexEndValue(),n)}else return e.getIndex().maxPost()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Aw{constructor(e){this.withinDirectionalStart=n=>this.reverse_?this.withinEndPost(n):this.withinStartPost(n),this.withinDirectionalEnd=n=>this.reverse_?this.withinStartPost(n):this.withinEndPost(n),this.withinStartPost=n=>{const s=this.index_.compare(this.rangedFilter_.getStartPost(),n);return this.startIsInclusive_?s<=0:s<0},this.withinEndPost=n=>{const s=this.index_.compare(n,this.rangedFilter_.getEndPost());return this.endIsInclusive_?s<=0:s<0},this.rangedFilter_=new mi(e),this.index_=e.getIndex(),this.limit_=e.getLimit(),this.reverse_=!e.isViewFromLeft(),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}updateChild(e,n,s,i,r,o){return this.rangedFilter_.matches(new U(n,s))||(s=$.EMPTY_NODE),e.getImmediateChild(n).equals(s)?e:e.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(e,n,s,i,r,o):this.fullLimitUpdateChild_(e,n,s,r,o)}updateFullNode(e,n,s){let i;if(n.isLeafNode()||n.isEmpty())i=$.EMPTY_NODE.withIndex(this.index_);else if(this.limit_*2<n.numChildren()&&n.isIndexed(this.index_)){i=$.EMPTY_NODE.withIndex(this.index_);let r;this.reverse_?r=n.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):r=n.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let o=0;for(;r.hasNext()&&o<this.limit_;){const a=r.getNext();if(this.withinDirectionalStart(a))if(this.withinDirectionalEnd(a))i=i.updateImmediateChild(a.name,a.node),o++;else break;else continue}}else{i=n.withIndex(this.index_),i=i.updatePriority($.EMPTY_NODE);let r;this.reverse_?r=i.getReverseIterator(this.index_):r=i.getIterator(this.index_);let o=0;for(;r.hasNext();){const a=r.getNext();o<this.limit_&&this.withinDirectionalStart(a)&&this.withinDirectionalEnd(a)?o++:i=i.updateImmediateChild(a.name,$.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(e,i,s)}updatePriority(e,n){return e}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(e,n,s,i,r){let o;if(this.reverse_){const h=this.index_.getCompare();o=(f,_)=>h(_,f)}else o=this.index_.getCompare();const a=e;T(a.numChildren()===this.limit_,"");const l=new U(n,s),c=this.reverse_?a.getFirstChild(this.index_):a.getLastChild(this.index_),u=this.rangedFilter_.matches(l);if(a.hasChild(n)){const h=a.getImmediateChild(n);let f=i.getChildAfterChild(this.index_,c,this.reverse_);for(;f!=null&&(f.name===n||a.hasChild(f.name));)f=i.getChildAfterChild(this.index_,f,this.reverse_);const _=f==null?1:o(f,l);if(u&&!s.isEmpty()&&_>=0)return r!=null&&r.trackChildChange(gi(n,s,h)),a.updateImmediateChild(n,s);{r!=null&&r.trackChildChange(_i(n,h));const C=a.updateImmediateChild(n,$.EMPTY_NODE);return f!=null&&this.rangedFilter_.matches(f)?(r!=null&&r.trackChildChange(vs(f.name,f.node)),C.updateImmediateChild(f.name,f.node)):C}}else return s.isEmpty()?e:u&&o(c,l)>=0?(r!=null&&(r.trackChildChange(_i(c.name,c.node)),r.trackChildChange(vs(n,s))),a.updateImmediateChild(n,s).updateImmediateChild(c.name,$.EMPTY_NODE)):e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $l{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=fe}hasStart(){return this.startSet_}isViewFromLeft(){return this.viewFrom_===""?this.startSet_:this.viewFrom_==="l"}getIndexStartValue(){return T(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return T(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:ms}hasEnd(){return this.endSet_}getIndexEndValue(){return T(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return T(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:xn}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&this.viewFrom_!==""}getLimit(){return T(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===fe}copy(){const e=new $l;return e.limitSet_=this.limitSet_,e.limit_=this.limit_,e.startSet_=this.startSet_,e.startAfterSet_=this.startAfterSet_,e.indexStartValue_=this.indexStartValue_,e.startNameSet_=this.startNameSet_,e.indexStartName_=this.indexStartName_,e.endSet_=this.endSet_,e.endBeforeSet_=this.endBeforeSet_,e.indexEndValue_=this.indexEndValue_,e.endNameSet_=this.endNameSet_,e.indexEndName_=this.indexEndName_,e.index_=this.index_,e.viewFrom_=this.viewFrom_,e}}function Nw(t){return t.loadsAllData()?new kl(t.getIndex()):t.hasLimit()?new Aw(t):new mi(t)}function Xu(t){const e={};if(t.isDefault())return e;let n;if(t.index_===fe?n="$priority":t.index_===Iw?n="$value":t.index_===hs?n="$key":(T(t.index_ instanceof ww,"Unrecognized index type!"),n=t.index_.toString()),e.orderBy=Ee(n),t.startSet_){const s=t.startAfterSet_?"startAfter":"startAt";e[s]=Ee(t.indexStartValue_),t.startNameSet_&&(e[s]+=","+Ee(t.indexStartName_))}if(t.endSet_){const s=t.endBeforeSet_?"endBefore":"endAt";e[s]=Ee(t.indexEndValue_),t.endNameSet_&&(e[s]+=","+Ee(t.indexEndName_))}return t.limitSet_&&(t.isViewFromLeft()?e.limitToFirst=t.limit_:e.limitToLast=t.limit_),e}function Ju(t){const e={};if(t.startSet_&&(e.sp=t.indexStartValue_,t.startNameSet_&&(e.sn=t.indexStartName_),e.sin=!t.startAfterSet_),t.endSet_&&(e.ep=t.indexEndValue_,t.endNameSet_&&(e.en=t.indexEndName_),e.ein=!t.endBeforeSet_),t.limitSet_){e.l=t.limit_;let n=t.viewFrom_;n===""&&(t.isViewFromLeft()?n="l":n="r"),e.vf=n}return t.index_!==fe&&(e.i=t.index_.toString()),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wr extends vp{constructor(e,n,s,i){super(),this.repoInfo_=e,this.onDataUpdate_=n,this.authTokenProvider_=s,this.appCheckTokenProvider_=i,this.log_=Ii("p:rest:"),this.listens_={}}reportStats(e){throw new Error("Method not implemented.")}static getListenId_(e,n){return n!==void 0?"tag$"+n:(T(e._queryParams.isDefault(),"should have a tag if it's not a default query."),e._path.toString())}listen(e,n,s,i){const r=e._path.toString();this.log_("Listen called for "+r+" "+e._queryIdentifier);const o=wr.getListenId_(e,s),a={};this.listens_[o]=a;const l=Xu(e._queryParams);this.restRequest_(r+".json",l,(c,u)=>{let h=u;if(c===404&&(h=null,c=null),c===null&&this.onDataUpdate_(r,h,!1,s),gs(this.listens_,o)===a){let f;c?c===401?f="permission_denied":f="rest_error:"+c:f="ok",i(f,null)}})}unlisten(e,n){const s=wr.getListenId_(e,n);delete this.listens_[s]}get(e){const n=Xu(e._queryParams),s=e._path.toString(),i=new Qr;return this.restRequest_(s+".json",n,(r,o)=>{let a=o;r===404&&(a=null,r=null),r===null?(this.onDataUpdate_(s,a,!1,null),i.resolve(a)):i.reject(new Error(a))}),i.promise}refreshAuthToken(e){}restRequest_(e,n={},s){return n.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([i,r])=>{i&&i.accessToken&&(n.auth=i.accessToken),r&&r.token&&(n.ac=r.token);const o=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+e+"?ns="+this.repoInfo_.namespace+SE(n);this.log_("Sending REST request for "+o);const a=new XMLHttpRequest;a.onreadystatechange=()=>{if(s&&a.readyState===4){this.log_("REST Response for "+o+" received. status:",a.status,"response:",a.responseText);let l=null;if(a.status>=200&&a.status<300){try{l=fi(a.responseText)}catch{Fe("Failed to parse JSON response for "+o+": "+a.responseText)}s(null,l)}else a.status!==401&&a.status!==404&&Fe("Got unsuccessful REST response for "+o+" Status: "+a.status),s(a.status);s=null}},a.open("GET",o,!0),a.send()})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ow{constructor(){this.rootNode_=$.EMPTY_NODE}getNode(e){return this.rootNode_.getChild(e)}updateSnapshot(e,n){this.rootNode_=this.rootNode_.updateChild(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tr(){return{value:null,children:new Map}}function Rp(t,e,n){if(G(e))t.value=n,t.children.clear();else if(t.value!==null)t.value=t.value.updateChild(e,n);else{const s=j(e);t.children.has(s)||t.children.set(s,Tr());const i=t.children.get(s);e=re(e),Rp(i,e,n)}}function Ma(t,e,n){t.value!==null?n(e,t.value):Rw(t,(s,i)=>{const r=new se(e.toString()+"/"+s);Ma(i,r,n)})}function Rw(t,e){t.children.forEach((n,s)=>{e(s,n)})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dw{constructor(e){this.collection_=e,this.last_=null}get(){const e=this.collection_.get(),n=Object.assign({},e);return this.last_&&Be(this.last_,(s,i)=>{n[s]=n[s]-i}),this.last_=e,n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zu=10*1e3,xw=30*1e3,Pw=5*60*1e3;class Lw{constructor(e,n){this.server_=n,this.statsToReport_={},this.statsListener_=new Dw(e);const s=Zu+(xw-Zu)*Math.random();ti(this.reportStats_.bind(this),Math.floor(s))}reportStats_(){const e=this.statsListener_.get(),n={};let s=!1;Be(e,(i,r)=>{r>0&&$t(this.statsToReport_,i)&&(n[i]=r,s=!0)}),s&&this.server_.reportStats(n),ti(this.reportStats_.bind(this),Math.floor(Math.random()*2*Pw))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var lt;(function(t){t[t.OVERWRITE=0]="OVERWRITE",t[t.MERGE=1]="MERGE",t[t.ACK_USER_WRITE=2]="ACK_USER_WRITE",t[t.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"})(lt||(lt={}));function Dp(){return{fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}function Fl(){return{fromUser:!1,fromServer:!0,queryId:null,tagged:!1}}function Vl(t){return{fromUser:!1,fromServer:!0,queryId:t,tagged:!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ir{constructor(e,n,s){this.path=e,this.affectedTree=n,this.revert=s,this.type=lt.ACK_USER_WRITE,this.source=Dp()}operationForChild(e){if(G(this.path)){if(this.affectedTree.value!=null)return T(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const n=this.affectedTree.subtree(new se(e));return new Ir(J(),n,this.revert)}}else return T(j(this.path)===e,"operationForChild called for unrelated child."),new Ir(re(this.path),this.affectedTree,this.revert)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vi{constructor(e,n){this.source=e,this.path=n,this.type=lt.LISTEN_COMPLETE}operationForChild(e){return G(this.path)?new vi(this.source,J()):new vi(this.source,re(this.path))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pn{constructor(e,n,s){this.source=e,this.path=n,this.snap=s,this.type=lt.OVERWRITE}operationForChild(e){return G(this.path)?new Pn(this.source,J(),this.snap.getImmediateChild(e)):new Pn(this.source,re(this.path),this.snap)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ei{constructor(e,n,s){this.source=e,this.path=n,this.children=s,this.type=lt.MERGE}operationForChild(e){if(G(this.path)){const n=this.children.subtree(new se(e));return n.isEmpty()?null:n.value?new Pn(this.source,J(),n.value):new Ei(this.source,J(),n)}else return T(j(this.path)===e,"Can't get a merge for a child not on the path of the operation"),new Ei(this.source,re(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ln{constructor(e,n,s){this.node_=e,this.fullyInitialized_=n,this.filtered_=s}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(e){if(G(e))return this.isFullyInitialized()&&!this.filtered_;const n=j(e);return this.isCompleteForChild(n)}isCompleteForChild(e){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(e)}getNode(){return this.node_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mw{constructor(e){this.query_=e,this.index_=this.query_._queryParams.getIndex()}}function kw(t,e,n,s){const i=[],r=[];return e.forEach(o=>{o.type==="child_changed"&&t.index_.indexedValueChanged(o.oldSnap,o.snapshotNode)&&r.push(Sw(o.childName,o.snapshotNode))}),Gs(t,i,"child_removed",e,s,n),Gs(t,i,"child_added",e,s,n),Gs(t,i,"child_moved",r,s,n),Gs(t,i,"child_changed",e,s,n),Gs(t,i,"value",e,s,n),i}function Gs(t,e,n,s,i,r){const o=s.filter(a=>a.type===n);o.sort((a,l)=>Fw(t,a,l)),o.forEach(a=>{const l=$w(t,a,r);i.forEach(c=>{c.respondsTo(a.type)&&e.push(c.createEvent(l,t.query_))})})}function $w(t,e,n){return e.type==="value"||e.type==="child_removed"||(e.prevName=n.getPredecessorChildName(e.childName,e.snapshotNode,t.index_)),e}function Fw(t,e,n){if(e.childName==null||n.childName==null)throw Ds("Should only compare child_ events.");const s=new U(e.childName,e.snapshotNode),i=new U(n.childName,n.snapshotNode);return t.index_.compare(s,i)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function no(t,e){return{eventCache:t,serverCache:e}}function ni(t,e,n,s){return no(new Ln(e,n,s),t.serverCache)}function xp(t,e,n,s){return no(t.eventCache,new Ln(e,n,s))}function ka(t){return t.eventCache.isFullyInitialized()?t.eventCache.getNode():null}function Mn(t){return t.serverCache.isFullyInitialized()?t.serverCache.getNode():null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Wo;const Vw=()=>(Wo||(Wo=new ke(TC)),Wo);class oe{constructor(e,n=Vw()){this.value=e,this.children=n}static fromObject(e){let n=new oe(null);return Be(e,(s,i)=>{n=n.set(new se(s),i)}),n}isEmpty(){return this.value===null&&this.children.isEmpty()}findRootMostMatchingPathAndValue(e,n){if(this.value!=null&&n(this.value))return{path:J(),value:this.value};if(G(e))return null;{const s=j(e),i=this.children.get(s);if(i!==null){const r=i.findRootMostMatchingPathAndValue(re(e),n);return r!=null?{path:pe(new se(s),r.path),value:r.value}:null}else return null}}findRootMostValueAndPath(e){return this.findRootMostMatchingPathAndValue(e,()=>!0)}subtree(e){if(G(e))return this;{const n=j(e),s=this.children.get(n);return s!==null?s.subtree(re(e)):new oe(null)}}set(e,n){if(G(e))return new oe(n,this.children);{const s=j(e),r=(this.children.get(s)||new oe(null)).set(re(e),n),o=this.children.insert(s,r);return new oe(this.value,o)}}remove(e){if(G(e))return this.children.isEmpty()?new oe(null):new oe(null,this.children);{const n=j(e),s=this.children.get(n);if(s){const i=s.remove(re(e));let r;return i.isEmpty()?r=this.children.remove(n):r=this.children.insert(n,i),this.value===null&&r.isEmpty()?new oe(null):new oe(this.value,r)}else return this}}get(e){if(G(e))return this.value;{const n=j(e),s=this.children.get(n);return s?s.get(re(e)):null}}setTree(e,n){if(G(e))return n;{const s=j(e),r=(this.children.get(s)||new oe(null)).setTree(re(e),n);let o;return r.isEmpty()?o=this.children.remove(s):o=this.children.insert(s,r),new oe(this.value,o)}}fold(e){return this.fold_(J(),e)}fold_(e,n){const s={};return this.children.inorderTraversal((i,r)=>{s[i]=r.fold_(pe(e,i),n)}),n(e,this.value,s)}findOnPath(e,n){return this.findOnPath_(e,J(),n)}findOnPath_(e,n,s){const i=this.value?s(n,this.value):!1;if(i)return i;if(G(e))return null;{const r=j(e),o=this.children.get(r);return o?o.findOnPath_(re(e),pe(n,r),s):null}}foreachOnPath(e,n){return this.foreachOnPath_(e,J(),n)}foreachOnPath_(e,n,s){if(G(e))return this;{this.value&&s(n,this.value);const i=j(e),r=this.children.get(i);return r?r.foreachOnPath_(re(e),pe(n,i),s):new oe(null)}}foreach(e){this.foreach_(J(),e)}foreach_(e,n){this.children.inorderTraversal((s,i)=>{i.foreach_(pe(e,s),n)}),this.value&&n(e,this.value)}foreachChild(e){this.children.inorderTraversal((n,s)=>{s.value&&e(n,s.value)})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ut{constructor(e){this.writeTree_=e}static empty(){return new ut(new oe(null))}}function si(t,e,n){if(G(e))return new ut(new oe(n));{const s=t.writeTree_.findRootMostValueAndPath(e);if(s!=null){const i=s.path;let r=s.value;const o=Me(i,e);return r=r.updateChild(o,n),new ut(t.writeTree_.set(i,r))}else{const i=new oe(n),r=t.writeTree_.setTree(e,i);return new ut(r)}}}function eh(t,e,n){let s=t;return Be(n,(i,r)=>{s=si(s,pe(e,i),r)}),s}function th(t,e){if(G(e))return ut.empty();{const n=t.writeTree_.setTree(e,new oe(null));return new ut(n)}}function $a(t,e){return Wn(t,e)!=null}function Wn(t,e){const n=t.writeTree_.findRootMostValueAndPath(e);return n!=null?t.writeTree_.get(n.path).getChild(Me(n.path,e)):null}function nh(t){const e=[],n=t.writeTree_.value;return n!=null?n.isLeafNode()||n.forEachChild(fe,(s,i)=>{e.push(new U(s,i))}):t.writeTree_.children.inorderTraversal((s,i)=>{i.value!=null&&e.push(new U(s,i.value))}),e}function Jt(t,e){if(G(e))return t;{const n=Wn(t,e);return n!=null?new ut(new oe(n)):new ut(t.writeTree_.subtree(e))}}function Fa(t){return t.writeTree_.isEmpty()}function Es(t,e){return Pp(J(),t.writeTree_,e)}function Pp(t,e,n){if(e.value!=null)return n.updateChild(t,e.value);{let s=null;return e.children.inorderTraversal((i,r)=>{i===".priority"?(T(r.value!==null,"Priority writes must always be leaf nodes"),s=r.value):n=Pp(pe(t,i),r,n)}),!n.getChild(t).isEmpty()&&s!==null&&(n=n.updateChild(pe(t,".priority"),s)),n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bl(t,e){return $p(e,t)}function Bw(t,e,n,s,i){T(s>t.lastWriteId,"Stacking an older write on top of newer ones"),i===void 0&&(i=!0),t.allWrites.push({path:e,snap:n,writeId:s,visible:i}),i&&(t.visibleWrites=si(t.visibleWrites,e,n)),t.lastWriteId=s}function Hw(t,e){for(let n=0;n<t.allWrites.length;n++){const s=t.allWrites[n];if(s.writeId===e)return s}return null}function Ww(t,e){const n=t.allWrites.findIndex(a=>a.writeId===e);T(n>=0,"removeWrite called with nonexistent writeId.");const s=t.allWrites[n];t.allWrites.splice(n,1);let i=s.visible,r=!1,o=t.allWrites.length-1;for(;i&&o>=0;){const a=t.allWrites[o];a.visible&&(o>=n&&jw(a,s.path)?i=!1:at(s.path,a.path)&&(r=!0)),o--}if(i){if(r)return Uw(t),!0;if(s.snap)t.visibleWrites=th(t.visibleWrites,s.path);else{const a=s.children;Be(a,l=>{t.visibleWrites=th(t.visibleWrites,pe(s.path,l))})}return!0}else return!1}function jw(t,e){if(t.snap)return at(t.path,e);for(const n in t.children)if(t.children.hasOwnProperty(n)&&at(pe(t.path,n),e))return!0;return!1}function Uw(t){t.visibleWrites=Lp(t.allWrites,Kw,J()),t.allWrites.length>0?t.lastWriteId=t.allWrites[t.allWrites.length-1].writeId:t.lastWriteId=-1}function Kw(t){return t.visible}function Lp(t,e,n){let s=ut.empty();for(let i=0;i<t.length;++i){const r=t[i];if(e(r)){const o=r.path;let a;if(r.snap)at(n,o)?(a=Me(n,o),s=si(s,a,r.snap)):at(o,n)&&(a=Me(o,n),s=si(s,J(),r.snap.getChild(a)));else if(r.children){if(at(n,o))a=Me(n,o),s=eh(s,a,r.children);else if(at(o,n))if(a=Me(o,n),G(a))s=eh(s,J(),r.children);else{const l=gs(r.children,j(a));if(l){const c=l.getChild(re(a));s=si(s,J(),c)}}}else throw Ds("WriteRecord should have .snap or .children")}}return s}function Mp(t,e,n,s,i){if(!s&&!i){const r=Wn(t.visibleWrites,e);if(r!=null)return r;{const o=Jt(t.visibleWrites,e);if(Fa(o))return n;if(n==null&&!$a(o,J()))return null;{const a=n||$.EMPTY_NODE;return Es(o,a)}}}else{const r=Jt(t.visibleWrites,e);if(!i&&Fa(r))return n;if(!i&&n==null&&!$a(r,J()))return null;{const o=function(c){return(c.visible||i)&&(!s||!~s.indexOf(c.writeId))&&(at(c.path,e)||at(e,c.path))},a=Lp(t.allWrites,o,e),l=n||$.EMPTY_NODE;return Es(a,l)}}}function Gw(t,e,n){let s=$.EMPTY_NODE;const i=Wn(t.visibleWrites,e);if(i)return i.isLeafNode()||i.forEachChild(fe,(r,o)=>{s=s.updateImmediateChild(r,o)}),s;if(n){const r=Jt(t.visibleWrites,e);return n.forEachChild(fe,(o,a)=>{const l=Es(Jt(r,new se(o)),a);s=s.updateImmediateChild(o,l)}),nh(r).forEach(o=>{s=s.updateImmediateChild(o.name,o.node)}),s}else{const r=Jt(t.visibleWrites,e);return nh(r).forEach(o=>{s=s.updateImmediateChild(o.name,o.node)}),s}}function qw(t,e,n,s,i){T(s||i,"Either existingEventSnap or existingServerSnap must exist");const r=pe(e,n);if($a(t.visibleWrites,r))return null;{const o=Jt(t.visibleWrites,r);return Fa(o)?i.getChild(n):Es(o,i.getChild(n))}}function zw(t,e,n,s){const i=pe(e,n),r=Wn(t.visibleWrites,i);if(r!=null)return r;if(s.isCompleteForChild(n)){const o=Jt(t.visibleWrites,i);return Es(o,s.getNode().getImmediateChild(n))}else return null}function Yw(t,e){return Wn(t.visibleWrites,e)}function Qw(t,e,n,s,i,r,o){let a;const l=Jt(t.visibleWrites,e),c=Wn(l,J());if(c!=null)a=c;else if(n!=null)a=Es(l,n);else return[];if(a=a.withIndex(o),!a.isEmpty()&&!a.isLeafNode()){const u=[],h=o.getCompare(),f=r?a.getReverseIteratorFrom(s,o):a.getIteratorFrom(s,o);let _=f.getNext();for(;_&&u.length<i;)h(_,s)!==0&&u.push(_),_=f.getNext();return u}else return[]}function Xw(){return{visibleWrites:ut.empty(),allWrites:[],lastWriteId:-1}}function Sr(t,e,n,s){return Mp(t.writeTree,t.treePath,e,n,s)}function Hl(t,e){return Gw(t.writeTree,t.treePath,e)}function sh(t,e,n,s){return qw(t.writeTree,t.treePath,e,n,s)}function Ar(t,e){return Yw(t.writeTree,pe(t.treePath,e))}function Jw(t,e,n,s,i,r){return Qw(t.writeTree,t.treePath,e,n,s,i,r)}function Wl(t,e,n){return zw(t.writeTree,t.treePath,e,n)}function kp(t,e){return $p(pe(t.treePath,e),t.writeTree)}function $p(t,e){return{treePath:t,writeTree:e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zw{constructor(){this.changeMap=new Map}trackChildChange(e){const n=e.type,s=e.childName;T(n==="child_added"||n==="child_changed"||n==="child_removed","Only child changes supported for tracking"),T(s!==".priority","Only non-priority child changes can be tracked.");const i=this.changeMap.get(s);if(i){const r=i.type;if(n==="child_added"&&r==="child_removed")this.changeMap.set(s,gi(s,e.snapshotNode,i.snapshotNode));else if(n==="child_removed"&&r==="child_added")this.changeMap.delete(s);else if(n==="child_removed"&&r==="child_changed")this.changeMap.set(s,_i(s,i.oldSnap));else if(n==="child_changed"&&r==="child_added")this.changeMap.set(s,vs(s,e.snapshotNode));else if(n==="child_changed"&&r==="child_changed")this.changeMap.set(s,gi(s,e.snapshotNode,i.oldSnap));else throw Ds("Illegal combination of changes: "+e+" occurred after "+i)}else this.changeMap.set(s,e)}getChanges(){return Array.from(this.changeMap.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eT{getCompleteChild(e){return null}getChildAfterChild(e,n,s){return null}}const Fp=new eT;class jl{constructor(e,n,s=null){this.writes_=e,this.viewCache_=n,this.optCompleteServerCache_=s}getCompleteChild(e){const n=this.viewCache_.eventCache;if(n.isCompleteForChild(e))return n.getNode().getImmediateChild(e);{const s=this.optCompleteServerCache_!=null?new Ln(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return Wl(this.writes_,e,s)}}getChildAfterChild(e,n,s){const i=this.optCompleteServerCache_!=null?this.optCompleteServerCache_:Mn(this.viewCache_),r=Jw(this.writes_,i,n,1,s,e);return r.length===0?null:r[0]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tT(t){return{filter:t}}function nT(t,e){T(e.eventCache.getNode().isIndexed(t.filter.getIndex()),"Event snap not indexed"),T(e.serverCache.getNode().isIndexed(t.filter.getIndex()),"Server snap not indexed")}function sT(t,e,n,s,i){const r=new Zw;let o,a;if(n.type===lt.OVERWRITE){const c=n;c.source.fromUser?o=Va(t,e,c.path,c.snap,s,i,r):(T(c.source.fromServer,"Unknown source."),a=c.source.tagged||e.serverCache.isFiltered()&&!G(c.path),o=Nr(t,e,c.path,c.snap,s,i,a,r))}else if(n.type===lt.MERGE){const c=n;c.source.fromUser?o=rT(t,e,c.path,c.children,s,i,r):(T(c.source.fromServer,"Unknown source."),a=c.source.tagged||e.serverCache.isFiltered(),o=Ba(t,e,c.path,c.children,s,i,a,r))}else if(n.type===lt.ACK_USER_WRITE){const c=n;c.revert?o=lT(t,e,c.path,s,i,r):o=oT(t,e,c.path,c.affectedTree,s,i,r)}else if(n.type===lt.LISTEN_COMPLETE)o=aT(t,e,n.path,s,r);else throw Ds("Unknown operation type: "+n.type);const l=r.getChanges();return iT(e,o,l),{viewCache:o,changes:l}}function iT(t,e,n){const s=e.eventCache;if(s.isFullyInitialized()){const i=s.getNode().isLeafNode()||s.getNode().isEmpty(),r=ka(t);(n.length>0||!t.eventCache.isFullyInitialized()||i&&!s.getNode().equals(r)||!s.getNode().getPriority().equals(r.getPriority()))&&n.push(Op(ka(e)))}}function Vp(t,e,n,s,i,r){const o=e.eventCache;if(Ar(s,n)!=null)return e;{let a,l;if(G(n))if(T(e.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),e.serverCache.isFiltered()){const c=Mn(e),u=c instanceof $?c:$.EMPTY_NODE,h=Hl(s,u);a=t.filter.updateFullNode(e.eventCache.getNode(),h,r)}else{const c=Sr(s,Mn(e));a=t.filter.updateFullNode(e.eventCache.getNode(),c,r)}else{const c=j(n);if(c===".priority"){T(tn(n)===1,"Can't have a priority with additional path components");const u=o.getNode();l=e.serverCache.getNode();const h=sh(s,n,u,l);h!=null?a=t.filter.updatePriority(u,h):a=o.getNode()}else{const u=re(n);let h;if(o.isCompleteForChild(c)){l=e.serverCache.getNode();const f=sh(s,n,o.getNode(),l);f!=null?h=o.getNode().getImmediateChild(c).updateChild(u,f):h=o.getNode().getImmediateChild(c)}else h=Wl(s,c,e.serverCache);h!=null?a=t.filter.updateChild(o.getNode(),c,h,u,i,r):a=o.getNode()}}return ni(e,a,o.isFullyInitialized()||G(n),t.filter.filtersNodes())}}function Nr(t,e,n,s,i,r,o,a){const l=e.serverCache;let c;const u=o?t.filter:t.filter.getIndexedFilter();if(G(n))c=u.updateFullNode(l.getNode(),s,null);else if(u.filtersNodes()&&!l.isFiltered()){const _=l.getNode().updateChild(n,s);c=u.updateFullNode(l.getNode(),_,null)}else{const _=j(n);if(!l.isCompleteForPath(n)&&tn(n)>1)return e;const E=re(n),A=l.getNode().getImmediateChild(_).updateChild(E,s);_===".priority"?c=u.updatePriority(l.getNode(),A):c=u.updateChild(l.getNode(),_,A,E,Fp,null)}const h=xp(e,c,l.isFullyInitialized()||G(n),u.filtersNodes()),f=new jl(i,h,r);return Vp(t,h,n,i,f,a)}function Va(t,e,n,s,i,r,o){const a=e.eventCache;let l,c;const u=new jl(i,e,r);if(G(n))c=t.filter.updateFullNode(e.eventCache.getNode(),s,o),l=ni(e,c,!0,t.filter.filtersNodes());else{const h=j(n);if(h===".priority")c=t.filter.updatePriority(e.eventCache.getNode(),s),l=ni(e,c,a.isFullyInitialized(),a.isFiltered());else{const f=re(n),_=a.getNode().getImmediateChild(h);let E;if(G(f))E=s;else{const C=u.getCompleteChild(h);C!=null?yp(f)===".priority"&&C.getChild(Cp(f)).isEmpty()?E=C:E=C.updateChild(f,s):E=$.EMPTY_NODE}if(_.equals(E))l=e;else{const C=t.filter.updateChild(a.getNode(),h,E,f,u,o);l=ni(e,C,a.isFullyInitialized(),t.filter.filtersNodes())}}}return l}function ih(t,e){return t.eventCache.isCompleteForChild(e)}function rT(t,e,n,s,i,r,o){let a=e;return s.foreach((l,c)=>{const u=pe(n,l);ih(e,j(u))&&(a=Va(t,a,u,c,i,r,o))}),s.foreach((l,c)=>{const u=pe(n,l);ih(e,j(u))||(a=Va(t,a,u,c,i,r,o))}),a}function rh(t,e,n){return n.foreach((s,i)=>{e=e.updateChild(s,i)}),e}function Ba(t,e,n,s,i,r,o,a){if(e.serverCache.getNode().isEmpty()&&!e.serverCache.isFullyInitialized())return e;let l=e,c;G(n)?c=s:c=new oe(null).setTree(n,s);const u=e.serverCache.getNode();return c.children.inorderTraversal((h,f)=>{if(u.hasChild(h)){const _=e.serverCache.getNode().getImmediateChild(h),E=rh(t,_,f);l=Nr(t,l,new se(h),E,i,r,o,a)}}),c.children.inorderTraversal((h,f)=>{const _=!e.serverCache.isCompleteForChild(h)&&f.value===null;if(!u.hasChild(h)&&!_){const E=e.serverCache.getNode().getImmediateChild(h),C=rh(t,E,f);l=Nr(t,l,new se(h),C,i,r,o,a)}}),l}function oT(t,e,n,s,i,r,o){if(Ar(i,n)!=null)return e;const a=e.serverCache.isFiltered(),l=e.serverCache;if(s.value!=null){if(G(n)&&l.isFullyInitialized()||l.isCompleteForPath(n))return Nr(t,e,n,l.getNode().getChild(n),i,r,a,o);if(G(n)){let c=new oe(null);return l.getNode().forEachChild(hs,(u,h)=>{c=c.set(new se(u),h)}),Ba(t,e,n,c,i,r,a,o)}else return e}else{let c=new oe(null);return s.foreach((u,h)=>{const f=pe(n,u);l.isCompleteForPath(f)&&(c=c.set(u,l.getNode().getChild(f)))}),Ba(t,e,n,c,i,r,a,o)}}function aT(t,e,n,s,i){const r=e.serverCache,o=xp(e,r.getNode(),r.isFullyInitialized()||G(n),r.isFiltered());return Vp(t,o,n,s,Fp,i)}function lT(t,e,n,s,i,r){let o;if(Ar(s,n)!=null)return e;{const a=new jl(s,e,i),l=e.eventCache.getNode();let c;if(G(n)||j(n)===".priority"){let u;if(e.serverCache.isFullyInitialized())u=Sr(s,Mn(e));else{const h=e.serverCache.getNode();T(h instanceof $,"serverChildren would be complete if leaf node"),u=Hl(s,h)}u=u,c=t.filter.updateFullNode(l,u,r)}else{const u=j(n);let h=Wl(s,u,e.serverCache);h==null&&e.serverCache.isCompleteForChild(u)&&(h=l.getImmediateChild(u)),h!=null?c=t.filter.updateChild(l,u,h,re(n),a,r):e.eventCache.getNode().hasChild(u)?c=t.filter.updateChild(l,u,$.EMPTY_NODE,re(n),a,r):c=l,c.isEmpty()&&e.serverCache.isFullyInitialized()&&(o=Sr(s,Mn(e)),o.isLeafNode()&&(c=t.filter.updateFullNode(c,o,r)))}return o=e.serverCache.isFullyInitialized()||Ar(s,J())!=null,ni(e,c,o,t.filter.filtersNodes())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cT{constructor(e,n){this.query_=e,this.eventRegistrations_=[];const s=this.query_._queryParams,i=new kl(s.getIndex()),r=Nw(s);this.processor_=tT(r);const o=n.serverCache,a=n.eventCache,l=i.updateFullNode($.EMPTY_NODE,o.getNode(),null),c=r.updateFullNode($.EMPTY_NODE,a.getNode(),null),u=new Ln(l,o.isFullyInitialized(),i.filtersNodes()),h=new Ln(c,a.isFullyInitialized(),r.filtersNodes());this.viewCache_=no(h,u),this.eventGenerator_=new Mw(this.query_)}get query(){return this.query_}}function uT(t){return t.viewCache_.serverCache.getNode()}function hT(t,e){const n=Mn(t.viewCache_);return n&&(t.query._queryParams.loadsAllData()||!G(e)&&!n.getImmediateChild(j(e)).isEmpty())?n.getChild(e):null}function oh(t){return t.eventRegistrations_.length===0}function fT(t,e){t.eventRegistrations_.push(e)}function ah(t,e,n){const s=[];if(n){T(e==null,"A cancel should cancel all event registrations.");const i=t.query._path;t.eventRegistrations_.forEach(r=>{const o=r.createCancelEvent(n,i);o&&s.push(o)})}if(e){let i=[];for(let r=0;r<t.eventRegistrations_.length;++r){const o=t.eventRegistrations_[r];if(!o.matches(e))i.push(o);else if(e.hasAnyCallback()){i=i.concat(t.eventRegistrations_.slice(r+1));break}}t.eventRegistrations_=i}else t.eventRegistrations_=[];return s}function lh(t,e,n,s){e.type===lt.MERGE&&e.source.queryId!==null&&(T(Mn(t.viewCache_),"We should always have a full cache before handling merges"),T(ka(t.viewCache_),"Missing event cache, even though we have a server cache"));const i=t.viewCache_,r=sT(t.processor_,i,e,n,s);return nT(t.processor_,r.viewCache),T(r.viewCache.serverCache.isFullyInitialized()||!i.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),t.viewCache_=r.viewCache,Bp(t,r.changes,r.viewCache.eventCache.getNode(),null)}function dT(t,e){const n=t.viewCache_.eventCache,s=[];return n.getNode().isLeafNode()||n.getNode().forEachChild(fe,(r,o)=>{s.push(vs(r,o))}),n.isFullyInitialized()&&s.push(Op(n.getNode())),Bp(t,s,n.getNode(),e)}function Bp(t,e,n,s){const i=s?[s]:t.eventRegistrations_;return kw(t.eventGenerator_,e,n,i)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Or;class pT{constructor(){this.views=new Map}}function _T(t){T(!Or,"__referenceConstructor has already been defined"),Or=t}function gT(){return T(Or,"Reference.ts has not been loaded"),Or}function mT(t){return t.views.size===0}function Ul(t,e,n,s){const i=e.source.queryId;if(i!==null){const r=t.views.get(i);return T(r!=null,"SyncTree gave us an op for an invalid query."),lh(r,e,n,s)}else{let r=[];for(const o of t.views.values())r=r.concat(lh(o,e,n,s));return r}}function vT(t,e,n,s,i){const r=e._queryIdentifier,o=t.views.get(r);if(!o){let a=Sr(n,i?s:null),l=!1;a?l=!0:s instanceof $?(a=Hl(n,s),l=!1):(a=$.EMPTY_NODE,l=!1);const c=no(new Ln(a,l,!1),new Ln(s,i,!1));return new cT(e,c)}return o}function ET(t,e,n,s,i,r){const o=vT(t,e,s,i,r);return t.views.has(e._queryIdentifier)||t.views.set(e._queryIdentifier,o),fT(o,n),dT(o,n)}function yT(t,e,n,s){const i=e._queryIdentifier,r=[];let o=[];const a=nn(t);if(i==="default")for(const[l,c]of t.views.entries())o=o.concat(ah(c,n,s)),oh(c)&&(t.views.delete(l),c.query._queryParams.loadsAllData()||r.push(c.query));else{const l=t.views.get(i);l&&(o=o.concat(ah(l,n,s)),oh(l)&&(t.views.delete(i),l.query._queryParams.loadsAllData()||r.push(l.query)))}return a&&!nn(t)&&r.push(new(gT())(e._repo,e._path)),{removed:r,events:o}}function Hp(t){const e=[];for(const n of t.views.values())n.query._queryParams.loadsAllData()||e.push(n);return e}function fs(t,e){let n=null;for(const s of t.views.values())n=n||hT(s,e);return n}function Wp(t,e){if(e._queryParams.loadsAllData())return so(t);{const s=e._queryIdentifier;return t.views.get(s)}}function jp(t,e){return Wp(t,e)!=null}function nn(t){return so(t)!=null}function so(t){for(const e of t.views.values())if(e.query._queryParams.loadsAllData())return e;return null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Rr;function bT(t){T(!Rr,"__referenceConstructor has already been defined"),Rr=t}function CT(){return T(Rr,"Reference.ts has not been loaded"),Rr}let wT=1;class ch{constructor(e){this.listenProvider_=e,this.syncPointTree_=new oe(null),this.pendingWriteTree_=Xw(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function Up(t,e,n,s,i){return Bw(t.pendingWriteTree_,e,n,s,i),i?Ai(t,new Pn(Dp(),e,n)):[]}function bn(t,e,n=!1){const s=Hw(t.pendingWriteTree_,e);if(Ww(t.pendingWriteTree_,e)){let r=new oe(null);return s.snap!=null?r=r.set(J(),!0):Be(s.children,o=>{r=r.set(new se(o),!0)}),Ai(t,new Ir(s.path,r,n))}else return[]}function io(t,e,n){return Ai(t,new Pn(Fl(),e,n))}function TT(t,e,n){const s=oe.fromObject(n);return Ai(t,new Ei(Fl(),e,s))}function IT(t,e){return Ai(t,new vi(Fl(),e))}function ST(t,e,n){const s=Gl(t,n);if(s){const i=ql(s),r=i.path,o=i.queryId,a=Me(r,e),l=new vi(Vl(o),a);return zl(t,r,l)}else return[]}function Ha(t,e,n,s,i=!1){const r=e._path,o=t.syncPointTree_.get(r);let a=[];if(o&&(e._queryIdentifier==="default"||jp(o,e))){const l=yT(o,e,n,s);mT(o)&&(t.syncPointTree_=t.syncPointTree_.remove(r));const c=l.removed;if(a=l.events,!i){const u=c.findIndex(f=>f._queryParams.loadsAllData())!==-1,h=t.syncPointTree_.findOnPath(r,(f,_)=>nn(_));if(u&&!h){const f=t.syncPointTree_.subtree(r);if(!f.isEmpty()){const _=OT(f);for(let E=0;E<_.length;++E){const C=_[E],A=C.query,M=qp(t,C);t.listenProvider_.startListening(ii(A),Dr(t,A),M.hashFn,M.onComplete)}}}!h&&c.length>0&&!s&&(u?t.listenProvider_.stopListening(ii(e),null):c.forEach(f=>{const _=t.queryToTagMap.get(ro(f));t.listenProvider_.stopListening(ii(f),_)}))}RT(t,c)}return a}function AT(t,e,n,s){const i=Gl(t,s);if(i!=null){const r=ql(i),o=r.path,a=r.queryId,l=Me(o,e),c=new Pn(Vl(a),l,n);return zl(t,o,c)}else return[]}function NT(t,e,n,s){const i=Gl(t,s);if(i){const r=ql(i),o=r.path,a=r.queryId,l=Me(o,e),c=oe.fromObject(n),u=new Ei(Vl(a),l,c);return zl(t,o,u)}else return[]}function uh(t,e,n,s=!1){const i=e._path;let r=null,o=!1;t.syncPointTree_.foreachOnPath(i,(f,_)=>{const E=Me(f,i);r=r||fs(_,E),o=o||nn(_)});let a=t.syncPointTree_.get(i);a?(o=o||nn(a),r=r||fs(a,J())):(a=new pT,t.syncPointTree_=t.syncPointTree_.set(i,a));let l;r!=null?l=!0:(l=!1,r=$.EMPTY_NODE,t.syncPointTree_.subtree(i).foreachChild((_,E)=>{const C=fs(E,J());C&&(r=r.updateImmediateChild(_,C))}));const c=jp(a,e);if(!c&&!e._queryParams.loadsAllData()){const f=ro(e);T(!t.queryToTagMap.has(f),"View does not exist, but we have a tag");const _=DT();t.queryToTagMap.set(f,_),t.tagToQueryMap.set(_,f)}const u=Bl(t.pendingWriteTree_,i);let h=ET(a,e,n,u,r,l);if(!c&&!o&&!s){const f=Wp(a,e);h=h.concat(xT(t,e,f))}return h}function Kl(t,e,n){const i=t.pendingWriteTree_,r=t.syncPointTree_.findOnPath(e,(o,a)=>{const l=Me(o,e),c=fs(a,l);if(c)return c});return Mp(i,e,r,n,!0)}function Ai(t,e){return Kp(e,t.syncPointTree_,null,Bl(t.pendingWriteTree_,J()))}function Kp(t,e,n,s){if(G(t.path))return Gp(t,e,n,s);{const i=e.get(J());n==null&&i!=null&&(n=fs(i,J()));let r=[];const o=j(t.path),a=t.operationForChild(o),l=e.children.get(o);if(l&&a){const c=n?n.getImmediateChild(o):null,u=kp(s,o);r=r.concat(Kp(a,l,c,u))}return i&&(r=r.concat(Ul(i,t,s,n))),r}}function Gp(t,e,n,s){const i=e.get(J());n==null&&i!=null&&(n=fs(i,J()));let r=[];return e.children.inorderTraversal((o,a)=>{const l=n?n.getImmediateChild(o):null,c=kp(s,o),u=t.operationForChild(o);u&&(r=r.concat(Gp(u,a,l,c)))}),i&&(r=r.concat(Ul(i,t,s,n))),r}function qp(t,e){const n=e.query,s=Dr(t,n);return{hashFn:()=>(uT(e)||$.EMPTY_NODE).hash(),onComplete:i=>{if(i==="ok")return s?ST(t,n._path,s):IT(t,n._path);{const r=AC(i,n);return Ha(t,n,null,r)}}}}function Dr(t,e){const n=ro(e);return t.queryToTagMap.get(n)}function ro(t){return t._path.toString()+"$"+t._queryIdentifier}function Gl(t,e){return t.tagToQueryMap.get(e)}function ql(t){const e=t.indexOf("$");return T(e!==-1&&e<t.length-1,"Bad queryKey."),{queryId:t.substr(e+1),path:new se(t.substr(0,e))}}function zl(t,e,n){const s=t.syncPointTree_.get(e);T(s,"Missing sync point for query tag that we're tracking");const i=Bl(t.pendingWriteTree_,e);return Ul(s,n,i,null)}function OT(t){return t.fold((e,n,s)=>{if(n&&nn(n))return[so(n)];{let i=[];return n&&(i=Hp(n)),Be(s,(r,o)=>{i=i.concat(o)}),i}})}function ii(t){return t._queryParams.loadsAllData()&&!t._queryParams.isDefault()?new(CT())(t._repo,t._path):t}function RT(t,e){for(let n=0;n<e.length;++n){const s=e[n];if(!s._queryParams.loadsAllData()){const i=ro(s),r=t.queryToTagMap.get(i);t.queryToTagMap.delete(i),t.tagToQueryMap.delete(r)}}}function DT(){return wT++}function xT(t,e,n){const s=e._path,i=Dr(t,e),r=qp(t,n),o=t.listenProvider_.startListening(ii(e),i,r.hashFn,r.onComplete),a=t.syncPointTree_.subtree(s);if(i)T(!nn(a.value),"If we're adding a query, it shouldn't be shadowed");else{const l=a.fold((c,u,h)=>{if(!G(c)&&u&&nn(u))return[so(u).query];{let f=[];return u&&(f=f.concat(Hp(u).map(_=>_.query))),Be(h,(_,E)=>{f=f.concat(E)}),f}});for(let c=0;c<l.length;++c){const u=l[c];t.listenProvider_.stopListening(ii(u),Dr(t,u))}}return o}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yl{constructor(e){this.node_=e}getImmediateChild(e){const n=this.node_.getImmediateChild(e);return new Yl(n)}node(){return this.node_}}class Ql{constructor(e,n){this.syncTree_=e,this.path_=n}getImmediateChild(e){const n=pe(this.path_,e);return new Ql(this.syncTree_,n)}node(){return Kl(this.syncTree_,this.path_)}}const PT=function(t){return t=t||{},t.timestamp=t.timestamp||new Date().getTime(),t},hh=function(t,e,n){if(!t||typeof t!="object")return t;if(T(".sv"in t,"Unexpected leaf node or priority contents"),typeof t[".sv"]=="string")return LT(t[".sv"],e,n);if(typeof t[".sv"]=="object")return MT(t[".sv"],e);T(!1,"Unexpected server value: "+JSON.stringify(t,null,2))},LT=function(t,e,n){switch(t){case"timestamp":return n.timestamp;default:T(!1,"Unexpected server value: "+t)}},MT=function(t,e,n){t.hasOwnProperty("increment")||T(!1,"Unexpected server value: "+JSON.stringify(t,null,2));const s=t.increment;typeof s!="number"&&T(!1,"Unexpected increment value: "+s);const i=e.node();if(T(i!==null&&typeof i<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!i.isLeafNode())return s;const o=i.getValue();return typeof o!="number"?s:o+s},kT=function(t,e,n,s){return Xl(e,new Ql(n,t),s)},zp=function(t,e,n){return Xl(t,new Yl(e),n)};function Xl(t,e,n){const s=t.getPriority().val(),i=hh(s,e.getImmediateChild(".priority"),n);let r;if(t.isLeafNode()){const o=t,a=hh(o.getValue(),e,n);return a!==o.getValue()||i!==o.getPriority().val()?new me(a,ye(i)):t}else{const o=t;return r=o,i!==o.getPriority().val()&&(r=r.updatePriority(new me(i))),o.forEachChild(fe,(a,l)=>{const c=Xl(l,e.getImmediateChild(a),n);c!==l&&(r=r.updateImmediateChild(a,c))}),r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jl{constructor(e="",n=null,s={children:{},childCount:0}){this.name=e,this.parent=n,this.node=s}}function Zl(t,e){let n=e instanceof se?e:new se(e),s=t,i=j(n);for(;i!==null;){const r=gs(s.node.children,i)||{children:{},childCount:0};s=new Jl(i,s,r),n=re(n),i=j(n)}return s}function Ls(t){return t.node.value}function Yp(t,e){t.node.value=e,Wa(t)}function Qp(t){return t.node.childCount>0}function $T(t){return Ls(t)===void 0&&!Qp(t)}function oo(t,e){Be(t.node.children,(n,s)=>{e(new Jl(n,t,s))})}function Xp(t,e,n,s){n&&!s&&e(t),oo(t,i=>{Xp(i,e,!0,s)}),n&&s&&e(t)}function FT(t,e,n){let s=n?t:t.parent;for(;s!==null;){if(e(s))return!0;s=s.parent}return!1}function Ni(t){return new se(t.parent===null?t.name:Ni(t.parent)+"/"+t.name)}function Wa(t){t.parent!==null&&VT(t.parent,t.name,t)}function VT(t,e,n){const s=$T(n),i=$t(t.node.children,e);s&&i?(delete t.node.children[e],t.node.childCount--,Wa(t)):!s&&!i&&(t.node.children[e]=n.node,t.node.childCount++,Wa(t))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BT=/[\[\].#$\/\u0000-\u001F\u007F]/,HT=/[\[\].#$\u0000-\u001F\u007F]/,jo=10*1024*1024,Jp=function(t){return typeof t=="string"&&t.length!==0&&!BT.test(t)},Zp=function(t){return typeof t=="string"&&t.length!==0&&!HT.test(t)},WT=function(t){return t&&(t=t.replace(/^\/*\.info(\/|$)/,"/")),Zp(t)},e_=function(t,e,n,s){s&&e===void 0||ec(yl(t,"value"),e,n)},ec=function(t,e,n){const s=n instanceof se?new ow(n,t):n;if(e===void 0)throw new Error(t+"contains undefined "+gn(s));if(typeof e=="function")throw new Error(t+"contains a function "+gn(s)+" with contents = "+e.toString());if(Zd(e))throw new Error(t+"contains "+e.toString()+" "+gn(s));if(typeof e=="string"&&e.length>jo/3&&Jr(e)>jo)throw new Error(t+"contains a string greater than "+jo+" utf8 bytes "+gn(s)+" ('"+e.substring(0,50)+"...')");if(e&&typeof e=="object"){let i=!1,r=!1;if(Be(e,(o,a)=>{if(o===".value")i=!0;else if(o!==".priority"&&o!==".sv"&&(r=!0,!Jp(o)))throw new Error(t+" contains an invalid key ("+o+") "+gn(s)+`.  Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`);aw(s,o),ec(t,a,s),lw(s)}),i&&r)throw new Error(t+' contains ".value" child '+gn(s)+" in addition to actual children.")}},t_=function(t,e,n,s){if(!(s&&n===void 0)&&!Zp(n))throw new Error(yl(t,e)+'was an invalid path = "'+n+`". Paths must be non-empty strings and can't contain ".", "#", "$", "[", or "]"`)},jT=function(t,e,n,s){n&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),t_(t,e,n,s)},n_=function(t,e){if(j(e)===".info")throw new Error(t+" failed = Can't modify data under /.info/")},UT=function(t,e){const n=e.path.toString();if(typeof e.repoInfo.host!="string"||e.repoInfo.host.length===0||!Jp(e.repoInfo.namespace)&&e.repoInfo.host.split(":")[0]!=="localhost"||n.length!==0&&!WT(n))throw new Error(yl(t,"url")+`must be a valid firebase URL and the path can't contain ".", "#", "$", "[", or "]".`)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KT{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function tc(t,e){let n=null;for(let s=0;s<e.length;s++){const i=e[s],r=i.getPath();n!==null&&!Pl(r,n.path)&&(t.eventLists_.push(n),n=null),n===null&&(n={events:[],path:r}),n.events.push(i)}n&&t.eventLists_.push(n)}function s_(t,e,n){tc(t,n),i_(t,s=>Pl(s,e))}function Lt(t,e,n){tc(t,n),i_(t,s=>at(s,e)||at(e,s))}function i_(t,e){t.recursionDepth_++;let n=!0;for(let s=0;s<t.eventLists_.length;s++){const i=t.eventLists_[s];if(i){const r=i.path;e(r)?(GT(t.eventLists_[s]),t.eventLists_[s]=null):n=!1}}n&&(t.eventLists_=[]),t.recursionDepth_--}function GT(t){for(let e=0;e<t.events.length;e++){const n=t.events[e];if(n!==null){t.events[e]=null;const s=n.getEventRunner();An&&we("event: "+n.toString()),Ps(s)}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qT="repo_interrupt",zT=25;class YT{constructor(e,n,s,i){this.repoInfo_=e,this.forceRestClient_=n,this.authTokenProvider_=s,this.appCheckProvider_=i,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new KT,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=Tr(),this.transactionQueueTree_=new Jl,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function QT(t,e,n){if(t.stats_=Dl(t.repoInfo_),t.forceRestClient_||DC())t.server_=new wr(t.repoInfo_,(s,i,r,o)=>{fh(t,s,i,r,o)},t.authTokenProvider_,t.appCheckProvider_),setTimeout(()=>dh(t,!0),0);else{if(typeof n<"u"&&n!==null){if(typeof n!="object")throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{Ee(n)}catch(s){throw new Error("Invalid authOverride provided: "+s)}}t.persistentConnection_=new Ot(t.repoInfo_,e,(s,i,r,o)=>{fh(t,s,i,r,o)},s=>{dh(t,s)},s=>{XT(t,s)},t.authTokenProvider_,t.appCheckProvider_,n),t.server_=t.persistentConnection_}t.authTokenProvider_.addTokenChangeListener(s=>{t.server_.refreshAuthToken(s)}),t.appCheckProvider_.addTokenChangeListener(s=>{t.server_.refreshAppCheckToken(s.token)}),t.statsReporter_=kC(t.repoInfo_,()=>new Lw(t.stats_,t.server_)),t.infoData_=new Ow,t.infoSyncTree_=new ch({startListening:(s,i,r,o)=>{let a=[];const l=t.infoData_.getNode(s._path);return l.isEmpty()||(a=io(t.infoSyncTree_,s._path,l),setTimeout(()=>{o("ok")},0)),a},stopListening:()=>{}}),sc(t,"connected",!1),t.serverSyncTree_=new ch({startListening:(s,i,r,o)=>(t.server_.listen(s,r,i,(a,l)=>{const c=o(a,l);Lt(t.eventQueue_,s._path,c)}),[]),stopListening:(s,i)=>{t.server_.unlisten(s,i)}})}function r_(t){const n=t.infoData_.getNode(new se(".info/serverTimeOffset")).val()||0;return new Date().getTime()+n}function nc(t){return PT({timestamp:r_(t)})}function fh(t,e,n,s,i){t.dataUpdateCount++;const r=new se(e);n=t.interceptServerDataCallback_?t.interceptServerDataCallback_(e,n):n;let o=[];if(i)if(s){const l=_r(n,c=>ye(c));o=NT(t.serverSyncTree_,r,l,i)}else{const l=ye(n);o=AT(t.serverSyncTree_,r,l,i)}else if(s){const l=_r(n,c=>ye(c));o=TT(t.serverSyncTree_,r,l)}else{const l=ye(n);o=io(t.serverSyncTree_,r,l)}let a=r;o.length>0&&(a=ao(t,r)),Lt(t.eventQueue_,a,o)}function dh(t,e){sc(t,"connected",e),e===!1&&ZT(t)}function XT(t,e){Be(e,(n,s)=>{sc(t,n,s)})}function sc(t,e,n){const s=new se("/.info/"+e),i=ye(n);t.infoData_.updateSnapshot(s,i);const r=io(t.infoSyncTree_,s,i);Lt(t.eventQueue_,s,r)}function o_(t){return t.nextWriteId_++}function JT(t,e,n,s,i){ic(t,"set",{path:e.toString(),value:n,priority:s});const r=nc(t),o=ye(n,s),a=Kl(t.serverSyncTree_,e),l=zp(o,a,r),c=o_(t),u=Up(t.serverSyncTree_,e,l,c,!0);tc(t.eventQueue_,u),t.server_.put(e.toString(),o.val(!0),(f,_)=>{const E=f==="ok";E||Fe("set at "+e+" failed: "+f);const C=bn(t.serverSyncTree_,c,!E);Lt(t.eventQueue_,e,C),nI(t,i,f,_)});const h=h_(t,e);ao(t,h),Lt(t.eventQueue_,h,[])}function ZT(t){ic(t,"onDisconnectEvents");const e=nc(t),n=Tr();Ma(t.onDisconnect_,J(),(i,r)=>{const o=kT(i,r,t.serverSyncTree_,e);Rp(n,i,o)});let s=[];Ma(n,J(),(i,r)=>{s=s.concat(io(t.serverSyncTree_,i,r));const o=h_(t,i);ao(t,o)}),t.onDisconnect_=Tr(),Lt(t.eventQueue_,J(),s)}function eI(t,e,n){let s;j(e._path)===".info"?s=uh(t.infoSyncTree_,e,n):s=uh(t.serverSyncTree_,e,n),s_(t.eventQueue_,e._path,s)}function ph(t,e,n){let s;j(e._path)===".info"?s=Ha(t.infoSyncTree_,e,n):s=Ha(t.serverSyncTree_,e,n),s_(t.eventQueue_,e._path,s)}function tI(t){t.persistentConnection_&&t.persistentConnection_.interrupt(qT)}function ic(t,...e){let n="";t.persistentConnection_&&(n=t.persistentConnection_.id+":"),we(n,...e)}function nI(t,e,n,s){e&&Ps(()=>{if(n==="ok")e(null);else{const i=(n||"error").toUpperCase();let r=i;s&&(r+=": "+s);const o=new Error(r);o.code=i,e(o)}})}function a_(t,e,n){return Kl(t.serverSyncTree_,e,n)||$.EMPTY_NODE}function rc(t,e=t.transactionQueueTree_){if(e||lo(t,e),Ls(e)){const n=c_(t,e);T(n.length>0,"Sending zero length transaction queue"),n.every(i=>i.status===0)&&sI(t,Ni(e),n)}else Qp(e)&&oo(e,n=>{rc(t,n)})}function sI(t,e,n){const s=n.map(c=>c.currentWriteId),i=a_(t,e,s);let r=i;const o=i.hash();for(let c=0;c<n.length;c++){const u=n[c];T(u.status===0,"tryToSendTransactionQueue_: items in queue should all be run."),u.status=1,u.retryCount++;const h=Me(e,u.path);r=r.updateChild(h,u.currentOutputSnapshotRaw)}const a=r.val(!0),l=e;t.server_.put(l.toString(),a,c=>{ic(t,"transaction put response",{path:l.toString(),status:c});let u=[];if(c==="ok"){const h=[];for(let f=0;f<n.length;f++)n[f].status=2,u=u.concat(bn(t.serverSyncTree_,n[f].currentWriteId)),n[f].onComplete&&h.push(()=>n[f].onComplete(null,!0,n[f].currentOutputSnapshotResolved)),n[f].unwatcher();lo(t,Zl(t.transactionQueueTree_,e)),rc(t,t.transactionQueueTree_),Lt(t.eventQueue_,e,u);for(let f=0;f<h.length;f++)Ps(h[f])}else{if(c==="datastale")for(let h=0;h<n.length;h++)n[h].status===3?n[h].status=4:n[h].status=0;else{Fe("transaction at "+l.toString()+" failed: "+c);for(let h=0;h<n.length;h++)n[h].status=4,n[h].abortReason=c}ao(t,e)}},o)}function ao(t,e){const n=l_(t,e),s=Ni(n),i=c_(t,n);return iI(t,i,s),s}function iI(t,e,n){if(e.length===0)return;const s=[];let i=[];const o=e.filter(a=>a.status===0).map(a=>a.currentWriteId);for(let a=0;a<e.length;a++){const l=e[a],c=Me(n,l.path);let u=!1,h;if(T(c!==null,"rerunTransactionsUnderNode_: relativePath should not be null."),l.status===4)u=!0,h=l.abortReason,i=i.concat(bn(t.serverSyncTree_,l.currentWriteId,!0));else if(l.status===0)if(l.retryCount>=zT)u=!0,h="maxretry",i=i.concat(bn(t.serverSyncTree_,l.currentWriteId,!0));else{const f=a_(t,l.path,o);l.currentInputSnapshot=f;const _=e[a].update(f.val());if(_!==void 0){ec("transaction failed: Data returned ",_,l.path);let E=ye(_);typeof _=="object"&&_!=null&&$t(_,".priority")||(E=E.updatePriority(f.getPriority()));const A=l.currentWriteId,M=nc(t),K=zp(E,f,M);l.currentOutputSnapshotRaw=E,l.currentOutputSnapshotResolved=K,l.currentWriteId=o_(t),o.splice(o.indexOf(A),1),i=i.concat(Up(t.serverSyncTree_,l.path,K,l.currentWriteId,l.applyLocally)),i=i.concat(bn(t.serverSyncTree_,A,!0))}else u=!0,h="nodata",i=i.concat(bn(t.serverSyncTree_,l.currentWriteId,!0))}Lt(t.eventQueue_,n,i),i=[],u&&(e[a].status=2,function(f){setTimeout(f,Math.floor(0))}(e[a].unwatcher),e[a].onComplete&&(h==="nodata"?s.push(()=>e[a].onComplete(null,!1,e[a].currentInputSnapshot)):s.push(()=>e[a].onComplete(new Error(h),!1,null))))}lo(t,t.transactionQueueTree_);for(let a=0;a<s.length;a++)Ps(s[a]);rc(t,t.transactionQueueTree_)}function l_(t,e){let n,s=t.transactionQueueTree_;for(n=j(e);n!==null&&Ls(s)===void 0;)s=Zl(s,n),e=re(e),n=j(e);return s}function c_(t,e){const n=[];return u_(t,e,n),n.sort((s,i)=>s.order-i.order),n}function u_(t,e,n){const s=Ls(e);if(s)for(let i=0;i<s.length;i++)n.push(s[i]);oo(e,i=>{u_(t,i,n)})}function lo(t,e){const n=Ls(e);if(n){let s=0;for(let i=0;i<n.length;i++)n[i].status!==2&&(n[s]=n[i],s++);n.length=s,Yp(e,n.length>0?n:void 0)}oo(e,s=>{lo(t,s)})}function h_(t,e){const n=Ni(l_(t,e)),s=Zl(t.transactionQueueTree_,e);return FT(s,i=>{Uo(t,i)}),Uo(t,s),Xp(s,i=>{Uo(t,i)}),n}function Uo(t,e){const n=Ls(e);if(n){const s=[];let i=[],r=-1;for(let o=0;o<n.length;o++)n[o].status===3||(n[o].status===1?(T(r===o-1,"All SENT items should be at beginning of queue."),r=o,n[o].status=3,n[o].abortReason="set"):(T(n[o].status===0,"Unexpected transaction status in abort"),n[o].unwatcher(),i=i.concat(bn(t.serverSyncTree_,n[o].currentWriteId,!0)),n[o].onComplete&&s.push(n[o].onComplete.bind(null,new Error("set"),!1,null))));r===-1?Yp(e,void 0):n.length=r+1,Lt(t.eventQueue_,Ni(e),i);for(let o=0;o<s.length;o++)Ps(s[o])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rI(t){let e="";const n=t.split("/");for(let s=0;s<n.length;s++)if(n[s].length>0){let i=n[s];try{i=decodeURIComponent(i.replace(/\+/g," "))}catch{}e+="/"+i}return e}function oI(t){const e={};t.charAt(0)==="?"&&(t=t.substring(1));for(const n of t.split("&")){if(n.length===0)continue;const s=n.split("=");s.length===2?e[decodeURIComponent(s[0])]=decodeURIComponent(s[1]):Fe(`Invalid query segment '${n}' in query '${t}'`)}return e}const _h=function(t,e){const n=aI(t),s=n.namespace;n.domain==="firebase.com"&&Pt(n.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!s||s==="undefined")&&n.domain!=="localhost"&&Pt("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),n.secure||CC();const i=n.scheme==="ws"||n.scheme==="wss";return{repoInfo:new hp(n.host,n.secure,s,i,e,"",s!==n.subdomain),path:new se(n.pathString)}},aI=function(t){let e="",n="",s="",i="",r="",o=!0,a="https",l=443;if(typeof t=="string"){let c=t.indexOf("//");c>=0&&(a=t.substring(0,c-1),t=t.substring(c+2));let u=t.indexOf("/");u===-1&&(u=t.length);let h=t.indexOf("?");h===-1&&(h=t.length),e=t.substring(0,Math.min(u,h)),u<h&&(i=rI(t.substring(u,h)));const f=oI(t.substring(Math.min(t.length,h)));c=e.indexOf(":"),c>=0?(o=a==="https"||a==="wss",l=parseInt(e.substring(c+1),10)):c=e.length;const _=e.slice(0,c);if(_.toLowerCase()==="localhost")n="localhost";else if(_.split(".").length<=2)n=_;else{const E=e.indexOf(".");s=e.substring(0,E).toLowerCase(),n=e.substring(E+1),r=s}"ns"in f&&(r=f.ns)}return{host:e,port:l,domain:n,subdomain:s,secure:o,scheme:a,pathString:i,namespace:r}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gh="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",lI=function(){let t=0;const e=[];return function(n){const s=n===t;t=n;let i;const r=new Array(8);for(i=7;i>=0;i--)r[i]=gh.charAt(n%64),n=Math.floor(n/64);T(n===0,"Cannot push at time == 0");let o=r.join("");if(s){for(i=11;i>=0&&e[i]===63;i--)e[i]=0;e[i]++}else for(i=0;i<12;i++)e[i]=Math.floor(Math.random()*64);for(i=0;i<12;i++)o+=gh.charAt(e[i]);return T(o.length===20,"nextPushId: Length should be 20."),o}}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f_{constructor(e,n,s,i){this.eventType=e,this.eventRegistration=n,this.snapshot=s,this.prevName=i}getPath(){const e=this.snapshot.ref;return this.eventType==="value"?e._path:e.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+Ee(this.snapshot.exportVal())}}class d_{constructor(e,n,s){this.eventRegistration=e,this.error=n,this.path=s}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cI{constructor(e,n){this.snapshotCallback=e,this.cancelCallback=n}onValue(e,n){this.snapshotCallback.call(null,e,n)}onCancel(e){return T(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,e)}get hasCancelCallback(){return!!this.cancelCallback}matches(e){return this.snapshotCallback===e.snapshotCallback||this.snapshotCallback.userCallback!==void 0&&this.snapshotCallback.userCallback===e.snapshotCallback.userCallback&&this.snapshotCallback.context===e.snapshotCallback.context}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oc{constructor(e,n,s,i){this._repo=e,this._path=n,this._queryParams=s,this._orderByCalled=i}get key(){return G(this._path)?null:yp(this._path)}get ref(){return new Ft(this._repo,this._path)}get _queryIdentifier(){const e=Ju(this._queryParams),n=Ol(e);return n==="{}"?"default":n}get _queryObject(){return Ju(this._queryParams)}isEqual(e){if(e=an(e),!(e instanceof oc))return!1;const n=this._repo===e._repo,s=Pl(this._path,e._path),i=this._queryIdentifier===e._queryIdentifier;return n&&s&&i}toJSON(){return this.toString()}toString(){return this._repo.toString()+rw(this._path)}}class Ft extends oc{constructor(e,n){super(e,n,new $l,!1)}get parent(){const e=Cp(this._path);return e===null?null:new Ft(this._repo,e)}get root(){let e=this;for(;e.parent!==null;)e=e.parent;return e}}class yi{constructor(e,n,s){this._node=e,this.ref=n,this._index=s}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(e){const n=new se(e),s=ys(this.ref,e);return new yi(this._node.getChild(n),s,fe)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(e){return this._node.isLeafNode()?!1:!!this._node.forEachChild(this._index,(s,i)=>e(new yi(i,ys(this.ref,s),fe)))}hasChild(e){const n=new se(e);return!this._node.getChild(n).isEmpty()}hasChildren(){return this._node.isLeafNode()?!1:!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}}function Wi(t,e){return t=an(t),t._checkNotDeleted("ref"),e!==void 0?ys(t._root,e):t._root}function ys(t,e){return t=an(t),j(t._path)===null?jT("child","path",e,!1):t_("child","path",e,!1),new Ft(t._repo,pe(t._path,e))}function uI(t,e){t=an(t),n_("push",t._path),e_("push",e,t._path,!0);const n=r_(t._repo),s=lI(n),i=ys(t,s),r=ys(t,s);let o;return e!=null?o=ja(r,e).then(()=>r):o=Promise.resolve(r),i.then=o.then.bind(o),i.catch=o.then.bind(o,void 0),i}function ja(t,e){t=an(t),n_("set",t._path),e_("set",e,t._path,!1);const n=new Qr;return JT(t._repo,t._path,e,null,n.wrapCallback(()=>{})),n.promise}class ac{constructor(e){this.callbackContext=e}respondsTo(e){return e==="value"}createEvent(e,n){const s=n._queryParams.getIndex();return new f_("value",this,new yi(e.snapshotNode,new Ft(n._repo,n._path),s))}getEventRunner(e){return e.getEventType()==="cancel"?()=>this.callbackContext.onCancel(e.error):()=>this.callbackContext.onValue(e.snapshot,null)}createCancelEvent(e,n){return this.callbackContext.hasCancelCallback?new d_(this,e,n):null}matches(e){return e instanceof ac?!e.callbackContext||!this.callbackContext?!0:e.callbackContext.matches(this.callbackContext):!1}hasAnyCallback(){return this.callbackContext!==null}}class lc{constructor(e,n){this.eventType=e,this.callbackContext=n}respondsTo(e){let n=e==="children_added"?"child_added":e;return n=n==="children_removed"?"child_removed":n,this.eventType===n}createCancelEvent(e,n){return this.callbackContext.hasCancelCallback?new d_(this,e,n):null}createEvent(e,n){T(e.childName!=null,"Child events should have a childName.");const s=ys(new Ft(n._repo,n._path),e.childName),i=n._queryParams.getIndex();return new f_(e.type,this,new yi(e.snapshotNode,s,i),e.prevName)}getEventRunner(e){return e.getEventType()==="cancel"?()=>this.callbackContext.onCancel(e.error):()=>this.callbackContext.onValue(e.snapshot,e.prevName)}matches(e){return e instanceof lc?this.eventType===e.eventType&&(!this.callbackContext||!e.callbackContext||this.callbackContext.matches(e.callbackContext)):!1}hasAnyCallback(){return!!this.callbackContext}}function hI(t,e,n,s,i){let r;if(typeof s=="object"&&(r=void 0,i=s),typeof s=="function"&&(r=s),i&&i.onlyOnce){const l=n,c=(u,h)=>{ph(t._repo,t,a),l(u,h)};c.userCallback=n.userCallback,c.context=n.context,n=c}const o=new cI(n,r||void 0),a=e==="value"?new ac(o):new lc(e,o);return eI(t._repo,t,a),()=>ph(t._repo,t,a)}function mh(t,e,n,s){return hI(t,"value",e,n,s)}_T(Ft);bT(Ft);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fI="FIREBASE_DATABASE_EMULATOR_HOST",Ua={};let dI=!1;function pI(t,e,n,s){t.repoInfo_=new hp(`${e}:${n}`,!1,t.repoInfo_.namespace,t.repoInfo_.webSocketOnly,t.repoInfo_.nodeAdmin,t.repoInfo_.persistenceKey,t.repoInfo_.includeNamespaceInQueryParams,!0),s&&(t.authTokenProvider_=s)}function _I(t,e,n,s,i){let r=s||t.options.databaseURL;r===void 0&&(t.options.projectId||Pt("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),we("Using default host for project ",t.options.projectId),r=`${t.options.projectId}-default-rtdb.firebaseio.com`);let o=_h(r,i),a=o.repoInfo,l,c;typeof process<"u"&&Lu&&(c=Lu[fI]),c?(l=!0,r=`http://${c}?ns=${a.namespace}`,o=_h(r,i),a=o.repoInfo):l=!o.repoInfo.secure;const u=i&&l?new us(us.OWNER):new PC(t.name,t.options,e);UT("Invalid Firebase Database URL",o),G(o.path)||Pt("Database URL must point to the root of a Firebase Database (not including a child path).");const h=mI(a,t,u,new xC(t.name,n));return new vI(h,t)}function gI(t,e){const n=Ua[e];(!n||n[t.key]!==t)&&Pt(`Database ${e}(${t.repoInfo_}) has already been deleted.`),tI(t),delete n[t.key]}function mI(t,e,n,s){let i=Ua[e.name];i||(i={},Ua[e.name]=i);let r=i[t.toURLString()];return r&&Pt("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),r=new YT(t,dI,n,s),i[t.toURLString()]=r,r}class vI{constructor(e,n){this._repoInternal=e,this.app=n,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(QT(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new Ft(this._repo,J())),this._rootInternal}_delete(){return this._rootInternal!==null&&(gI(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(e){this._rootInternal===null&&Pt("Cannot call "+e+" on a deleted database.")}}function EI(t=wd(),e){const n=wi(t,"database").getImmediate({identifier:e});if(!n._instanceStarted){const s=_E("database");s&&yI(n,...s)}return n}function yI(t,e,n,s={}){t=an(t),t._checkNotDeleted("useEmulator"),t._instanceStarted&&Pt("Cannot call useEmulator() after instance has already been initialized.");const i=t._repoInternal;let r;if(i.repoInfo_.nodeAdmin)s.mockUserToken&&Pt('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),r=new us(us.OWNER);else if(s.mockUserToken){const o=typeof s.mockUserToken=="string"?s.mockUserToken:gE(s.mockUserToken,t.app.options.projectId);r=new us(o)}pI(i,e,n,r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bI(t){mC(Oy),en(new xt("database",(e,{instanceIdentifier:n})=>{const s=e.getProvider("app").getImmediate(),i=e.getProvider("auth-internal"),r=e.getProvider("app-check-internal");return _I(s,i,r,n)},"PUBLIC").setMultipleInstances(!0)),yt(Mu,ku,t),yt(Mu,ku,"esm2017")}Ot.prototype.simpleListen=function(t,e){this.sendRequest("q",{p:t},e)};Ot.prototype.echo=function(t,e){this.sendRequest("echo",{d:t},e)};bI();const CI={apiKey:"AIzaSyBRZ5G6aqp2HtJcVuc83tAV0-vCgYMD6ZI",authDomain:"mygod-86854.firebaseapp.com",databaseURL:"https://mygod-86854-default-rtdb.asia-southeast1.firebasedatabase.app",projectId:"mygod-86854",storageBucket:"mygod-86854.appspot.com",messagingSenderId:"761936058687",appId:"1:761936058687:web:b2b803d210c26434ce9b8a",measurementId:"G-7ZCG07HTGG"},wI=Cd(CI);dC(wI);const ji=EI(),Cn=rE({state(){return{count:0,data:{}}},mutations:{updtData(t,e){t.data=e},updtCount(t,e){t.count=e}},actions:{sendNewMsg(t,e){let n=Wi(ji,"talk"),s=uI(n);ja(s,e)},sendNewCount(t,e){let n=Wi(ji,"count");ja(n,e)},onValueBase(t){let e=Wi(ji,"talk");mh(e,s=>{t.commit("updtData",s.val())});let n=Wi(ji,"count");mh(n,s=>{t.commit("updtCount",s.val())})}}}),TI={class:"inputWrap"},II={class:"input-group mb-3"},SI={class:"input-group mb-3"},AI={__name:"inputCom",setup(t){let e=ha(""),n=ha("");function s(){Cn.dispatch("sendNewMsg",{user:e.value,text:n.value,date:i(),idx:r(e.value)})}function i(){let a=new Date;return{hr:a.getHours(),mi:a.getMinutes(),se:a.getSeconds()}}function r(a){let l=Cn.state.data;for(let c in l)if(l[c].user==a)return l[c].idx;return o()}function o(){let a=Cn.state.count;return Cn.dispatch("sendNewCount",a+9),a}return(a,l)=>(Js(),Zs("div",TI,[it("div",II,[Bc(it("input",{"onUpdate:modelValue":l[0]||(l[0]=c=>Se(e)?e.value=c:e=c),type:"text",class:"form-control",placeholder:"誰","aria-label":"Example text with button addon","aria-describedby":"button-addon1"},null,512),[[lu,lr(e)]])]),it("div",SI,[Bc(it("input",{"onUpdate:modelValue":l[1]||(l[1]=c=>Se(n)?n.value=c:n=c),type:"text",class:"form-control",placeholder:"說","aria-label":"Recipient's username","aria-describedby":"button-addon2"},null,512),[[lu,lr(n)]]),it("button",{onClick:s,class:"btn btn-outline-secondary",type:"button",id:"button-addon2"},"Button")])]))}},NI={class:"room"},OI={class:"content"},RI={class:"time"},DI={class:"pic"},xI=["src"],PI={__name:"roomCom",setup(t){let e=ha(Cn.state.data);Ff(()=>{Cn.dispatch("onValueBase")}),ls(()=>Cn.state.data,i=>e.value=i);let n=_l(()=>Object.values(e.value).reverse());function s(i){return n.value[0].user==i?"":"other"}return(i,r)=>(Js(),Zs("div",NI,[(Js(!0),Zs(mt,null,Am(lr(n),o=>(Js(),Zs("div",{class:Vr(["chat",s(o.user)])},[it("div",OI,[Qf(Hs(o.user)+" 說:"+Hs(o.text)+" ",1),it("div",RI," at "+Hs(o.date.hr)+":"+Hs(o.date.mi)+":"+Hs(o.date.se),1)]),it("div",DI,[it("img",{src:"https://picsum.photos/id/"+o.idx+"/50",alt:""},null,8,xI)])],2))),256))]))}},LI={class:"wrap"},MI={__name:"App",setup(t){return(e,n)=>(Js(),Zs("div",LI,[Nt(AI),Nt(PI)]))}};var De="top",Ke="bottom",Ge="right",xe="left",co="auto",Ms=[De,Ke,Ge,xe],kn="start",bs="end",p_="clippingParents",cc="viewport",Zn="popper",__="reference",Ka=Ms.reduce(function(t,e){return t.concat([e+"-"+kn,e+"-"+bs])},[]),uc=[].concat(Ms,[co]).reduce(function(t,e){return t.concat([e,e+"-"+kn,e+"-"+bs])},[]),g_="beforeRead",m_="read",v_="afterRead",E_="beforeMain",y_="main",b_="afterMain",C_="beforeWrite",w_="write",T_="afterWrite",I_=[g_,m_,v_,E_,y_,b_,C_,w_,T_];function wt(t){return t?(t.nodeName||"").toLowerCase():null}function qe(t){if(t==null)return window;if(t.toString()!=="[object Window]"){var e=t.ownerDocument;return e&&e.defaultView||window}return t}function $n(t){var e=qe(t).Element;return t instanceof e||t instanceof Element}function Ye(t){var e=qe(t).HTMLElement;return t instanceof e||t instanceof HTMLElement}function hc(t){if(typeof ShadowRoot>"u")return!1;var e=qe(t).ShadowRoot;return t instanceof e||t instanceof ShadowRoot}function kI(t){var e=t.state;Object.keys(e.elements).forEach(function(n){var s=e.styles[n]||{},i=e.attributes[n]||{},r=e.elements[n];!Ye(r)||!wt(r)||(Object.assign(r.style,s),Object.keys(i).forEach(function(o){var a=i[o];a===!1?r.removeAttribute(o):r.setAttribute(o,a===!0?"":a)}))})}function $I(t){var e=t.state,n={popper:{position:e.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(e.elements.popper.style,n.popper),e.styles=n,e.elements.arrow&&Object.assign(e.elements.arrow.style,n.arrow),function(){Object.keys(e.elements).forEach(function(s){var i=e.elements[s],r=e.attributes[s]||{},o=Object.keys(e.styles.hasOwnProperty(s)?e.styles[s]:n[s]),a=o.reduce(function(l,c){return l[c]="",l},{});!Ye(i)||!wt(i)||(Object.assign(i.style,a),Object.keys(r).forEach(function(l){i.removeAttribute(l)}))})}}const fc={name:"applyStyles",enabled:!0,phase:"write",fn:kI,effect:$I,requires:["computeStyles"]};function bt(t){return t.split("-")[0]}var Nn=Math.max,xr=Math.min,Cs=Math.round;function Ga(){var t=navigator.userAgentData;return t!=null&&t.brands&&Array.isArray(t.brands)?t.brands.map(function(e){return e.brand+"/"+e.version}).join(" "):navigator.userAgent}function S_(){return!/^((?!chrome|android).)*safari/i.test(Ga())}function ws(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!1);var s=t.getBoundingClientRect(),i=1,r=1;e&&Ye(t)&&(i=t.offsetWidth>0&&Cs(s.width)/t.offsetWidth||1,r=t.offsetHeight>0&&Cs(s.height)/t.offsetHeight||1);var o=$n(t)?qe(t):window,a=o.visualViewport,l=!S_()&&n,c=(s.left+(l&&a?a.offsetLeft:0))/i,u=(s.top+(l&&a?a.offsetTop:0))/r,h=s.width/i,f=s.height/r;return{width:h,height:f,top:u,right:c+h,bottom:u+f,left:c,x:c,y:u}}function dc(t){var e=ws(t),n=t.offsetWidth,s=t.offsetHeight;return Math.abs(e.width-n)<=1&&(n=e.width),Math.abs(e.height-s)<=1&&(s=e.height),{x:t.offsetLeft,y:t.offsetTop,width:n,height:s}}function A_(t,e){var n=e.getRootNode&&e.getRootNode();if(t.contains(e))return!0;if(n&&hc(n)){var s=e;do{if(s&&t.isSameNode(s))return!0;s=s.parentNode||s.host}while(s)}return!1}function Mt(t){return qe(t).getComputedStyle(t)}function FI(t){return["table","td","th"].indexOf(wt(t))>=0}function ln(t){return(($n(t)?t.ownerDocument:t.document)||window.document).documentElement}function uo(t){return wt(t)==="html"?t:t.assignedSlot||t.parentNode||(hc(t)?t.host:null)||ln(t)}function vh(t){return!Ye(t)||Mt(t).position==="fixed"?null:t.offsetParent}function VI(t){var e=/firefox/i.test(Ga()),n=/Trident/i.test(Ga());if(n&&Ye(t)){var s=Mt(t);if(s.position==="fixed")return null}var i=uo(t);for(hc(i)&&(i=i.host);Ye(i)&&["html","body"].indexOf(wt(i))<0;){var r=Mt(i);if(r.transform!=="none"||r.perspective!=="none"||r.contain==="paint"||["transform","perspective"].indexOf(r.willChange)!==-1||e&&r.willChange==="filter"||e&&r.filter&&r.filter!=="none")return i;i=i.parentNode}return null}function Oi(t){for(var e=qe(t),n=vh(t);n&&FI(n)&&Mt(n).position==="static";)n=vh(n);return n&&(wt(n)==="html"||wt(n)==="body"&&Mt(n).position==="static")?e:n||VI(t)||e}function pc(t){return["top","bottom"].indexOf(t)>=0?"x":"y"}function ri(t,e,n){return Nn(t,xr(e,n))}function BI(t,e,n){var s=ri(t,e,n);return s>n?n:s}function N_(){return{top:0,right:0,bottom:0,left:0}}function O_(t){return Object.assign({},N_(),t)}function R_(t,e){return e.reduce(function(n,s){return n[s]=t,n},{})}var HI=function(e,n){return e=typeof e=="function"?e(Object.assign({},n.rects,{placement:n.placement})):e,O_(typeof e!="number"?e:R_(e,Ms))};function WI(t){var e,n=t.state,s=t.name,i=t.options,r=n.elements.arrow,o=n.modifiersData.popperOffsets,a=bt(n.placement),l=pc(a),c=[xe,Ge].indexOf(a)>=0,u=c?"height":"width";if(!(!r||!o)){var h=HI(i.padding,n),f=dc(r),_=l==="y"?De:xe,E=l==="y"?Ke:Ge,C=n.rects.reference[u]+n.rects.reference[l]-o[l]-n.rects.popper[u],A=o[l]-n.rects.reference[l],M=Oi(r),K=M?l==="y"?M.clientHeight||0:M.clientWidth||0:0,k=C/2-A/2,D=h[_],B=K-f[u]-h[E],R=K/2-f[u]/2+k,Y=ri(D,R,B),te=l;n.modifiersData[s]=(e={},e[te]=Y,e.centerOffset=Y-R,e)}}function jI(t){var e=t.state,n=t.options,s=n.element,i=s===void 0?"[data-popper-arrow]":s;i!=null&&(typeof i=="string"&&(i=e.elements.popper.querySelector(i),!i)||A_(e.elements.popper,i)&&(e.elements.arrow=i))}const D_={name:"arrow",enabled:!0,phase:"main",fn:WI,effect:jI,requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function Ts(t){return t.split("-")[1]}var UI={top:"auto",right:"auto",bottom:"auto",left:"auto"};function KI(t,e){var n=t.x,s=t.y,i=e.devicePixelRatio||1;return{x:Cs(n*i)/i||0,y:Cs(s*i)/i||0}}function Eh(t){var e,n=t.popper,s=t.popperRect,i=t.placement,r=t.variation,o=t.offsets,a=t.position,l=t.gpuAcceleration,c=t.adaptive,u=t.roundOffsets,h=t.isFixed,f=o.x,_=f===void 0?0:f,E=o.y,C=E===void 0?0:E,A=typeof u=="function"?u({x:_,y:C}):{x:_,y:C};_=A.x,C=A.y;var M=o.hasOwnProperty("x"),K=o.hasOwnProperty("y"),k=xe,D=De,B=window;if(c){var R=Oi(n),Y="clientHeight",te="clientWidth";if(R===qe(n)&&(R=ln(n),Mt(R).position!=="static"&&a==="absolute"&&(Y="scrollHeight",te="scrollWidth")),R=R,i===De||(i===xe||i===Ge)&&r===bs){D=Ke;var ue=h&&R===B&&B.visualViewport?B.visualViewport.height:R[Y];C-=ue-s.height,C*=l?1:-1}if(i===xe||(i===De||i===Ke)&&r===bs){k=Ge;var ne=h&&R===B&&B.visualViewport?B.visualViewport.width:R[te];_-=ne-s.width,_*=l?1:-1}}var he=Object.assign({position:a},c&&UI),be=u===!0?KI({x:_,y:C},qe(n)):{x:_,y:C};if(_=be.x,C=be.y,l){var de;return Object.assign({},he,(de={},de[D]=K?"0":"",de[k]=M?"0":"",de.transform=(B.devicePixelRatio||1)<=1?"translate("+_+"px, "+C+"px)":"translate3d("+_+"px, "+C+"px, 0)",de))}return Object.assign({},he,(e={},e[D]=K?C+"px":"",e[k]=M?_+"px":"",e.transform="",e))}function GI(t){var e=t.state,n=t.options,s=n.gpuAcceleration,i=s===void 0?!0:s,r=n.adaptive,o=r===void 0?!0:r,a=n.roundOffsets,l=a===void 0?!0:a,c={placement:bt(e.placement),variation:Ts(e.placement),popper:e.elements.popper,popperRect:e.rects.popper,gpuAcceleration:i,isFixed:e.options.strategy==="fixed"};e.modifiersData.popperOffsets!=null&&(e.styles.popper=Object.assign({},e.styles.popper,Eh(Object.assign({},c,{offsets:e.modifiersData.popperOffsets,position:e.options.strategy,adaptive:o,roundOffsets:l})))),e.modifiersData.arrow!=null&&(e.styles.arrow=Object.assign({},e.styles.arrow,Eh(Object.assign({},c,{offsets:e.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:l})))),e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-placement":e.placement})}const _c={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:GI,data:{}};var Ui={passive:!0};function qI(t){var e=t.state,n=t.instance,s=t.options,i=s.scroll,r=i===void 0?!0:i,o=s.resize,a=o===void 0?!0:o,l=qe(e.elements.popper),c=[].concat(e.scrollParents.reference,e.scrollParents.popper);return r&&c.forEach(function(u){u.addEventListener("scroll",n.update,Ui)}),a&&l.addEventListener("resize",n.update,Ui),function(){r&&c.forEach(function(u){u.removeEventListener("scroll",n.update,Ui)}),a&&l.removeEventListener("resize",n.update,Ui)}}const gc={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:qI,data:{}};var zI={left:"right",right:"left",bottom:"top",top:"bottom"};function sr(t){return t.replace(/left|right|bottom|top/g,function(e){return zI[e]})}var YI={start:"end",end:"start"};function yh(t){return t.replace(/start|end/g,function(e){return YI[e]})}function mc(t){var e=qe(t),n=e.pageXOffset,s=e.pageYOffset;return{scrollLeft:n,scrollTop:s}}function vc(t){return ws(ln(t)).left+mc(t).scrollLeft}function QI(t,e){var n=qe(t),s=ln(t),i=n.visualViewport,r=s.clientWidth,o=s.clientHeight,a=0,l=0;if(i){r=i.width,o=i.height;var c=S_();(c||!c&&e==="fixed")&&(a=i.offsetLeft,l=i.offsetTop)}return{width:r,height:o,x:a+vc(t),y:l}}function XI(t){var e,n=ln(t),s=mc(t),i=(e=t.ownerDocument)==null?void 0:e.body,r=Nn(n.scrollWidth,n.clientWidth,i?i.scrollWidth:0,i?i.clientWidth:0),o=Nn(n.scrollHeight,n.clientHeight,i?i.scrollHeight:0,i?i.clientHeight:0),a=-s.scrollLeft+vc(t),l=-s.scrollTop;return Mt(i||n).direction==="rtl"&&(a+=Nn(n.clientWidth,i?i.clientWidth:0)-r),{width:r,height:o,x:a,y:l}}function Ec(t){var e=Mt(t),n=e.overflow,s=e.overflowX,i=e.overflowY;return/auto|scroll|overlay|hidden/.test(n+i+s)}function x_(t){return["html","body","#document"].indexOf(wt(t))>=0?t.ownerDocument.body:Ye(t)&&Ec(t)?t:x_(uo(t))}function oi(t,e){var n;e===void 0&&(e=[]);var s=x_(t),i=s===((n=t.ownerDocument)==null?void 0:n.body),r=qe(s),o=i?[r].concat(r.visualViewport||[],Ec(s)?s:[]):s,a=e.concat(o);return i?a:a.concat(oi(uo(o)))}function qa(t){return Object.assign({},t,{left:t.x,top:t.y,right:t.x+t.width,bottom:t.y+t.height})}function JI(t,e){var n=ws(t,!1,e==="fixed");return n.top=n.top+t.clientTop,n.left=n.left+t.clientLeft,n.bottom=n.top+t.clientHeight,n.right=n.left+t.clientWidth,n.width=t.clientWidth,n.height=t.clientHeight,n.x=n.left,n.y=n.top,n}function bh(t,e,n){return e===cc?qa(QI(t,n)):$n(e)?JI(e,n):qa(XI(ln(t)))}function ZI(t){var e=oi(uo(t)),n=["absolute","fixed"].indexOf(Mt(t).position)>=0,s=n&&Ye(t)?Oi(t):t;return $n(s)?e.filter(function(i){return $n(i)&&A_(i,s)&&wt(i)!=="body"}):[]}function eS(t,e,n,s){var i=e==="clippingParents"?ZI(t):[].concat(e),r=[].concat(i,[n]),o=r[0],a=r.reduce(function(l,c){var u=bh(t,c,s);return l.top=Nn(u.top,l.top),l.right=xr(u.right,l.right),l.bottom=xr(u.bottom,l.bottom),l.left=Nn(u.left,l.left),l},bh(t,o,s));return a.width=a.right-a.left,a.height=a.bottom-a.top,a.x=a.left,a.y=a.top,a}function P_(t){var e=t.reference,n=t.element,s=t.placement,i=s?bt(s):null,r=s?Ts(s):null,o=e.x+e.width/2-n.width/2,a=e.y+e.height/2-n.height/2,l;switch(i){case De:l={x:o,y:e.y-n.height};break;case Ke:l={x:o,y:e.y+e.height};break;case Ge:l={x:e.x+e.width,y:a};break;case xe:l={x:e.x-n.width,y:a};break;default:l={x:e.x,y:e.y}}var c=i?pc(i):null;if(c!=null){var u=c==="y"?"height":"width";switch(r){case kn:l[c]=l[c]-(e[u]/2-n[u]/2);break;case bs:l[c]=l[c]+(e[u]/2-n[u]/2);break}}return l}function Is(t,e){e===void 0&&(e={});var n=e,s=n.placement,i=s===void 0?t.placement:s,r=n.strategy,o=r===void 0?t.strategy:r,a=n.boundary,l=a===void 0?p_:a,c=n.rootBoundary,u=c===void 0?cc:c,h=n.elementContext,f=h===void 0?Zn:h,_=n.altBoundary,E=_===void 0?!1:_,C=n.padding,A=C===void 0?0:C,M=O_(typeof A!="number"?A:R_(A,Ms)),K=f===Zn?__:Zn,k=t.rects.popper,D=t.elements[E?K:f],B=eS($n(D)?D:D.contextElement||ln(t.elements.popper),l,u,o),R=ws(t.elements.reference),Y=P_({reference:R,element:k,strategy:"absolute",placement:i}),te=qa(Object.assign({},k,Y)),ue=f===Zn?te:R,ne={top:B.top-ue.top+M.top,bottom:ue.bottom-B.bottom+M.bottom,left:B.left-ue.left+M.left,right:ue.right-B.right+M.right},he=t.modifiersData.offset;if(f===Zn&&he){var be=he[i];Object.keys(ne).forEach(function(de){var Ze=[Ge,Ke].indexOf(de)>=0?1:-1,dt=[De,Ke].indexOf(de)>=0?"y":"x";ne[de]+=be[dt]*Ze})}return ne}function tS(t,e){e===void 0&&(e={});var n=e,s=n.placement,i=n.boundary,r=n.rootBoundary,o=n.padding,a=n.flipVariations,l=n.allowedAutoPlacements,c=l===void 0?uc:l,u=Ts(s),h=u?a?Ka:Ka.filter(function(E){return Ts(E)===u}):Ms,f=h.filter(function(E){return c.indexOf(E)>=0});f.length===0&&(f=h);var _=f.reduce(function(E,C){return E[C]=Is(t,{placement:C,boundary:i,rootBoundary:r,padding:o})[bt(C)],E},{});return Object.keys(_).sort(function(E,C){return _[E]-_[C]})}function nS(t){if(bt(t)===co)return[];var e=sr(t);return[yh(t),e,yh(e)]}function sS(t){var e=t.state,n=t.options,s=t.name;if(!e.modifiersData[s]._skip){for(var i=n.mainAxis,r=i===void 0?!0:i,o=n.altAxis,a=o===void 0?!0:o,l=n.fallbackPlacements,c=n.padding,u=n.boundary,h=n.rootBoundary,f=n.altBoundary,_=n.flipVariations,E=_===void 0?!0:_,C=n.allowedAutoPlacements,A=e.options.placement,M=bt(A),K=M===A,k=l||(K||!E?[sr(A)]:nS(A)),D=[A].concat(k).reduce(function(Bt,pt){return Bt.concat(bt(pt)===co?tS(e,{placement:pt,boundary:u,rootBoundary:h,padding:c,flipVariations:E,allowedAutoPlacements:C}):pt)},[]),B=e.rects.reference,R=e.rects.popper,Y=new Map,te=!0,ue=D[0],ne=0;ne<D.length;ne++){var he=D[ne],be=bt(he),de=Ts(he)===kn,Ze=[De,Ke].indexOf(be)>=0,dt=Ze?"width":"height",ee=Is(e,{placement:he,boundary:u,rootBoundary:h,altBoundary:f,padding:c}),q=Ze?de?Ge:xe:de?Ke:De;B[dt]>R[dt]&&(q=sr(q));var Q=sr(q),Ae=[];if(r&&Ae.push(ee[be]<=0),a&&Ae.push(ee[q]<=0,ee[Q]<=0),Ae.every(function(Bt){return Bt})){ue=he,te=!1;break}Y.set(he,Ae)}if(te)for(var Tt=E?3:1,et=function(pt){var Ne=D.find(function(It){var tt=Y.get(It);if(tt)return tt.slice(0,pt).every(function(Kn){return Kn})});if(Ne)return ue=Ne,"break"},Ce=Tt;Ce>0;Ce--){var hn=et(Ce);if(hn==="break")break}e.placement!==ue&&(e.modifiersData[s]._skip=!0,e.placement=ue,e.reset=!0)}}const L_={name:"flip",enabled:!0,phase:"main",fn:sS,requiresIfExists:["offset"],data:{_skip:!1}};function Ch(t,e,n){return n===void 0&&(n={x:0,y:0}),{top:t.top-e.height-n.y,right:t.right-e.width+n.x,bottom:t.bottom-e.height+n.y,left:t.left-e.width-n.x}}function wh(t){return[De,Ge,Ke,xe].some(function(e){return t[e]>=0})}function iS(t){var e=t.state,n=t.name,s=e.rects.reference,i=e.rects.popper,r=e.modifiersData.preventOverflow,o=Is(e,{elementContext:"reference"}),a=Is(e,{altBoundary:!0}),l=Ch(o,s),c=Ch(a,i,r),u=wh(l),h=wh(c);e.modifiersData[n]={referenceClippingOffsets:l,popperEscapeOffsets:c,isReferenceHidden:u,hasPopperEscaped:h},e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-reference-hidden":u,"data-popper-escaped":h})}const M_={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:iS};function rS(t,e,n){var s=bt(t),i=[xe,De].indexOf(s)>=0?-1:1,r=typeof n=="function"?n(Object.assign({},e,{placement:t})):n,o=r[0],a=r[1];return o=o||0,a=(a||0)*i,[xe,Ge].indexOf(s)>=0?{x:a,y:o}:{x:o,y:a}}function oS(t){var e=t.state,n=t.options,s=t.name,i=n.offset,r=i===void 0?[0,0]:i,o=uc.reduce(function(u,h){return u[h]=rS(h,e.rects,r),u},{}),a=o[e.placement],l=a.x,c=a.y;e.modifiersData.popperOffsets!=null&&(e.modifiersData.popperOffsets.x+=l,e.modifiersData.popperOffsets.y+=c),e.modifiersData[s]=o}const k_={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:oS};function aS(t){var e=t.state,n=t.name;e.modifiersData[n]=P_({reference:e.rects.reference,element:e.rects.popper,strategy:"absolute",placement:e.placement})}const yc={name:"popperOffsets",enabled:!0,phase:"read",fn:aS,data:{}};function lS(t){return t==="x"?"y":"x"}function cS(t){var e=t.state,n=t.options,s=t.name,i=n.mainAxis,r=i===void 0?!0:i,o=n.altAxis,a=o===void 0?!1:o,l=n.boundary,c=n.rootBoundary,u=n.altBoundary,h=n.padding,f=n.tether,_=f===void 0?!0:f,E=n.tetherOffset,C=E===void 0?0:E,A=Is(e,{boundary:l,rootBoundary:c,padding:h,altBoundary:u}),M=bt(e.placement),K=Ts(e.placement),k=!K,D=pc(M),B=lS(D),R=e.modifiersData.popperOffsets,Y=e.rects.reference,te=e.rects.popper,ue=typeof C=="function"?C(Object.assign({},e.rects,{placement:e.placement})):C,ne=typeof ue=="number"?{mainAxis:ue,altAxis:ue}:Object.assign({mainAxis:0,altAxis:0},ue),he=e.modifiersData.offset?e.modifiersData.offset[e.placement]:null,be={x:0,y:0};if(R){if(r){var de,Ze=D==="y"?De:xe,dt=D==="y"?Ke:Ge,ee=D==="y"?"height":"width",q=R[D],Q=q+A[Ze],Ae=q-A[dt],Tt=_?-te[ee]/2:0,et=K===kn?Y[ee]:te[ee],Ce=K===kn?-te[ee]:-Y[ee],hn=e.elements.arrow,Bt=_&&hn?dc(hn):{width:0,height:0},pt=e.modifiersData["arrow#persistent"]?e.modifiersData["arrow#persistent"].padding:N_(),Ne=pt[Ze],It=pt[dt],tt=ri(0,Y[ee],Bt[ee]),Kn=k?Y[ee]/2-Tt-tt-Ne-ne.mainAxis:et-tt-Ne-ne.mainAxis,Ht=k?-Y[ee]/2+Tt+tt+It+ne.mainAxis:Ce+tt+It+ne.mainAxis,fn=e.elements.arrow&&Oi(e.elements.arrow),Vs=fn?D==="y"?fn.clientTop||0:fn.clientLeft||0:0,d=(de=he==null?void 0:he[D])!=null?de:0,p=q+Kn-d-Vs,g=q+Ht-d,m=ri(_?xr(Q,p):Q,q,_?Nn(Ae,g):Ae);R[D]=m,be[D]=m-q}if(a){var v,I=D==="x"?De:xe,N=D==="x"?Ke:Ge,w=R[B],S=B==="y"?"height":"width",b=w+A[I],O=w-A[N],P=[De,xe].indexOf(M)!==-1,x=(v=he==null?void 0:he[B])!=null?v:0,F=P?b:w-Y[S]-te[S]-x+ne.altAxis,W=P?w+Y[S]+te[S]-x-ne.altAxis:O,X=_&&P?BI(F,w,W):ri(_?F:b,w,_?W:O);R[B]=X,be[B]=X-w}e.modifiersData[s]=be}}const $_={name:"preventOverflow",enabled:!0,phase:"main",fn:cS,requiresIfExists:["offset"]};function uS(t){return{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}}function hS(t){return t===qe(t)||!Ye(t)?mc(t):uS(t)}function fS(t){var e=t.getBoundingClientRect(),n=Cs(e.width)/t.offsetWidth||1,s=Cs(e.height)/t.offsetHeight||1;return n!==1||s!==1}function dS(t,e,n){n===void 0&&(n=!1);var s=Ye(e),i=Ye(e)&&fS(e),r=ln(e),o=ws(t,i,n),a={scrollLeft:0,scrollTop:0},l={x:0,y:0};return(s||!s&&!n)&&((wt(e)!=="body"||Ec(r))&&(a=hS(e)),Ye(e)?(l=ws(e,!0),l.x+=e.clientLeft,l.y+=e.clientTop):r&&(l.x=vc(r))),{x:o.left+a.scrollLeft-l.x,y:o.top+a.scrollTop-l.y,width:o.width,height:o.height}}function pS(t){var e=new Map,n=new Set,s=[];t.forEach(function(r){e.set(r.name,r)});function i(r){n.add(r.name);var o=[].concat(r.requires||[],r.requiresIfExists||[]);o.forEach(function(a){if(!n.has(a)){var l=e.get(a);l&&i(l)}}),s.push(r)}return t.forEach(function(r){n.has(r.name)||i(r)}),s}function _S(t){var e=pS(t);return I_.reduce(function(n,s){return n.concat(e.filter(function(i){return i.phase===s}))},[])}function gS(t){var e;return function(){return e||(e=new Promise(function(n){Promise.resolve().then(function(){e=void 0,n(t())})})),e}}function mS(t){var e=t.reduce(function(n,s){var i=n[s.name];return n[s.name]=i?Object.assign({},i,s,{options:Object.assign({},i.options,s.options),data:Object.assign({},i.data,s.data)}):s,n},{});return Object.keys(e).map(function(n){return e[n]})}var Th={placement:"bottom",modifiers:[],strategy:"absolute"};function Ih(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return!e.some(function(s){return!(s&&typeof s.getBoundingClientRect=="function")})}function ho(t){t===void 0&&(t={});var e=t,n=e.defaultModifiers,s=n===void 0?[]:n,i=e.defaultOptions,r=i===void 0?Th:i;return function(a,l,c){c===void 0&&(c=r);var u={placement:"bottom",orderedModifiers:[],options:Object.assign({},Th,r),modifiersData:{},elements:{reference:a,popper:l},attributes:{},styles:{}},h=[],f=!1,_={state:u,setOptions:function(M){var K=typeof M=="function"?M(u.options):M;C(),u.options=Object.assign({},r,u.options,K),u.scrollParents={reference:$n(a)?oi(a):a.contextElement?oi(a.contextElement):[],popper:oi(l)};var k=_S(mS([].concat(s,u.options.modifiers)));return u.orderedModifiers=k.filter(function(D){return D.enabled}),E(),_.update()},forceUpdate:function(){if(!f){var M=u.elements,K=M.reference,k=M.popper;if(Ih(K,k)){u.rects={reference:dS(K,Oi(k),u.options.strategy==="fixed"),popper:dc(k)},u.reset=!1,u.placement=u.options.placement,u.orderedModifiers.forEach(function(ne){return u.modifiersData[ne.name]=Object.assign({},ne.data)});for(var D=0;D<u.orderedModifiers.length;D++){if(u.reset===!0){u.reset=!1,D=-1;continue}var B=u.orderedModifiers[D],R=B.fn,Y=B.options,te=Y===void 0?{}:Y,ue=B.name;typeof R=="function"&&(u=R({state:u,options:te,name:ue,instance:_})||u)}}}},update:gS(function(){return new Promise(function(A){_.forceUpdate(),A(u)})}),destroy:function(){C(),f=!0}};if(!Ih(a,l))return _;_.setOptions(c).then(function(A){!f&&c.onFirstUpdate&&c.onFirstUpdate(A)});function E(){u.orderedModifiers.forEach(function(A){var M=A.name,K=A.options,k=K===void 0?{}:K,D=A.effect;if(typeof D=="function"){var B=D({state:u,name:M,instance:_,options:k}),R=function(){};h.push(B||R)}})}function C(){h.forEach(function(A){return A()}),h=[]}return _}}var vS=ho(),ES=[gc,yc,_c,fc],yS=ho({defaultModifiers:ES}),bS=[gc,yc,_c,fc,k_,L_,$_,D_,M_],bc=ho({defaultModifiers:bS});const F_=Object.freeze(Object.defineProperty({__proto__:null,afterMain:b_,afterRead:v_,afterWrite:T_,applyStyles:fc,arrow:D_,auto:co,basePlacements:Ms,beforeMain:E_,beforeRead:g_,beforeWrite:C_,bottom:Ke,clippingParents:p_,computeStyles:_c,createPopper:bc,createPopperBase:vS,createPopperLite:yS,detectOverflow:Is,end:bs,eventListeners:gc,flip:L_,hide:M_,left:xe,main:y_,modifierPhases:I_,offset:k_,placements:uc,popper:Zn,popperGenerator:ho,popperOffsets:yc,preventOverflow:$_,read:m_,reference:__,right:Ge,start:kn,top:De,variationPlacements:Ka,viewport:cc,write:w_},Symbol.toStringTag,{value:"Module"}));/*!
  * Bootstrap v5.3.2 (https://getbootstrap.com/)
  * Copyright 2011-2023 The Bootstrap Authors (https://github.com/twbs/bootstrap/graphs/contributors)
  * Licensed under MIT (https://github.com/twbs/bootstrap/blob/main/LICENSE)
  */const jt=new Map,Ko={set(t,e,n){jt.has(t)||jt.set(t,new Map);const s=jt.get(t);if(!s.has(e)&&s.size!==0){console.error(`Bootstrap doesn't allow more than one instance per element. Bound instance: ${Array.from(s.keys())[0]}.`);return}s.set(e,n)},get(t,e){return jt.has(t)&&jt.get(t).get(e)||null},remove(t,e){if(!jt.has(t))return;const n=jt.get(t);n.delete(e),n.size===0&&jt.delete(t)}},CS=1e6,wS=1e3,za="transitionend",V_=t=>(t&&window.CSS&&window.CSS.escape&&(t=t.replace(/#([^\s"#']+)/g,(e,n)=>`#${CSS.escape(n)}`)),t),TS=t=>t==null?`${t}`:Object.prototype.toString.call(t).match(/\s([a-z]+)/i)[1].toLowerCase(),IS=t=>{do t+=Math.floor(Math.random()*CS);while(document.getElementById(t));return t},SS=t=>{if(!t)return 0;let{transitionDuration:e,transitionDelay:n}=window.getComputedStyle(t);const s=Number.parseFloat(e),i=Number.parseFloat(n);return!s&&!i?0:(e=e.split(",")[0],n=n.split(",")[0],(Number.parseFloat(e)+Number.parseFloat(n))*wS)},B_=t=>{t.dispatchEvent(new Event(za))},Rt=t=>!t||typeof t!="object"?!1:(typeof t.jquery<"u"&&(t=t[0]),typeof t.nodeType<"u"),sn=t=>Rt(t)?t.jquery?t[0]:t:typeof t=="string"&&t.length>0?document.querySelector(V_(t)):null,ks=t=>{if(!Rt(t)||t.getClientRects().length===0)return!1;const e=getComputedStyle(t).getPropertyValue("visibility")==="visible",n=t.closest("details:not([open])");if(!n)return e;if(n!==t){const s=t.closest("summary");if(s&&s.parentNode!==n||s===null)return!1}return e},rn=t=>!t||t.nodeType!==Node.ELEMENT_NODE||t.classList.contains("disabled")?!0:typeof t.disabled<"u"?t.disabled:t.hasAttribute("disabled")&&t.getAttribute("disabled")!=="false",H_=t=>{if(!document.documentElement.attachShadow)return null;if(typeof t.getRootNode=="function"){const e=t.getRootNode();return e instanceof ShadowRoot?e:null}return t instanceof ShadowRoot?t:t.parentNode?H_(t.parentNode):null},Pr=()=>{},Ri=t=>{t.offsetHeight},W_=()=>window.jQuery&&!document.body.hasAttribute("data-bs-no-jquery")?window.jQuery:null,Go=[],AS=t=>{document.readyState==="loading"?(Go.length||document.addEventListener("DOMContentLoaded",()=>{for(const e of Go)e()}),Go.push(t)):t()},Qe=()=>document.documentElement.dir==="rtl",Je=t=>{AS(()=>{const e=W_();if(e){const n=t.NAME,s=e.fn[n];e.fn[n]=t.jQueryInterface,e.fn[n].Constructor=t,e.fn[n].noConflict=()=>(e.fn[n]=s,t.jQueryInterface)}})},Le=(t,e=[],n=t)=>typeof t=="function"?t(...e):n,j_=(t,e,n=!0)=>{if(!n){Le(t);return}const i=SS(e)+5;let r=!1;const o=({target:a})=>{a===e&&(r=!0,e.removeEventListener(za,o),Le(t))};e.addEventListener(za,o),setTimeout(()=>{r||B_(e)},i)},Cc=(t,e,n,s)=>{const i=t.length;let r=t.indexOf(e);return r===-1?!n&&s?t[i-1]:t[0]:(r+=n?1:-1,s&&(r=(r+i)%i),t[Math.max(0,Math.min(r,i-1))])},NS=/[^.]*(?=\..*)\.|.*/,OS=/\..*/,RS=/::\d+$/,qo={};let Sh=1;const U_={mouseenter:"mouseover",mouseleave:"mouseout"},DS=new Set(["click","dblclick","mouseup","mousedown","contextmenu","mousewheel","DOMMouseScroll","mouseover","mouseout","mousemove","selectstart","selectend","keydown","keypress","keyup","orientationchange","touchstart","touchmove","touchend","touchcancel","pointerdown","pointermove","pointerup","pointerleave","pointercancel","gesturestart","gesturechange","gestureend","focus","blur","change","reset","select","submit","focusin","focusout","load","unload","beforeunload","resize","move","DOMContentLoaded","readystatechange","error","abort","scroll"]);function K_(t,e){return e&&`${e}::${Sh++}`||t.uidEvent||Sh++}function G_(t){const e=K_(t);return t.uidEvent=e,qo[e]=qo[e]||{},qo[e]}function xS(t,e){return function n(s){return wc(s,{delegateTarget:t}),n.oneOff&&y.off(t,s.type,e),e.apply(t,[s])}}function PS(t,e,n){return function s(i){const r=t.querySelectorAll(e);for(let{target:o}=i;o&&o!==this;o=o.parentNode)for(const a of r)if(a===o)return wc(i,{delegateTarget:o}),s.oneOff&&y.off(t,i.type,e,n),n.apply(o,[i])}}function q_(t,e,n=null){return Object.values(t).find(s=>s.callable===e&&s.delegationSelector===n)}function z_(t,e,n){const s=typeof e=="string",i=s?n:e||n;let r=Y_(t);return DS.has(r)||(r=t),[s,i,r]}function Ah(t,e,n,s,i){if(typeof e!="string"||!t)return;let[r,o,a]=z_(e,n,s);e in U_&&(o=(E=>function(C){if(!C.relatedTarget||C.relatedTarget!==C.delegateTarget&&!C.delegateTarget.contains(C.relatedTarget))return E.call(this,C)})(o));const l=G_(t),c=l[a]||(l[a]={}),u=q_(c,o,r?n:null);if(u){u.oneOff=u.oneOff&&i;return}const h=K_(o,e.replace(NS,"")),f=r?PS(t,n,o):xS(t,o);f.delegationSelector=r?n:null,f.callable=o,f.oneOff=i,f.uidEvent=h,c[h]=f,t.addEventListener(a,f,r)}function Ya(t,e,n,s,i){const r=q_(e[n],s,i);r&&(t.removeEventListener(n,r,!!i),delete e[n][r.uidEvent])}function LS(t,e,n,s){const i=e[n]||{};for(const[r,o]of Object.entries(i))r.includes(s)&&Ya(t,e,n,o.callable,o.delegationSelector)}function Y_(t){return t=t.replace(OS,""),U_[t]||t}const y={on(t,e,n,s){Ah(t,e,n,s,!1)},one(t,e,n,s){Ah(t,e,n,s,!0)},off(t,e,n,s){if(typeof e!="string"||!t)return;const[i,r,o]=z_(e,n,s),a=o!==e,l=G_(t),c=l[o]||{},u=e.startsWith(".");if(typeof r<"u"){if(!Object.keys(c).length)return;Ya(t,l,o,r,i?n:null);return}if(u)for(const h of Object.keys(l))LS(t,l,h,e.slice(1));for(const[h,f]of Object.entries(c)){const _=h.replace(RS,"");(!a||e.includes(_))&&Ya(t,l,o,f.callable,f.delegationSelector)}},trigger(t,e,n){if(typeof e!="string"||!t)return null;const s=W_(),i=Y_(e),r=e!==i;let o=null,a=!0,l=!0,c=!1;r&&s&&(o=s.Event(e,n),s(t).trigger(o),a=!o.isPropagationStopped(),l=!o.isImmediatePropagationStopped(),c=o.isDefaultPrevented());const u=wc(new Event(e,{bubbles:a,cancelable:!0}),n);return c&&u.preventDefault(),l&&t.dispatchEvent(u),u.defaultPrevented&&o&&o.preventDefault(),u}};function wc(t,e={}){for(const[n,s]of Object.entries(e))try{t[n]=s}catch{Object.defineProperty(t,n,{configurable:!0,get(){return s}})}return t}function Nh(t){if(t==="true")return!0;if(t==="false")return!1;if(t===Number(t).toString())return Number(t);if(t===""||t==="null")return null;if(typeof t!="string")return t;try{return JSON.parse(decodeURIComponent(t))}catch{return t}}function zo(t){return t.replace(/[A-Z]/g,e=>`-${e.toLowerCase()}`)}const Dt={setDataAttribute(t,e,n){t.setAttribute(`data-bs-${zo(e)}`,n)},removeDataAttribute(t,e){t.removeAttribute(`data-bs-${zo(e)}`)},getDataAttributes(t){if(!t)return{};const e={},n=Object.keys(t.dataset).filter(s=>s.startsWith("bs")&&!s.startsWith("bsConfig"));for(const s of n){let i=s.replace(/^bs/,"");i=i.charAt(0).toLowerCase()+i.slice(1,i.length),e[i]=Nh(t.dataset[s])}return e},getDataAttribute(t,e){return Nh(t.getAttribute(`data-bs-${zo(e)}`))}};class Di{static get Default(){return{}}static get DefaultType(){return{}}static get NAME(){throw new Error('You have to implement the static method "NAME", for each component!')}_getConfig(e){return e=this._mergeConfigObj(e),e=this._configAfterMerge(e),this._typeCheckConfig(e),e}_configAfterMerge(e){return e}_mergeConfigObj(e,n){const s=Rt(n)?Dt.getDataAttribute(n,"config"):{};return{...this.constructor.Default,...typeof s=="object"?s:{},...Rt(n)?Dt.getDataAttributes(n):{},...typeof e=="object"?e:{}}}_typeCheckConfig(e,n=this.constructor.DefaultType){for(const[s,i]of Object.entries(n)){const r=e[s],o=Rt(r)?"element":TS(r);if(!new RegExp(i).test(o))throw new TypeError(`${this.constructor.NAME.toUpperCase()}: Option "${s}" provided type "${o}" but expected type "${i}".`)}}}const MS="5.3.2";class ft extends Di{constructor(e,n){super(),e=sn(e),e&&(this._element=e,this._config=this._getConfig(n),Ko.set(this._element,this.constructor.DATA_KEY,this))}dispose(){Ko.remove(this._element,this.constructor.DATA_KEY),y.off(this._element,this.constructor.EVENT_KEY);for(const e of Object.getOwnPropertyNames(this))this[e]=null}_queueCallback(e,n,s=!0){j_(e,n,s)}_getConfig(e){return e=this._mergeConfigObj(e,this._element),e=this._configAfterMerge(e),this._typeCheckConfig(e),e}static getInstance(e){return Ko.get(sn(e),this.DATA_KEY)}static getOrCreateInstance(e,n={}){return this.getInstance(e)||new this(e,typeof n=="object"?n:null)}static get VERSION(){return MS}static get DATA_KEY(){return`bs.${this.NAME}`}static get EVENT_KEY(){return`.${this.DATA_KEY}`}static eventName(e){return`${e}${this.EVENT_KEY}`}}const Yo=t=>{let e=t.getAttribute("data-bs-target");if(!e||e==="#"){let n=t.getAttribute("href");if(!n||!n.includes("#")&&!n.startsWith("."))return null;n.includes("#")&&!n.startsWith("#")&&(n=`#${n.split("#")[1]}`),e=n&&n!=="#"?V_(n.trim()):null}return e},L={find(t,e=document.documentElement){return[].concat(...Element.prototype.querySelectorAll.call(e,t))},findOne(t,e=document.documentElement){return Element.prototype.querySelector.call(e,t)},children(t,e){return[].concat(...t.children).filter(n=>n.matches(e))},parents(t,e){const n=[];let s=t.parentNode.closest(e);for(;s;)n.push(s),s=s.parentNode.closest(e);return n},prev(t,e){let n=t.previousElementSibling;for(;n;){if(n.matches(e))return[n];n=n.previousElementSibling}return[]},next(t,e){let n=t.nextElementSibling;for(;n;){if(n.matches(e))return[n];n=n.nextElementSibling}return[]},focusableChildren(t){const e=["a","button","input","textarea","select","details","[tabindex]",'[contenteditable="true"]'].map(n=>`${n}:not([tabindex^="-"])`).join(",");return this.find(e,t).filter(n=>!rn(n)&&ks(n))},getSelectorFromElement(t){const e=Yo(t);return e&&L.findOne(e)?e:null},getElementFromSelector(t){const e=Yo(t);return e?L.findOne(e):null},getMultipleElementsFromSelector(t){const e=Yo(t);return e?L.find(e):[]}},fo=(t,e="hide")=>{const n=`click.dismiss${t.EVENT_KEY}`,s=t.NAME;y.on(document,n,`[data-bs-dismiss="${s}"]`,function(i){if(["A","AREA"].includes(this.tagName)&&i.preventDefault(),rn(this))return;const r=L.getElementFromSelector(this)||this.closest(`.${s}`);t.getOrCreateInstance(r)[e]()})},kS="alert",$S="bs.alert",Q_=`.${$S}`,FS=`close${Q_}`,VS=`closed${Q_}`,BS="fade",HS="show";class po extends ft{static get NAME(){return kS}close(){if(y.trigger(this._element,FS).defaultPrevented)return;this._element.classList.remove(HS);const n=this._element.classList.contains(BS);this._queueCallback(()=>this._destroyElement(),this._element,n)}_destroyElement(){this._element.remove(),y.trigger(this._element,VS),this.dispose()}static jQueryInterface(e){return this.each(function(){const n=po.getOrCreateInstance(this);if(typeof e=="string"){if(n[e]===void 0||e.startsWith("_")||e==="constructor")throw new TypeError(`No method named "${e}"`);n[e](this)}})}}fo(po,"close");Je(po);const WS="button",jS="bs.button",US=`.${jS}`,KS=".data-api",GS="active",Oh='[data-bs-toggle="button"]',qS=`click${US}${KS}`;class _o extends ft{static get NAME(){return WS}toggle(){this._element.setAttribute("aria-pressed",this._element.classList.toggle(GS))}static jQueryInterface(e){return this.each(function(){const n=_o.getOrCreateInstance(this);e==="toggle"&&n[e]()})}}y.on(document,qS,Oh,t=>{t.preventDefault();const e=t.target.closest(Oh);_o.getOrCreateInstance(e).toggle()});Je(_o);const zS="swipe",$s=".bs.swipe",YS=`touchstart${$s}`,QS=`touchmove${$s}`,XS=`touchend${$s}`,JS=`pointerdown${$s}`,ZS=`pointerup${$s}`,eA="touch",tA="pen",nA="pointer-event",sA=40,iA={endCallback:null,leftCallback:null,rightCallback:null},rA={endCallback:"(function|null)",leftCallback:"(function|null)",rightCallback:"(function|null)"};class Lr extends Di{constructor(e,n){super(),this._element=e,!(!e||!Lr.isSupported())&&(this._config=this._getConfig(n),this._deltaX=0,this._supportPointerEvents=!!window.PointerEvent,this._initEvents())}static get Default(){return iA}static get DefaultType(){return rA}static get NAME(){return zS}dispose(){y.off(this._element,$s)}_start(e){if(!this._supportPointerEvents){this._deltaX=e.touches[0].clientX;return}this._eventIsPointerPenTouch(e)&&(this._deltaX=e.clientX)}_end(e){this._eventIsPointerPenTouch(e)&&(this._deltaX=e.clientX-this._deltaX),this._handleSwipe(),Le(this._config.endCallback)}_move(e){this._deltaX=e.touches&&e.touches.length>1?0:e.touches[0].clientX-this._deltaX}_handleSwipe(){const e=Math.abs(this._deltaX);if(e<=sA)return;const n=e/this._deltaX;this._deltaX=0,n&&Le(n>0?this._config.rightCallback:this._config.leftCallback)}_initEvents(){this._supportPointerEvents?(y.on(this._element,JS,e=>this._start(e)),y.on(this._element,ZS,e=>this._end(e)),this._element.classList.add(nA)):(y.on(this._element,YS,e=>this._start(e)),y.on(this._element,QS,e=>this._move(e)),y.on(this._element,XS,e=>this._end(e)))}_eventIsPointerPenTouch(e){return this._supportPointerEvents&&(e.pointerType===tA||e.pointerType===eA)}static isSupported(){return"ontouchstart"in document.documentElement||navigator.maxTouchPoints>0}}const oA="carousel",aA="bs.carousel",cn=`.${aA}`,X_=".data-api",lA="ArrowLeft",cA="ArrowRight",uA=500,qs="next",Qn="prev",es="left",ir="right",hA=`slide${cn}`,Qo=`slid${cn}`,fA=`keydown${cn}`,dA=`mouseenter${cn}`,pA=`mouseleave${cn}`,_A=`dragstart${cn}`,gA=`load${cn}${X_}`,mA=`click${cn}${X_}`,J_="carousel",Ki="active",vA="slide",EA="carousel-item-end",yA="carousel-item-start",bA="carousel-item-next",CA="carousel-item-prev",Z_=".active",eg=".carousel-item",wA=Z_+eg,TA=".carousel-item img",IA=".carousel-indicators",SA="[data-bs-slide], [data-bs-slide-to]",AA='[data-bs-ride="carousel"]',NA={[lA]:ir,[cA]:es},OA={interval:5e3,keyboard:!0,pause:"hover",ride:!1,touch:!0,wrap:!0},RA={interval:"(number|boolean)",keyboard:"boolean",pause:"(string|boolean)",ride:"(boolean|string)",touch:"boolean",wrap:"boolean"};class xi extends ft{constructor(e,n){super(e,n),this._interval=null,this._activeElement=null,this._isSliding=!1,this.touchTimeout=null,this._swipeHelper=null,this._indicatorsElement=L.findOne(IA,this._element),this._addEventListeners(),this._config.ride===J_&&this.cycle()}static get Default(){return OA}static get DefaultType(){return RA}static get NAME(){return oA}next(){this._slide(qs)}nextWhenVisible(){!document.hidden&&ks(this._element)&&this.next()}prev(){this._slide(Qn)}pause(){this._isSliding&&B_(this._element),this._clearInterval()}cycle(){this._clearInterval(),this._updateInterval(),this._interval=setInterval(()=>this.nextWhenVisible(),this._config.interval)}_maybeEnableCycle(){if(this._config.ride){if(this._isSliding){y.one(this._element,Qo,()=>this.cycle());return}this.cycle()}}to(e){const n=this._getItems();if(e>n.length-1||e<0)return;if(this._isSliding){y.one(this._element,Qo,()=>this.to(e));return}const s=this._getItemIndex(this._getActive());if(s===e)return;const i=e>s?qs:Qn;this._slide(i,n[e])}dispose(){this._swipeHelper&&this._swipeHelper.dispose(),super.dispose()}_configAfterMerge(e){return e.defaultInterval=e.interval,e}_addEventListeners(){this._config.keyboard&&y.on(this._element,fA,e=>this._keydown(e)),this._config.pause==="hover"&&(y.on(this._element,dA,()=>this.pause()),y.on(this._element,pA,()=>this._maybeEnableCycle())),this._config.touch&&Lr.isSupported()&&this._addTouchEventListeners()}_addTouchEventListeners(){for(const s of L.find(TA,this._element))y.on(s,_A,i=>i.preventDefault());const n={leftCallback:()=>this._slide(this._directionToOrder(es)),rightCallback:()=>this._slide(this._directionToOrder(ir)),endCallback:()=>{this._config.pause==="hover"&&(this.pause(),this.touchTimeout&&clearTimeout(this.touchTimeout),this.touchTimeout=setTimeout(()=>this._maybeEnableCycle(),uA+this._config.interval))}};this._swipeHelper=new Lr(this._element,n)}_keydown(e){if(/input|textarea/i.test(e.target.tagName))return;const n=NA[e.key];n&&(e.preventDefault(),this._slide(this._directionToOrder(n)))}_getItemIndex(e){return this._getItems().indexOf(e)}_setActiveIndicatorElement(e){if(!this._indicatorsElement)return;const n=L.findOne(Z_,this._indicatorsElement);n.classList.remove(Ki),n.removeAttribute("aria-current");const s=L.findOne(`[data-bs-slide-to="${e}"]`,this._indicatorsElement);s&&(s.classList.add(Ki),s.setAttribute("aria-current","true"))}_updateInterval(){const e=this._activeElement||this._getActive();if(!e)return;const n=Number.parseInt(e.getAttribute("data-bs-interval"),10);this._config.interval=n||this._config.defaultInterval}_slide(e,n=null){if(this._isSliding)return;const s=this._getActive(),i=e===qs,r=n||Cc(this._getItems(),s,i,this._config.wrap);if(r===s)return;const o=this._getItemIndex(r),a=_=>y.trigger(this._element,_,{relatedTarget:r,direction:this._orderToDirection(e),from:this._getItemIndex(s),to:o});if(a(hA).defaultPrevented||!s||!r)return;const c=!!this._interval;this.pause(),this._isSliding=!0,this._setActiveIndicatorElement(o),this._activeElement=r;const u=i?yA:EA,h=i?bA:CA;r.classList.add(h),Ri(r),s.classList.add(u),r.classList.add(u);const f=()=>{r.classList.remove(u,h),r.classList.add(Ki),s.classList.remove(Ki,h,u),this._isSliding=!1,a(Qo)};this._queueCallback(f,s,this._isAnimated()),c&&this.cycle()}_isAnimated(){return this._element.classList.contains(vA)}_getActive(){return L.findOne(wA,this._element)}_getItems(){return L.find(eg,this._element)}_clearInterval(){this._interval&&(clearInterval(this._interval),this._interval=null)}_directionToOrder(e){return Qe()?e===es?Qn:qs:e===es?qs:Qn}_orderToDirection(e){return Qe()?e===Qn?es:ir:e===Qn?ir:es}static jQueryInterface(e){return this.each(function(){const n=xi.getOrCreateInstance(this,e);if(typeof e=="number"){n.to(e);return}if(typeof e=="string"){if(n[e]===void 0||e.startsWith("_")||e==="constructor")throw new TypeError(`No method named "${e}"`);n[e]()}})}}y.on(document,mA,SA,function(t){const e=L.getElementFromSelector(this);if(!e||!e.classList.contains(J_))return;t.preventDefault();const n=xi.getOrCreateInstance(e),s=this.getAttribute("data-bs-slide-to");if(s){n.to(s),n._maybeEnableCycle();return}if(Dt.getDataAttribute(this,"slide")==="next"){n.next(),n._maybeEnableCycle();return}n.prev(),n._maybeEnableCycle()});y.on(window,gA,()=>{const t=L.find(AA);for(const e of t)xi.getOrCreateInstance(e)});Je(xi);const DA="collapse",xA="bs.collapse",Pi=`.${xA}`,PA=".data-api",LA=`show${Pi}`,MA=`shown${Pi}`,kA=`hide${Pi}`,$A=`hidden${Pi}`,FA=`click${Pi}${PA}`,Xo="show",ss="collapse",Gi="collapsing",VA="collapsed",BA=`:scope .${ss} .${ss}`,HA="collapse-horizontal",WA="width",jA="height",UA=".collapse.show, .collapse.collapsing",Qa='[data-bs-toggle="collapse"]',KA={parent:null,toggle:!0},GA={parent:"(null|element)",toggle:"boolean"};class bi extends ft{constructor(e,n){super(e,n),this._isTransitioning=!1,this._triggerArray=[];const s=L.find(Qa);for(const i of s){const r=L.getSelectorFromElement(i),o=L.find(r).filter(a=>a===this._element);r!==null&&o.length&&this._triggerArray.push(i)}this._initializeChildren(),this._config.parent||this._addAriaAndCollapsedClass(this._triggerArray,this._isShown()),this._config.toggle&&this.toggle()}static get Default(){return KA}static get DefaultType(){return GA}static get NAME(){return DA}toggle(){this._isShown()?this.hide():this.show()}show(){if(this._isTransitioning||this._isShown())return;let e=[];if(this._config.parent&&(e=this._getFirstLevelChildren(UA).filter(a=>a!==this._element).map(a=>bi.getOrCreateInstance(a,{toggle:!1}))),e.length&&e[0]._isTransitioning||y.trigger(this._element,LA).defaultPrevented)return;for(const a of e)a.hide();const s=this._getDimension();this._element.classList.remove(ss),this._element.classList.add(Gi),this._element.style[s]=0,this._addAriaAndCollapsedClass(this._triggerArray,!0),this._isTransitioning=!0;const i=()=>{this._isTransitioning=!1,this._element.classList.remove(Gi),this._element.classList.add(ss,Xo),this._element.style[s]="",y.trigger(this._element,MA)},o=`scroll${s[0].toUpperCase()+s.slice(1)}`;this._queueCallback(i,this._element,!0),this._element.style[s]=`${this._element[o]}px`}hide(){if(this._isTransitioning||!this._isShown()||y.trigger(this._element,kA).defaultPrevented)return;const n=this._getDimension();this._element.style[n]=`${this._element.getBoundingClientRect()[n]}px`,Ri(this._element),this._element.classList.add(Gi),this._element.classList.remove(ss,Xo);for(const i of this._triggerArray){const r=L.getElementFromSelector(i);r&&!this._isShown(r)&&this._addAriaAndCollapsedClass([i],!1)}this._isTransitioning=!0;const s=()=>{this._isTransitioning=!1,this._element.classList.remove(Gi),this._element.classList.add(ss),y.trigger(this._element,$A)};this._element.style[n]="",this._queueCallback(s,this._element,!0)}_isShown(e=this._element){return e.classList.contains(Xo)}_configAfterMerge(e){return e.toggle=!!e.toggle,e.parent=sn(e.parent),e}_getDimension(){return this._element.classList.contains(HA)?WA:jA}_initializeChildren(){if(!this._config.parent)return;const e=this._getFirstLevelChildren(Qa);for(const n of e){const s=L.getElementFromSelector(n);s&&this._addAriaAndCollapsedClass([n],this._isShown(s))}}_getFirstLevelChildren(e){const n=L.find(BA,this._config.parent);return L.find(e,this._config.parent).filter(s=>!n.includes(s))}_addAriaAndCollapsedClass(e,n){if(e.length)for(const s of e)s.classList.toggle(VA,!n),s.setAttribute("aria-expanded",n)}static jQueryInterface(e){const n={};return typeof e=="string"&&/show|hide/.test(e)&&(n.toggle=!1),this.each(function(){const s=bi.getOrCreateInstance(this,n);if(typeof e=="string"){if(typeof s[e]>"u")throw new TypeError(`No method named "${e}"`);s[e]()}})}}y.on(document,FA,Qa,function(t){(t.target.tagName==="A"||t.delegateTarget&&t.delegateTarget.tagName==="A")&&t.preventDefault();for(const e of L.getMultipleElementsFromSelector(this))bi.getOrCreateInstance(e,{toggle:!1}).toggle()});Je(bi);const Rh="dropdown",qA="bs.dropdown",jn=`.${qA}`,Tc=".data-api",zA="Escape",Dh="Tab",YA="ArrowUp",xh="ArrowDown",QA=2,XA=`hide${jn}`,JA=`hidden${jn}`,ZA=`show${jn}`,eN=`shown${jn}`,tg=`click${jn}${Tc}`,ng=`keydown${jn}${Tc}`,tN=`keyup${jn}${Tc}`,ts="show",nN="dropup",sN="dropend",iN="dropstart",rN="dropup-center",oN="dropdown-center",wn='[data-bs-toggle="dropdown"]:not(.disabled):not(:disabled)',aN=`${wn}.${ts}`,rr=".dropdown-menu",lN=".navbar",cN=".navbar-nav",uN=".dropdown-menu .dropdown-item:not(.disabled):not(:disabled)",hN=Qe()?"top-end":"top-start",fN=Qe()?"top-start":"top-end",dN=Qe()?"bottom-end":"bottom-start",pN=Qe()?"bottom-start":"bottom-end",_N=Qe()?"left-start":"right-start",gN=Qe()?"right-start":"left-start",mN="top",vN="bottom",EN={autoClose:!0,boundary:"clippingParents",display:"dynamic",offset:[0,2],popperConfig:null,reference:"toggle"},yN={autoClose:"(boolean|string)",boundary:"(string|element)",display:"string",offset:"(array|string|function)",popperConfig:"(null|object|function)",reference:"(string|element|object)"};class Ct extends ft{constructor(e,n){super(e,n),this._popper=null,this._parent=this._element.parentNode,this._menu=L.next(this._element,rr)[0]||L.prev(this._element,rr)[0]||L.findOne(rr,this._parent),this._inNavbar=this._detectNavbar()}static get Default(){return EN}static get DefaultType(){return yN}static get NAME(){return Rh}toggle(){return this._isShown()?this.hide():this.show()}show(){if(rn(this._element)||this._isShown())return;const e={relatedTarget:this._element};if(!y.trigger(this._element,ZA,e).defaultPrevented){if(this._createPopper(),"ontouchstart"in document.documentElement&&!this._parent.closest(cN))for(const s of[].concat(...document.body.children))y.on(s,"mouseover",Pr);this._element.focus(),this._element.setAttribute("aria-expanded",!0),this._menu.classList.add(ts),this._element.classList.add(ts),y.trigger(this._element,eN,e)}}hide(){if(rn(this._element)||!this._isShown())return;const e={relatedTarget:this._element};this._completeHide(e)}dispose(){this._popper&&this._popper.destroy(),super.dispose()}update(){this._inNavbar=this._detectNavbar(),this._popper&&this._popper.update()}_completeHide(e){if(!y.trigger(this._element,XA,e).defaultPrevented){if("ontouchstart"in document.documentElement)for(const s of[].concat(...document.body.children))y.off(s,"mouseover",Pr);this._popper&&this._popper.destroy(),this._menu.classList.remove(ts),this._element.classList.remove(ts),this._element.setAttribute("aria-expanded","false"),Dt.removeDataAttribute(this._menu,"popper"),y.trigger(this._element,JA,e)}}_getConfig(e){if(e=super._getConfig(e),typeof e.reference=="object"&&!Rt(e.reference)&&typeof e.reference.getBoundingClientRect!="function")throw new TypeError(`${Rh.toUpperCase()}: Option "reference" provided type "object" without a required "getBoundingClientRect" method.`);return e}_createPopper(){if(typeof F_>"u")throw new TypeError("Bootstrap's dropdowns require Popper (https://popper.js.org)");let e=this._element;this._config.reference==="parent"?e=this._parent:Rt(this._config.reference)?e=sn(this._config.reference):typeof this._config.reference=="object"&&(e=this._config.reference);const n=this._getPopperConfig();this._popper=bc(e,this._menu,n)}_isShown(){return this._menu.classList.contains(ts)}_getPlacement(){const e=this._parent;if(e.classList.contains(sN))return _N;if(e.classList.contains(iN))return gN;if(e.classList.contains(rN))return mN;if(e.classList.contains(oN))return vN;const n=getComputedStyle(this._menu).getPropertyValue("--bs-position").trim()==="end";return e.classList.contains(nN)?n?fN:hN:n?pN:dN}_detectNavbar(){return this._element.closest(lN)!==null}_getOffset(){const{offset:e}=this._config;return typeof e=="string"?e.split(",").map(n=>Number.parseInt(n,10)):typeof e=="function"?n=>e(n,this._element):e}_getPopperConfig(){const e={placement:this._getPlacement(),modifiers:[{name:"preventOverflow",options:{boundary:this._config.boundary}},{name:"offset",options:{offset:this._getOffset()}}]};return(this._inNavbar||this._config.display==="static")&&(Dt.setDataAttribute(this._menu,"popper","static"),e.modifiers=[{name:"applyStyles",enabled:!1}]),{...e,...Le(this._config.popperConfig,[e])}}_selectMenuItem({key:e,target:n}){const s=L.find(uN,this._menu).filter(i=>ks(i));s.length&&Cc(s,n,e===xh,!s.includes(n)).focus()}static jQueryInterface(e){return this.each(function(){const n=Ct.getOrCreateInstance(this,e);if(typeof e=="string"){if(typeof n[e]>"u")throw new TypeError(`No method named "${e}"`);n[e]()}})}static clearMenus(e){if(e.button===QA||e.type==="keyup"&&e.key!==Dh)return;const n=L.find(aN);for(const s of n){const i=Ct.getInstance(s);if(!i||i._config.autoClose===!1)continue;const r=e.composedPath(),o=r.includes(i._menu);if(r.includes(i._element)||i._config.autoClose==="inside"&&!o||i._config.autoClose==="outside"&&o||i._menu.contains(e.target)&&(e.type==="keyup"&&e.key===Dh||/input|select|option|textarea|form/i.test(e.target.tagName)))continue;const a={relatedTarget:i._element};e.type==="click"&&(a.clickEvent=e),i._completeHide(a)}}static dataApiKeydownHandler(e){const n=/input|textarea/i.test(e.target.tagName),s=e.key===zA,i=[YA,xh].includes(e.key);if(!i&&!s||n&&!s)return;e.preventDefault();const r=this.matches(wn)?this:L.prev(this,wn)[0]||L.next(this,wn)[0]||L.findOne(wn,e.delegateTarget.parentNode),o=Ct.getOrCreateInstance(r);if(i){e.stopPropagation(),o.show(),o._selectMenuItem(e);return}o._isShown()&&(e.stopPropagation(),o.hide(),r.focus())}}y.on(document,ng,wn,Ct.dataApiKeydownHandler);y.on(document,ng,rr,Ct.dataApiKeydownHandler);y.on(document,tg,Ct.clearMenus);y.on(document,tN,Ct.clearMenus);y.on(document,tg,wn,function(t){t.preventDefault(),Ct.getOrCreateInstance(this).toggle()});Je(Ct);const sg="backdrop",bN="fade",Ph="show",Lh=`mousedown.bs.${sg}`,CN={className:"modal-backdrop",clickCallback:null,isAnimated:!1,isVisible:!0,rootElement:"body"},wN={className:"string",clickCallback:"(function|null)",isAnimated:"boolean",isVisible:"boolean",rootElement:"(element|string)"};class ig extends Di{constructor(e){super(),this._config=this._getConfig(e),this._isAppended=!1,this._element=null}static get Default(){return CN}static get DefaultType(){return wN}static get NAME(){return sg}show(e){if(!this._config.isVisible){Le(e);return}this._append();const n=this._getElement();this._config.isAnimated&&Ri(n),n.classList.add(Ph),this._emulateAnimation(()=>{Le(e)})}hide(e){if(!this._config.isVisible){Le(e);return}this._getElement().classList.remove(Ph),this._emulateAnimation(()=>{this.dispose(),Le(e)})}dispose(){this._isAppended&&(y.off(this._element,Lh),this._element.remove(),this._isAppended=!1)}_getElement(){if(!this._element){const e=document.createElement("div");e.className=this._config.className,this._config.isAnimated&&e.classList.add(bN),this._element=e}return this._element}_configAfterMerge(e){return e.rootElement=sn(e.rootElement),e}_append(){if(this._isAppended)return;const e=this._getElement();this._config.rootElement.append(e),y.on(e,Lh,()=>{Le(this._config.clickCallback)}),this._isAppended=!0}_emulateAnimation(e){j_(e,this._getElement(),this._config.isAnimated)}}const TN="focustrap",IN="bs.focustrap",Mr=`.${IN}`,SN=`focusin${Mr}`,AN=`keydown.tab${Mr}`,NN="Tab",ON="forward",Mh="backward",RN={autofocus:!0,trapElement:null},DN={autofocus:"boolean",trapElement:"element"};class rg extends Di{constructor(e){super(),this._config=this._getConfig(e),this._isActive=!1,this._lastTabNavDirection=null}static get Default(){return RN}static get DefaultType(){return DN}static get NAME(){return TN}activate(){this._isActive||(this._config.autofocus&&this._config.trapElement.focus(),y.off(document,Mr),y.on(document,SN,e=>this._handleFocusin(e)),y.on(document,AN,e=>this._handleKeydown(e)),this._isActive=!0)}deactivate(){this._isActive&&(this._isActive=!1,y.off(document,Mr))}_handleFocusin(e){const{trapElement:n}=this._config;if(e.target===document||e.target===n||n.contains(e.target))return;const s=L.focusableChildren(n);s.length===0?n.focus():this._lastTabNavDirection===Mh?s[s.length-1].focus():s[0].focus()}_handleKeydown(e){e.key===NN&&(this._lastTabNavDirection=e.shiftKey?Mh:ON)}}const kh=".fixed-top, .fixed-bottom, .is-fixed, .sticky-top",$h=".sticky-top",qi="padding-right",Fh="margin-right";class Xa{constructor(){this._element=document.body}getWidth(){const e=document.documentElement.clientWidth;return Math.abs(window.innerWidth-e)}hide(){const e=this.getWidth();this._disableOverFlow(),this._setElementAttributes(this._element,qi,n=>n+e),this._setElementAttributes(kh,qi,n=>n+e),this._setElementAttributes($h,Fh,n=>n-e)}reset(){this._resetElementAttributes(this._element,"overflow"),this._resetElementAttributes(this._element,qi),this._resetElementAttributes(kh,qi),this._resetElementAttributes($h,Fh)}isOverflowing(){return this.getWidth()>0}_disableOverFlow(){this._saveInitialAttribute(this._element,"overflow"),this._element.style.overflow="hidden"}_setElementAttributes(e,n,s){const i=this.getWidth(),r=o=>{if(o!==this._element&&window.innerWidth>o.clientWidth+i)return;this._saveInitialAttribute(o,n);const a=window.getComputedStyle(o).getPropertyValue(n);o.style.setProperty(n,`${s(Number.parseFloat(a))}px`)};this._applyManipulationCallback(e,r)}_saveInitialAttribute(e,n){const s=e.style.getPropertyValue(n);s&&Dt.setDataAttribute(e,n,s)}_resetElementAttributes(e,n){const s=i=>{const r=Dt.getDataAttribute(i,n);if(r===null){i.style.removeProperty(n);return}Dt.removeDataAttribute(i,n),i.style.setProperty(n,r)};this._applyManipulationCallback(e,s)}_applyManipulationCallback(e,n){if(Rt(e)){n(e);return}for(const s of L.find(e,this._element))n(s)}}const xN="modal",PN="bs.modal",Xe=`.${PN}`,LN=".data-api",MN="Escape",kN=`hide${Xe}`,$N=`hidePrevented${Xe}`,og=`hidden${Xe}`,ag=`show${Xe}`,FN=`shown${Xe}`,VN=`resize${Xe}`,BN=`click.dismiss${Xe}`,HN=`mousedown.dismiss${Xe}`,WN=`keydown.dismiss${Xe}`,jN=`click${Xe}${LN}`,Vh="modal-open",UN="fade",Bh="show",Jo="modal-static",KN=".modal.show",GN=".modal-dialog",qN=".modal-body",zN='[data-bs-toggle="modal"]',YN={backdrop:!0,focus:!0,keyboard:!0},QN={backdrop:"(boolean|string)",focus:"boolean",keyboard:"boolean"};class Ss extends ft{constructor(e,n){super(e,n),this._dialog=L.findOne(GN,this._element),this._backdrop=this._initializeBackDrop(),this._focustrap=this._initializeFocusTrap(),this._isShown=!1,this._isTransitioning=!1,this._scrollBar=new Xa,this._addEventListeners()}static get Default(){return YN}static get DefaultType(){return QN}static get NAME(){return xN}toggle(e){return this._isShown?this.hide():this.show(e)}show(e){this._isShown||this._isTransitioning||y.trigger(this._element,ag,{relatedTarget:e}).defaultPrevented||(this._isShown=!0,this._isTransitioning=!0,this._scrollBar.hide(),document.body.classList.add(Vh),this._adjustDialog(),this._backdrop.show(()=>this._showElement(e)))}hide(){!this._isShown||this._isTransitioning||y.trigger(this._element,kN).defaultPrevented||(this._isShown=!1,this._isTransitioning=!0,this._focustrap.deactivate(),this._element.classList.remove(Bh),this._queueCallback(()=>this._hideModal(),this._element,this._isAnimated()))}dispose(){y.off(window,Xe),y.off(this._dialog,Xe),this._backdrop.dispose(),this._focustrap.deactivate(),super.dispose()}handleUpdate(){this._adjustDialog()}_initializeBackDrop(){return new ig({isVisible:!!this._config.backdrop,isAnimated:this._isAnimated()})}_initializeFocusTrap(){return new rg({trapElement:this._element})}_showElement(e){document.body.contains(this._element)||document.body.append(this._element),this._element.style.display="block",this._element.removeAttribute("aria-hidden"),this._element.setAttribute("aria-modal",!0),this._element.setAttribute("role","dialog"),this._element.scrollTop=0;const n=L.findOne(qN,this._dialog);n&&(n.scrollTop=0),Ri(this._element),this._element.classList.add(Bh);const s=()=>{this._config.focus&&this._focustrap.activate(),this._isTransitioning=!1,y.trigger(this._element,FN,{relatedTarget:e})};this._queueCallback(s,this._dialog,this._isAnimated())}_addEventListeners(){y.on(this._element,WN,e=>{if(e.key===MN){if(this._config.keyboard){this.hide();return}this._triggerBackdropTransition()}}),y.on(window,VN,()=>{this._isShown&&!this._isTransitioning&&this._adjustDialog()}),y.on(this._element,HN,e=>{y.one(this._element,BN,n=>{if(!(this._element!==e.target||this._element!==n.target)){if(this._config.backdrop==="static"){this._triggerBackdropTransition();return}this._config.backdrop&&this.hide()}})})}_hideModal(){this._element.style.display="none",this._element.setAttribute("aria-hidden",!0),this._element.removeAttribute("aria-modal"),this._element.removeAttribute("role"),this._isTransitioning=!1,this._backdrop.hide(()=>{document.body.classList.remove(Vh),this._resetAdjustments(),this._scrollBar.reset(),y.trigger(this._element,og)})}_isAnimated(){return this._element.classList.contains(UN)}_triggerBackdropTransition(){if(y.trigger(this._element,$N).defaultPrevented)return;const n=this._element.scrollHeight>document.documentElement.clientHeight,s=this._element.style.overflowY;s==="hidden"||this._element.classList.contains(Jo)||(n||(this._element.style.overflowY="hidden"),this._element.classList.add(Jo),this._queueCallback(()=>{this._element.classList.remove(Jo),this._queueCallback(()=>{this._element.style.overflowY=s},this._dialog)},this._dialog),this._element.focus())}_adjustDialog(){const e=this._element.scrollHeight>document.documentElement.clientHeight,n=this._scrollBar.getWidth(),s=n>0;if(s&&!e){const i=Qe()?"paddingLeft":"paddingRight";this._element.style[i]=`${n}px`}if(!s&&e){const i=Qe()?"paddingRight":"paddingLeft";this._element.style[i]=`${n}px`}}_resetAdjustments(){this._element.style.paddingLeft="",this._element.style.paddingRight=""}static jQueryInterface(e,n){return this.each(function(){const s=Ss.getOrCreateInstance(this,e);if(typeof e=="string"){if(typeof s[e]>"u")throw new TypeError(`No method named "${e}"`);s[e](n)}})}}y.on(document,jN,zN,function(t){const e=L.getElementFromSelector(this);["A","AREA"].includes(this.tagName)&&t.preventDefault(),y.one(e,ag,i=>{i.defaultPrevented||y.one(e,og,()=>{ks(this)&&this.focus()})});const n=L.findOne(KN);n&&Ss.getInstance(n).hide(),Ss.getOrCreateInstance(e).toggle(this)});fo(Ss);Je(Ss);const XN="offcanvas",JN="bs.offcanvas",Vt=`.${JN}`,lg=".data-api",ZN=`load${Vt}${lg}`,eO="Escape",Hh="show",Wh="showing",jh="hiding",tO="offcanvas-backdrop",cg=".offcanvas.show",nO=`show${Vt}`,sO=`shown${Vt}`,iO=`hide${Vt}`,Uh=`hidePrevented${Vt}`,ug=`hidden${Vt}`,rO=`resize${Vt}`,oO=`click${Vt}${lg}`,aO=`keydown.dismiss${Vt}`,lO='[data-bs-toggle="offcanvas"]',cO={backdrop:!0,keyboard:!0,scroll:!1},uO={backdrop:"(boolean|string)",keyboard:"boolean",scroll:"boolean"};class on extends ft{constructor(e,n){super(e,n),this._isShown=!1,this._backdrop=this._initializeBackDrop(),this._focustrap=this._initializeFocusTrap(),this._addEventListeners()}static get Default(){return cO}static get DefaultType(){return uO}static get NAME(){return XN}toggle(e){return this._isShown?this.hide():this.show(e)}show(e){if(this._isShown||y.trigger(this._element,nO,{relatedTarget:e}).defaultPrevented)return;this._isShown=!0,this._backdrop.show(),this._config.scroll||new Xa().hide(),this._element.setAttribute("aria-modal",!0),this._element.setAttribute("role","dialog"),this._element.classList.add(Wh);const s=()=>{(!this._config.scroll||this._config.backdrop)&&this._focustrap.activate(),this._element.classList.add(Hh),this._element.classList.remove(Wh),y.trigger(this._element,sO,{relatedTarget:e})};this._queueCallback(s,this._element,!0)}hide(){if(!this._isShown||y.trigger(this._element,iO).defaultPrevented)return;this._focustrap.deactivate(),this._element.blur(),this._isShown=!1,this._element.classList.add(jh),this._backdrop.hide();const n=()=>{this._element.classList.remove(Hh,jh),this._element.removeAttribute("aria-modal"),this._element.removeAttribute("role"),this._config.scroll||new Xa().reset(),y.trigger(this._element,ug)};this._queueCallback(n,this._element,!0)}dispose(){this._backdrop.dispose(),this._focustrap.deactivate(),super.dispose()}_initializeBackDrop(){const e=()=>{if(this._config.backdrop==="static"){y.trigger(this._element,Uh);return}this.hide()},n=!!this._config.backdrop;return new ig({className:tO,isVisible:n,isAnimated:!0,rootElement:this._element.parentNode,clickCallback:n?e:null})}_initializeFocusTrap(){return new rg({trapElement:this._element})}_addEventListeners(){y.on(this._element,aO,e=>{if(e.key===eO){if(this._config.keyboard){this.hide();return}y.trigger(this._element,Uh)}})}static jQueryInterface(e){return this.each(function(){const n=on.getOrCreateInstance(this,e);if(typeof e=="string"){if(n[e]===void 0||e.startsWith("_")||e==="constructor")throw new TypeError(`No method named "${e}"`);n[e](this)}})}}y.on(document,oO,lO,function(t){const e=L.getElementFromSelector(this);if(["A","AREA"].includes(this.tagName)&&t.preventDefault(),rn(this))return;y.one(e,ug,()=>{ks(this)&&this.focus()});const n=L.findOne(cg);n&&n!==e&&on.getInstance(n).hide(),on.getOrCreateInstance(e).toggle(this)});y.on(window,ZN,()=>{for(const t of L.find(cg))on.getOrCreateInstance(t).show()});y.on(window,rO,()=>{for(const t of L.find("[aria-modal][class*=show][class*=offcanvas-]"))getComputedStyle(t).position!=="fixed"&&on.getOrCreateInstance(t).hide()});fo(on);Je(on);const hO=/^aria-[\w-]*$/i,hg={"*":["class","dir","id","lang","role",hO],a:["target","href","title","rel"],area:[],b:[],br:[],col:[],code:[],div:[],em:[],hr:[],h1:[],h2:[],h3:[],h4:[],h5:[],h6:[],i:[],img:["src","srcset","alt","title","width","height"],li:[],ol:[],p:[],pre:[],s:[],small:[],span:[],sub:[],sup:[],strong:[],u:[],ul:[]},fO=new Set(["background","cite","href","itemtype","longdesc","poster","src","xlink:href"]),dO=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:/?#]*(?:[/?#]|$))/i,pO=(t,e)=>{const n=t.nodeName.toLowerCase();return e.includes(n)?fO.has(n)?!!dO.test(t.nodeValue):!0:e.filter(s=>s instanceof RegExp).some(s=>s.test(n))};function _O(t,e,n){if(!t.length)return t;if(n&&typeof n=="function")return n(t);const i=new window.DOMParser().parseFromString(t,"text/html"),r=[].concat(...i.body.querySelectorAll("*"));for(const o of r){const a=o.nodeName.toLowerCase();if(!Object.keys(e).includes(a)){o.remove();continue}const l=[].concat(...o.attributes),c=[].concat(e["*"]||[],e[a]||[]);for(const u of l)pO(u,c)||o.removeAttribute(u.nodeName)}return i.body.innerHTML}const gO="TemplateFactory",mO={allowList:hg,content:{},extraClass:"",html:!1,sanitize:!0,sanitizeFn:null,template:"<div></div>"},vO={allowList:"object",content:"object",extraClass:"(string|function)",html:"boolean",sanitize:"boolean",sanitizeFn:"(null|function)",template:"string"},EO={entry:"(string|element|function|null)",selector:"(string|element)"};class yO extends Di{constructor(e){super(),this._config=this._getConfig(e)}static get Default(){return mO}static get DefaultType(){return vO}static get NAME(){return gO}getContent(){return Object.values(this._config.content).map(e=>this._resolvePossibleFunction(e)).filter(Boolean)}hasContent(){return this.getContent().length>0}changeContent(e){return this._checkContent(e),this._config.content={...this._config.content,...e},this}toHtml(){const e=document.createElement("div");e.innerHTML=this._maybeSanitize(this._config.template);for(const[i,r]of Object.entries(this._config.content))this._setContent(e,r,i);const n=e.children[0],s=this._resolvePossibleFunction(this._config.extraClass);return s&&n.classList.add(...s.split(" ")),n}_typeCheckConfig(e){super._typeCheckConfig(e),this._checkContent(e.content)}_checkContent(e){for(const[n,s]of Object.entries(e))super._typeCheckConfig({selector:n,entry:s},EO)}_setContent(e,n,s){const i=L.findOne(s,e);if(i){if(n=this._resolvePossibleFunction(n),!n){i.remove();return}if(Rt(n)){this._putElementInTemplate(sn(n),i);return}if(this._config.html){i.innerHTML=this._maybeSanitize(n);return}i.textContent=n}}_maybeSanitize(e){return this._config.sanitize?_O(e,this._config.allowList,this._config.sanitizeFn):e}_resolvePossibleFunction(e){return Le(e,[this])}_putElementInTemplate(e,n){if(this._config.html){n.innerHTML="",n.append(e);return}n.textContent=e.textContent}}const bO="tooltip",CO=new Set(["sanitize","allowList","sanitizeFn"]),Zo="fade",wO="modal",zi="show",TO=".tooltip-inner",Kh=`.${wO}`,Gh="hide.bs.modal",zs="hover",ea="focus",IO="click",SO="manual",AO="hide",NO="hidden",OO="show",RO="shown",DO="inserted",xO="click",PO="focusin",LO="focusout",MO="mouseenter",kO="mouseleave",$O={AUTO:"auto",TOP:"top",RIGHT:Qe()?"left":"right",BOTTOM:"bottom",LEFT:Qe()?"right":"left"},FO={allowList:hg,animation:!0,boundary:"clippingParents",container:!1,customClass:"",delay:0,fallbackPlacements:["top","right","bottom","left"],html:!1,offset:[0,6],placement:"top",popperConfig:null,sanitize:!0,sanitizeFn:null,selector:!1,template:'<div class="tooltip" role="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',title:"",trigger:"hover focus"},VO={allowList:"object",animation:"boolean",boundary:"(string|element)",container:"(string|element|boolean)",customClass:"(string|function)",delay:"(number|object)",fallbackPlacements:"array",html:"boolean",offset:"(array|string|function)",placement:"(string|function)",popperConfig:"(null|object|function)",sanitize:"boolean",sanitizeFn:"(null|function)",selector:"(string|boolean)",template:"string",title:"(string|element|function)",trigger:"string"};class Fs extends ft{constructor(e,n){if(typeof F_>"u")throw new TypeError("Bootstrap's tooltips require Popper (https://popper.js.org)");super(e,n),this._isEnabled=!0,this._timeout=0,this._isHovered=null,this._activeTrigger={},this._popper=null,this._templateFactory=null,this._newContent=null,this.tip=null,this._setListeners(),this._config.selector||this._fixTitle()}static get Default(){return FO}static get DefaultType(){return VO}static get NAME(){return bO}enable(){this._isEnabled=!0}disable(){this._isEnabled=!1}toggleEnabled(){this._isEnabled=!this._isEnabled}toggle(){if(this._isEnabled){if(this._activeTrigger.click=!this._activeTrigger.click,this._isShown()){this._leave();return}this._enter()}}dispose(){clearTimeout(this._timeout),y.off(this._element.closest(Kh),Gh,this._hideModalHandler),this._element.getAttribute("data-bs-original-title")&&this._element.setAttribute("title",this._element.getAttribute("data-bs-original-title")),this._disposePopper(),super.dispose()}show(){if(this._element.style.display==="none")throw new Error("Please use show on visible elements");if(!(this._isWithContent()&&this._isEnabled))return;const e=y.trigger(this._element,this.constructor.eventName(OO)),s=(H_(this._element)||this._element.ownerDocument.documentElement).contains(this._element);if(e.defaultPrevented||!s)return;this._disposePopper();const i=this._getTipElement();this._element.setAttribute("aria-describedby",i.getAttribute("id"));const{container:r}=this._config;if(this._element.ownerDocument.documentElement.contains(this.tip)||(r.append(i),y.trigger(this._element,this.constructor.eventName(DO))),this._popper=this._createPopper(i),i.classList.add(zi),"ontouchstart"in document.documentElement)for(const a of[].concat(...document.body.children))y.on(a,"mouseover",Pr);const o=()=>{y.trigger(this._element,this.constructor.eventName(RO)),this._isHovered===!1&&this._leave(),this._isHovered=!1};this._queueCallback(o,this.tip,this._isAnimated())}hide(){if(!this._isShown()||y.trigger(this._element,this.constructor.eventName(AO)).defaultPrevented)return;if(this._getTipElement().classList.remove(zi),"ontouchstart"in document.documentElement)for(const i of[].concat(...document.body.children))y.off(i,"mouseover",Pr);this._activeTrigger[IO]=!1,this._activeTrigger[ea]=!1,this._activeTrigger[zs]=!1,this._isHovered=null;const s=()=>{this._isWithActiveTrigger()||(this._isHovered||this._disposePopper(),this._element.removeAttribute("aria-describedby"),y.trigger(this._element,this.constructor.eventName(NO)))};this._queueCallback(s,this.tip,this._isAnimated())}update(){this._popper&&this._popper.update()}_isWithContent(){return!!this._getTitle()}_getTipElement(){return this.tip||(this.tip=this._createTipElement(this._newContent||this._getContentForTemplate())),this.tip}_createTipElement(e){const n=this._getTemplateFactory(e).toHtml();if(!n)return null;n.classList.remove(Zo,zi),n.classList.add(`bs-${this.constructor.NAME}-auto`);const s=IS(this.constructor.NAME).toString();return n.setAttribute("id",s),this._isAnimated()&&n.classList.add(Zo),n}setContent(e){this._newContent=e,this._isShown()&&(this._disposePopper(),this.show())}_getTemplateFactory(e){return this._templateFactory?this._templateFactory.changeContent(e):this._templateFactory=new yO({...this._config,content:e,extraClass:this._resolvePossibleFunction(this._config.customClass)}),this._templateFactory}_getContentForTemplate(){return{[TO]:this._getTitle()}}_getTitle(){return this._resolvePossibleFunction(this._config.title)||this._element.getAttribute("data-bs-original-title")}_initializeOnDelegatedTarget(e){return this.constructor.getOrCreateInstance(e.delegateTarget,this._getDelegateConfig())}_isAnimated(){return this._config.animation||this.tip&&this.tip.classList.contains(Zo)}_isShown(){return this.tip&&this.tip.classList.contains(zi)}_createPopper(e){const n=Le(this._config.placement,[this,e,this._element]),s=$O[n.toUpperCase()];return bc(this._element,e,this._getPopperConfig(s))}_getOffset(){const{offset:e}=this._config;return typeof e=="string"?e.split(",").map(n=>Number.parseInt(n,10)):typeof e=="function"?n=>e(n,this._element):e}_resolvePossibleFunction(e){return Le(e,[this._element])}_getPopperConfig(e){const n={placement:e,modifiers:[{name:"flip",options:{fallbackPlacements:this._config.fallbackPlacements}},{name:"offset",options:{offset:this._getOffset()}},{name:"preventOverflow",options:{boundary:this._config.boundary}},{name:"arrow",options:{element:`.${this.constructor.NAME}-arrow`}},{name:"preSetPlacement",enabled:!0,phase:"beforeMain",fn:s=>{this._getTipElement().setAttribute("data-popper-placement",s.state.placement)}}]};return{...n,...Le(this._config.popperConfig,[n])}}_setListeners(){const e=this._config.trigger.split(" ");for(const n of e)if(n==="click")y.on(this._element,this.constructor.eventName(xO),this._config.selector,s=>{this._initializeOnDelegatedTarget(s).toggle()});else if(n!==SO){const s=n===zs?this.constructor.eventName(MO):this.constructor.eventName(PO),i=n===zs?this.constructor.eventName(kO):this.constructor.eventName(LO);y.on(this._element,s,this._config.selector,r=>{const o=this._initializeOnDelegatedTarget(r);o._activeTrigger[r.type==="focusin"?ea:zs]=!0,o._enter()}),y.on(this._element,i,this._config.selector,r=>{const o=this._initializeOnDelegatedTarget(r);o._activeTrigger[r.type==="focusout"?ea:zs]=o._element.contains(r.relatedTarget),o._leave()})}this._hideModalHandler=()=>{this._element&&this.hide()},y.on(this._element.closest(Kh),Gh,this._hideModalHandler)}_fixTitle(){const e=this._element.getAttribute("title");e&&(!this._element.getAttribute("aria-label")&&!this._element.textContent.trim()&&this._element.setAttribute("aria-label",e),this._element.setAttribute("data-bs-original-title",e),this._element.removeAttribute("title"))}_enter(){if(this._isShown()||this._isHovered){this._isHovered=!0;return}this._isHovered=!0,this._setTimeout(()=>{this._isHovered&&this.show()},this._config.delay.show)}_leave(){this._isWithActiveTrigger()||(this._isHovered=!1,this._setTimeout(()=>{this._isHovered||this.hide()},this._config.delay.hide))}_setTimeout(e,n){clearTimeout(this._timeout),this._timeout=setTimeout(e,n)}_isWithActiveTrigger(){return Object.values(this._activeTrigger).includes(!0)}_getConfig(e){const n=Dt.getDataAttributes(this._element);for(const s of Object.keys(n))CO.has(s)&&delete n[s];return e={...n,...typeof e=="object"&&e?e:{}},e=this._mergeConfigObj(e),e=this._configAfterMerge(e),this._typeCheckConfig(e),e}_configAfterMerge(e){return e.container=e.container===!1?document.body:sn(e.container),typeof e.delay=="number"&&(e.delay={show:e.delay,hide:e.delay}),typeof e.title=="number"&&(e.title=e.title.toString()),typeof e.content=="number"&&(e.content=e.content.toString()),e}_getDelegateConfig(){const e={};for(const[n,s]of Object.entries(this._config))this.constructor.Default[n]!==s&&(e[n]=s);return e.selector=!1,e.trigger="manual",e}_disposePopper(){this._popper&&(this._popper.destroy(),this._popper=null),this.tip&&(this.tip.remove(),this.tip=null)}static jQueryInterface(e){return this.each(function(){const n=Fs.getOrCreateInstance(this,e);if(typeof e=="string"){if(typeof n[e]>"u")throw new TypeError(`No method named "${e}"`);n[e]()}})}}Je(Fs);const BO="popover",HO=".popover-header",WO=".popover-body",jO={...Fs.Default,content:"",offset:[0,8],placement:"right",template:'<div class="popover" role="tooltip"><div class="popover-arrow"></div><h3 class="popover-header"></h3><div class="popover-body"></div></div>',trigger:"click"},UO={...Fs.DefaultType,content:"(null|string|element|function)"};class Ic extends Fs{static get Default(){return jO}static get DefaultType(){return UO}static get NAME(){return BO}_isWithContent(){return this._getTitle()||this._getContent()}_getContentForTemplate(){return{[HO]:this._getTitle(),[WO]:this._getContent()}}_getContent(){return this._resolvePossibleFunction(this._config.content)}static jQueryInterface(e){return this.each(function(){const n=Ic.getOrCreateInstance(this,e);if(typeof e=="string"){if(typeof n[e]>"u")throw new TypeError(`No method named "${e}"`);n[e]()}})}}Je(Ic);const KO="scrollspy",GO="bs.scrollspy",Sc=`.${GO}`,qO=".data-api",zO=`activate${Sc}`,qh=`click${Sc}`,YO=`load${Sc}${qO}`,QO="dropdown-item",Xn="active",XO='[data-bs-spy="scroll"]',ta="[href]",JO=".nav, .list-group",zh=".nav-link",ZO=".nav-item",eR=".list-group-item",tR=`${zh}, ${ZO} > ${zh}, ${eR}`,nR=".dropdown",sR=".dropdown-toggle",iR={offset:null,rootMargin:"0px 0px -25%",smoothScroll:!1,target:null,threshold:[.1,.5,1]},rR={offset:"(number|null)",rootMargin:"string",smoothScroll:"boolean",target:"element",threshold:"array"};class go extends ft{constructor(e,n){super(e,n),this._targetLinks=new Map,this._observableSections=new Map,this._rootElement=getComputedStyle(this._element).overflowY==="visible"?null:this._element,this._activeTarget=null,this._observer=null,this._previousScrollData={visibleEntryTop:0,parentScrollTop:0},this.refresh()}static get Default(){return iR}static get DefaultType(){return rR}static get NAME(){return KO}refresh(){this._initializeTargetsAndObservables(),this._maybeEnableSmoothScroll(),this._observer?this._observer.disconnect():this._observer=this._getNewObserver();for(const e of this._observableSections.values())this._observer.observe(e)}dispose(){this._observer.disconnect(),super.dispose()}_configAfterMerge(e){return e.target=sn(e.target)||document.body,e.rootMargin=e.offset?`${e.offset}px 0px -30%`:e.rootMargin,typeof e.threshold=="string"&&(e.threshold=e.threshold.split(",").map(n=>Number.parseFloat(n))),e}_maybeEnableSmoothScroll(){this._config.smoothScroll&&(y.off(this._config.target,qh),y.on(this._config.target,qh,ta,e=>{const n=this._observableSections.get(e.target.hash);if(n){e.preventDefault();const s=this._rootElement||window,i=n.offsetTop-this._element.offsetTop;if(s.scrollTo){s.scrollTo({top:i,behavior:"smooth"});return}s.scrollTop=i}}))}_getNewObserver(){const e={root:this._rootElement,threshold:this._config.threshold,rootMargin:this._config.rootMargin};return new IntersectionObserver(n=>this._observerCallback(n),e)}_observerCallback(e){const n=o=>this._targetLinks.get(`#${o.target.id}`),s=o=>{this._previousScrollData.visibleEntryTop=o.target.offsetTop,this._process(n(o))},i=(this._rootElement||document.documentElement).scrollTop,r=i>=this._previousScrollData.parentScrollTop;this._previousScrollData.parentScrollTop=i;for(const o of e){if(!o.isIntersecting){this._activeTarget=null,this._clearActiveClass(n(o));continue}const a=o.target.offsetTop>=this._previousScrollData.visibleEntryTop;if(r&&a){if(s(o),!i)return;continue}!r&&!a&&s(o)}}_initializeTargetsAndObservables(){this._targetLinks=new Map,this._observableSections=new Map;const e=L.find(ta,this._config.target);for(const n of e){if(!n.hash||rn(n))continue;const s=L.findOne(decodeURI(n.hash),this._element);ks(s)&&(this._targetLinks.set(decodeURI(n.hash),n),this._observableSections.set(n.hash,s))}}_process(e){this._activeTarget!==e&&(this._clearActiveClass(this._config.target),this._activeTarget=e,e.classList.add(Xn),this._activateParents(e),y.trigger(this._element,zO,{relatedTarget:e}))}_activateParents(e){if(e.classList.contains(QO)){L.findOne(sR,e.closest(nR)).classList.add(Xn);return}for(const n of L.parents(e,JO))for(const s of L.prev(n,tR))s.classList.add(Xn)}_clearActiveClass(e){e.classList.remove(Xn);const n=L.find(`${ta}.${Xn}`,e);for(const s of n)s.classList.remove(Xn)}static jQueryInterface(e){return this.each(function(){const n=go.getOrCreateInstance(this,e);if(typeof e=="string"){if(n[e]===void 0||e.startsWith("_")||e==="constructor")throw new TypeError(`No method named "${e}"`);n[e]()}})}}y.on(window,YO,()=>{for(const t of L.find(XO))go.getOrCreateInstance(t)});Je(go);const oR="tab",aR="bs.tab",Un=`.${aR}`,lR=`hide${Un}`,cR=`hidden${Un}`,uR=`show${Un}`,hR=`shown${Un}`,fR=`click${Un}`,dR=`keydown${Un}`,pR=`load${Un}`,_R="ArrowLeft",Yh="ArrowRight",gR="ArrowUp",Qh="ArrowDown",na="Home",Xh="End",Tn="active",Jh="fade",sa="show",mR="dropdown",fg=".dropdown-toggle",vR=".dropdown-menu",ia=`:not(${fg})`,ER='.list-group, .nav, [role="tablist"]',yR=".nav-item, .list-group-item",bR=`.nav-link${ia}, .list-group-item${ia}, [role="tab"]${ia}`,dg='[data-bs-toggle="tab"], [data-bs-toggle="pill"], [data-bs-toggle="list"]',ra=`${bR}, ${dg}`,CR=`.${Tn}[data-bs-toggle="tab"], .${Tn}[data-bs-toggle="pill"], .${Tn}[data-bs-toggle="list"]`;class As extends ft{constructor(e){super(e),this._parent=this._element.closest(ER),this._parent&&(this._setInitialAttributes(this._parent,this._getChildren()),y.on(this._element,dR,n=>this._keydown(n)))}static get NAME(){return oR}show(){const e=this._element;if(this._elemIsActive(e))return;const n=this._getActiveElem(),s=n?y.trigger(n,lR,{relatedTarget:e}):null;y.trigger(e,uR,{relatedTarget:n}).defaultPrevented||s&&s.defaultPrevented||(this._deactivate(n,e),this._activate(e,n))}_activate(e,n){if(!e)return;e.classList.add(Tn),this._activate(L.getElementFromSelector(e));const s=()=>{if(e.getAttribute("role")!=="tab"){e.classList.add(sa);return}e.removeAttribute("tabindex"),e.setAttribute("aria-selected",!0),this._toggleDropDown(e,!0),y.trigger(e,hR,{relatedTarget:n})};this._queueCallback(s,e,e.classList.contains(Jh))}_deactivate(e,n){if(!e)return;e.classList.remove(Tn),e.blur(),this._deactivate(L.getElementFromSelector(e));const s=()=>{if(e.getAttribute("role")!=="tab"){e.classList.remove(sa);return}e.setAttribute("aria-selected",!1),e.setAttribute("tabindex","-1"),this._toggleDropDown(e,!1),y.trigger(e,cR,{relatedTarget:n})};this._queueCallback(s,e,e.classList.contains(Jh))}_keydown(e){if(![_R,Yh,gR,Qh,na,Xh].includes(e.key))return;e.stopPropagation(),e.preventDefault();const n=this._getChildren().filter(i=>!rn(i));let s;if([na,Xh].includes(e.key))s=n[e.key===na?0:n.length-1];else{const i=[Yh,Qh].includes(e.key);s=Cc(n,e.target,i,!0)}s&&(s.focus({preventScroll:!0}),As.getOrCreateInstance(s).show())}_getChildren(){return L.find(ra,this._parent)}_getActiveElem(){return this._getChildren().find(e=>this._elemIsActive(e))||null}_setInitialAttributes(e,n){this._setAttributeIfNotExists(e,"role","tablist");for(const s of n)this._setInitialAttributesOnChild(s)}_setInitialAttributesOnChild(e){e=this._getInnerElement(e);const n=this._elemIsActive(e),s=this._getOuterElement(e);e.setAttribute("aria-selected",n),s!==e&&this._setAttributeIfNotExists(s,"role","presentation"),n||e.setAttribute("tabindex","-1"),this._setAttributeIfNotExists(e,"role","tab"),this._setInitialAttributesOnTargetPanel(e)}_setInitialAttributesOnTargetPanel(e){const n=L.getElementFromSelector(e);n&&(this._setAttributeIfNotExists(n,"role","tabpanel"),e.id&&this._setAttributeIfNotExists(n,"aria-labelledby",`${e.id}`))}_toggleDropDown(e,n){const s=this._getOuterElement(e);if(!s.classList.contains(mR))return;const i=(r,o)=>{const a=L.findOne(r,s);a&&a.classList.toggle(o,n)};i(fg,Tn),i(vR,sa),s.setAttribute("aria-expanded",n)}_setAttributeIfNotExists(e,n,s){e.hasAttribute(n)||e.setAttribute(n,s)}_elemIsActive(e){return e.classList.contains(Tn)}_getInnerElement(e){return e.matches(ra)?e:L.findOne(ra,e)}_getOuterElement(e){return e.closest(yR)||e}static jQueryInterface(e){return this.each(function(){const n=As.getOrCreateInstance(this);if(typeof e=="string"){if(n[e]===void 0||e.startsWith("_")||e==="constructor")throw new TypeError(`No method named "${e}"`);n[e]()}})}}y.on(document,fR,dg,function(t){["A","AREA"].includes(this.tagName)&&t.preventDefault(),!rn(this)&&As.getOrCreateInstance(this).show()});y.on(window,pR,()=>{for(const t of L.find(CR))As.getOrCreateInstance(t)});Je(As);const wR="toast",TR="bs.toast",un=`.${TR}`,IR=`mouseover${un}`,SR=`mouseout${un}`,AR=`focusin${un}`,NR=`focusout${un}`,OR=`hide${un}`,RR=`hidden${un}`,DR=`show${un}`,xR=`shown${un}`,PR="fade",Zh="hide",Yi="show",Qi="showing",LR={animation:"boolean",autohide:"boolean",delay:"number"},MR={animation:!0,autohide:!0,delay:5e3};class mo extends ft{constructor(e,n){super(e,n),this._timeout=null,this._hasMouseInteraction=!1,this._hasKeyboardInteraction=!1,this._setListeners()}static get Default(){return MR}static get DefaultType(){return LR}static get NAME(){return wR}show(){if(y.trigger(this._element,DR).defaultPrevented)return;this._clearTimeout(),this._config.animation&&this._element.classList.add(PR);const n=()=>{this._element.classList.remove(Qi),y.trigger(this._element,xR),this._maybeScheduleHide()};this._element.classList.remove(Zh),Ri(this._element),this._element.classList.add(Yi,Qi),this._queueCallback(n,this._element,this._config.animation)}hide(){if(!this.isShown()||y.trigger(this._element,OR).defaultPrevented)return;const n=()=>{this._element.classList.add(Zh),this._element.classList.remove(Qi,Yi),y.trigger(this._element,RR)};this._element.classList.add(Qi),this._queueCallback(n,this._element,this._config.animation)}dispose(){this._clearTimeout(),this.isShown()&&this._element.classList.remove(Yi),super.dispose()}isShown(){return this._element.classList.contains(Yi)}_maybeScheduleHide(){this._config.autohide&&(this._hasMouseInteraction||this._hasKeyboardInteraction||(this._timeout=setTimeout(()=>{this.hide()},this._config.delay)))}_onInteraction(e,n){switch(e.type){case"mouseover":case"mouseout":{this._hasMouseInteraction=n;break}case"focusin":case"focusout":{this._hasKeyboardInteraction=n;break}}if(n){this._clearTimeout();return}const s=e.relatedTarget;this._element===s||this._element.contains(s)||this._maybeScheduleHide()}_setListeners(){y.on(this._element,IR,e=>this._onInteraction(e,!0)),y.on(this._element,SR,e=>this._onInteraction(e,!1)),y.on(this._element,AR,e=>this._onInteraction(e,!0)),y.on(this._element,NR,e=>this._onInteraction(e,!1))}_clearTimeout(){clearTimeout(this._timeout),this._timeout=null}static jQueryInterface(e){return this.each(function(){const n=mo.getOrCreateInstance(this,e);if(typeof e=="string"){if(typeof n[e]>"u")throw new TypeError(`No method named "${e}"`);n[e](this)}})}}fo(mo);Je(mo);let kR=Dv(MI);kR.mount("#app");
